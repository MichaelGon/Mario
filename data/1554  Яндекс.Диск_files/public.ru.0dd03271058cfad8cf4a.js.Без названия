!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=390)}([function(e,t){e.exports=React},function(e,t,n){e.exports=n(261)()},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(274),i=n(280),a=function(){function e(e,t,n){void 0===n&&(n="origin"),this.naming={stringify:t(i[n])},this.entity={block:e},this.entityMods={},this.entityMixes=[]}return e.prototype.e=function(e){return this.entity.elem=e,this},e.prototype.m=function(e){return this.entityMods=r({},this.entityMods,e),this},e.prototype.mix=function(e){return this.entityMixes=this.entityMixes.concat(e&&e.length?e:Array.prototype.slice.call(arguments,0)),this},e.prototype.entities=function(){var t=this,n=Object.keys(this.entityMods).reduce(function(e,n){return t.entityMods[n]&&e.push({block:t.entity.block,elem:t.entity.elem,mod:{name:n,val:t.entityMods[n]}}),e},[this.entity]);return this.entityMixes.reduce(function(t,n){return"string"==typeof n?t.concat(n):n instanceof e?t.concat(n.entities()):t},n)},e.prototype.stringify=function(){var e=this;return this.entities().map(function(t){return"string"==typeof t?t:e.naming.stringify(t)}).join(" ")},e.prototype.toString=function(){return this.stringify()},e.prototype.valueOf=function(){return this.stringify()},e}();t.default=function(e){return function(t){return new a(t,o,e)}}},function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"a",function(){return u});var r={WAITING_AUTH:"WAITING_AUTH",IN_PROGRESS:"IN_PROGRESS",DONE:"DONE",FAILED:"FAILED"},o={OPENED:"OPENED",OPENING:"OPENING",CLOSED:"CLOSED",CLOSING:"CLOSING"},i={TEXT:"TEXT",TEXT_BUTTON:"TEXT_BUTTON",ERROR_TEXT:"ERROR_TEXT"},a={SAVE_TO_DISK_SUCCESS:"SAVE_TO_DISK_SUCCESS",SAVE_TO_DISK_ERROR:"SAVE_TO_DISK_ERROR",SAVE_TO_DISK_ERROR_SPACE:"SAVE_TO_DISK_ERROR_SPACE"},s={NONE:"",ERROR:"error",DIR:"dir",IMAGE:"image",VIDEO:"video",AUDIO:"audio",PREVIEW:"preview",ICON:"icon"},u={RESOURCES_ACTION_BAR:"resources-action-bar",SLIDER:"slider"}},function(e,t,n){"use strict";n.r(t),n.d(t,"CALL_API",function(){return r}),n.d(t,"UPDATE_UA",function(){return o}),n.d(t,"SET_URL",function(){return i}),n.d(t,"UPDATE_PATHNAME",function(){return a}),n.d(t,"ADD_QUERY_PARAMS",function(){return s}),n.d(t,"REMOVE_QUERY_PARAMS",function(){return u}),n.d(t,"UPDATE_ENVIRONMENT",function(){return c}),n.d(t,"UPDATE_SERVICES",function(){return l}),n.d(t,"UPDATE_USER",function(){return p}),n.d(t,"UPDATE_USERS",function(){return f}),n.d(t,"UPDATE_AUTH_ORIGINS",function(){return d}),n.d(t,"OPEN_PANE",function(){return h}),n.d(t,"CLOSE_PANE",function(){return m}),n.d(t,"OPEN_SLIDER",function(){return y}),n.d(t,"CLOSE_SLIDER",function(){return v}),n.d(t,"OPEN_DOWNLOAD_VIRUS_DIALOG",function(){return b}),n.d(t,"CLOSE_DOWNLOAD_VIRUS_DIALOG",function(){return _}),n.d(t,"ADD_WAITING_AUTH_ACTION",function(){return g}),n.d(t,"CLEAR_WAITING_AUTH_ACTIONS",function(){return O}),n.d(t,"UPSERT_OPERATION",function(){return w}),n.d(t,"FETCH_COMMENTS_START",function(){return E}),n.d(t,"FETCH_COMMENTS_SUCCESS",function(){return k}),n.d(t,"FETCH_COMMENTS_ERROR",function(){return C}),n.d(t,"ADD_COMMENT_START",function(){return x}),n.d(t,"ADD_COMMENT_ERROR",function(){return T}),n.d(t,"ADD_COMMENT_SUCCESS",function(){return S}),n.d(t,"DELETE_COMMENT",function(){return P}),n.d(t,"RESTORE_COMMENT",function(){return j}),n.d(t,"SET_ATTITUDE",function(){return I}),n.d(t,"SELECT_COMMENT",function(){return R}),n.d(t,"DESELECT_COMMENT",function(){return M}),n.d(t,"SCROLL_TO_COMMENT",function(){return D}),n.d(t,"REMOVE_SCROLL_TO_COMMENT_PROP",function(){return A}),n.d(t,"SAVE_TEXTAREA_VALUE",function(){return L}),n.d(t,"REMOVE_TEXTAREA_VALUE",function(){return N}),n.d(t,"RESTORE_TEXTAREAS_VALUES",function(){return z}),n.d(t,"CHANGE_NOTIFICATIONS_STATE",function(){return U}),n.d(t,"ADD_NOTIFICATION",function(){return V}),n.d(t,"UPDATE_ROOT_RESOURCE_ID",function(){return B}),n.d(t,"UPDATE_CURRENT_RESOURCE_ID",function(){return F}),n.d(t,"UPDATE_RESOURCES",function(){return H}),n.d(t,"UPDATE_ONE_RESOURCE",function(){return W}),n.d(t,"SET_SELECTED_RESOURCES",function(){return G}),n.d(t,"FETCH_RESOURCES_LIST_START",function(){return q}),n.d(t,"FETCH_RESOURCES_LIST_SUCCESS",function(){return K}),n.d(t,"FETCH_RESOURCES_LIST_ERROR",function(){return Y}),n.d(t,"SET_ACTION_BARS_VISIBILITY",function(){return X}),n.d(t,"SET_LISTING_TYPE",function(){return Z});var r="CALL_API",o="UPDATE_UA",i="SET_URL",a="UPDATE_PATHNAME",s="ADD_QUERY_PARAMS",u="REMOVE_QUERY_PARAMS",c="UPDATE_ENVIRONMENT",l="UPDATE_SERVICES",p="UPDATE_USER",f="UPDATE_USERS",d="UPDATE_AUTH_ORIGINS",h="OPEN_PANE",m="CLOSE_PANE",y="OPEN_SLIDER",v="CLOSE_SLIDER",b="OPEN_DOWNLOAD_VIRUS_DIALOG",_="CLOSE_DOWNLOAD_VIRUS_DIALOG",g="ADD_WAITING_AUTH_ACTION",O="CLEAR_WAITING_AUTH_ACTIONS",w="UPSERT_OPERATION",E="FETCH_COMMENTS_START",k="FETCH_COMMENTS_SUCCESS",C="FETCH_COMMENTS_ERROR",x="ADD_COMMENT_START",T="ADD_COMMENT_ERROR",S="ADD_COMMENT_SUCCESS",P="DELETE_COMMENT",j="RESTORE_COMMENT",I="SET_ATTITUDE",R="SELECT_COMMENT",M="DESELECT_COMMENT",D="SCROLL_TO_COMMENT",A="REMOVE_SCROLL_TO_COMMENT_PROP",L="SAVE_TEXTAREA_VALUE",N="REMOVE_TEXTAREA_VALUE",z="RESTORE_TEXTAREAS_VALUES",U="CHANGE_NOTIFICATIONS_STATE",V="ADD_NOTIFICATION",B="UPDATE_ROOT_RESOURCE_ID",F="UPDATE_CURRENT_RESOURCE_ID",H="UPDATE_RESOURCES",W="UPDATE_ONE_RESOURCE",G="SET_SELECTED_RESOURCES",q="FETCH_RESOURCES_LIST_START",K="FETCH_RESOURCES_LIST_SUCCESS",Y="FETCH_RESOURCES_LIST_ERROR",X="SET_ACTION_BARS_VISIBILITY",Z="SET_LISTING_TYPE"},function(e,t,n){"use strict";n.d(t,"f",function(){return l}),n.d(t,"I",function(){return p}),n.d(t,"C",function(){return f}),n.d(t,"F",function(){return d}),n.d(t,"E",function(){return h}),n.d(t,"B",function(){return m}),n.d(t,"c",function(){return v}),n.d(t,"w",function(){return b}),n.d(t,"H",function(){return _}),n.d(t,"D",function(){return g}),n.d(t,"G",function(){return O}),n.d(t,"d",function(){return w}),n.d(t,"g",function(){return E}),n.d(t,"z",function(){return k}),n.d(t,"t",function(){return C}),n.d(t,"i",function(){return x}),n.d(t,"u",function(){return T}),n.d(t,"j",function(){return S}),n.d(t,"p",function(){return P}),n.d(t,"h",function(){return j}),n.d(t,"n",function(){return I}),n.d(t,"o",function(){return R}),n.d(t,"A",function(){return M}),n.d(t,"k",function(){return D}),n.d(t,"J",function(){return A}),n.d(t,"l",function(){return L}),n.d(t,"e",function(){return N}),n.d(t,"r",function(){return z}),n.d(t,"s",function(){return U}),n.d(t,"v",function(){return V}),n.d(t,"q",function(){return B}),n.d(t,"b",function(){return F}),n.d(t,"a",function(){return H}),n.d(t,"x",function(){return W}),n.d(t,"m",function(){return G}),n.d(t,"y",function(){return q});var r=n(4),o=n(209),i=n(24),a=n(3),s=n(22),u=n(6),c=n(8),l=function(e,t,n,o){return"string"==typeof n&&(o=n,n=!1),{type:r.CALL_API,method:e,params:t,needAuth:n,origin:o}},p=function(e){return{type:r.UPDATE_USER,user:e}},f=function(e){return{type:r.UPDATE_CURRENT_RESOURCE_ID,id:e}},d=function(e,t){return{type:r.UPDATE_RESOURCES,payload:{resources:e,replaceChildren:t}}},h=function(e,t){return{type:r.UPDATE_ONE_RESOURCE,payload:{resourceId:e,resource:t}}},m=function(){return function(e,t){var n=Object(i.b)(t().url);if(location.href!==n){var r=t(),o=r.currentResourceId,a=r.overlays,s=a.sliderResourceId,u=a.activePane;window.history.pushState({currentResourceId:o,sliderResourceId:s,activePane:u},"",n)}}},y=function(e){return{type:r.ADD_QUERY_PARAMS,params:e}},v=function(e){return function(t){t(y(e)),t(m())}},b=function(e){return function(t){t(function(e){return{type:r.REMOVE_QUERY_PARAMS,params:e}}(e)),t(m())}},_=function(){return function(e,t){var n=t(),o=n.resources,i=n.currentResourceId,a=n.overlays.sliderResourceId,s=n.url,u=a?o[a]:o[i];if(u){var c=s.pathname.match(/^(\/[di]\/[^\/]+)/);if(c){var l=(u.parent?u.path||u.hash:"").split(":").slice(1).join(":"),p=c[1]+l;e(function(e){return{type:r.UPDATE_PATHNAME,pathname:e}}(p=p.split("/").map(function(e){return encodeURIComponent(e)}).join("/")))}else s.query.hash&&e(y({hash:u.path||u.hash}));e(m())}}},g=function(e){return{type:r.UPDATE_ENVIRONMENT,environment:e}},O=function(e){return{type:r.UPDATE_SERVICES,services:e}},w=function(e,t){return{type:r.ADD_WAITING_AUTH_ACTION,name:e,value:t}},E=function(){return{type:r.CLEAR_WAITING_AUTH_ACTIONS}},k=function(e){return{type:r.SET_SELECTED_RESOURCES,selectedResources:e}},C=function(e){return function(t){t({type:r.OPEN_PANE,pane:e}),t(v({pane:e.type}))}},x=function(){return function(e){e({type:r.CLOSE_PANE}),e(b(["pane"]))}},T=function(e){return function(t){t(function(e){return{type:r.OPEN_SLIDER,resourceId:e}}(e)),t(_())}},S=function(){return function(e){e({type:r.CLOSE_SLIDER}),e(_())}},P=function(e){return{type:r.OPEN_DOWNLOAD_VIRUS_DIALOG,resourceId:e}},j=function(){return{type:r.CLOSE_DOWNLOAD_VIRUS_DIALOG}},I=function(e){return function(t,n){var r=n(),o=r.services.docviewer,i=r.resources[e].dvSearch;o&&i&&window.open(o+"/"+i,"_blank")}},R=function(e){return function(t,n){var r=n(),o=r.resources,i=r.overlays.sliderResourceId;o[e].virus||(t(I(e)),e===i&&Object(c.i)("open in DV"))}},M=function(){return function(e,t){var n=t(),r=n.resources[n.rootResourceId],o=r.name,i=r.type,a=r.meta.short_url,s=void 0,c=void 0;"dir"===i?(s=Object(u.i18n)("ru","actions","ufo_send_folder_mail_subject",{name:o}),c=Object(u.i18n)("ru","actions","ufo_send_folder_mail_body",{name:o})):(s=Object(u.i18n)("ru","actions","ufo_send_file_mail_subject",{name:o}),c=Object(u.i18n)("ru","actions","ufo_send_file_mail_body",{name:o})),navigator.share({url:a,title:s,text:c})}},D=function(){return function(e,t){var n=t(),r=n.resources[n.rootResourceId].meta.short_url;e(o.a.copy(r)?Object(s.c)({mode:a.c.TEXT,text:Object(u.i18n)("ru","entities","ufo_copy_link_success")}):Object(s.c)({mode:a.c.ERROR_TEXT,text:Object(u.i18n)("ru","entities","ufo_copy_link_failed")}))}},A=function(e){var t=e.operation,n=e.resourceId,o=e.state,i=e.params;return{type:r.UPSERT_OPERATION,operation:t,resourceId:n,state:o,params:i}},L=function(e,t){return function(n,r){var o=r(),a=o.url,s=o.services.passport,u=Object(i.b)(a),c=Object(i.b)({host:s.replace(/^https?:\/\//,""),pathname:t||"/auth",query:Object.assign({retpath:u},e||{})});return location.assign(c),Promise.resolve()}},N=function(){return function(e,t){var n=t(),r=n.ua.isMobile,o=n.user,i=o.loading,a=o.auth,s=r?"touch":"web";return i?e(w("auth",{noAuth:!0})):a?void 0:e(L({origin:"disk_public_"+s+"_signin"}))}},z=function(e){return function(t,n){var r=n(),o=r.user.loginMd5,i=r.ua.OSFamily,a=r.operations.save,s=a&&a[e];if("Android"===i&&s){var u=s.path.split("/");u.pop();var c=u.join("/"),l="https://redirect.appmetrica.yandex.com/serve/96639634120940843?"+("user="+o+"&path="+encodeURIComponent(c)+"&file="+encodeURIComponent(s.name));window.open(l,"_blank")}}},U=function(e){return function(t,n){var r=n(),o=r.services.disk,i=r.operations.save,a=i&&i[e];if(a){var s=void 0,u=encodeURIComponent(a.path);if("folder"===a.type)s=a.path.split("/").slice(0,-1).join("/")+"?dialog=select&idDialog="+u;else s="/recent?dialog=select&idDialog="+u;window.open(o+"/client"+s+"&skip-promo=1","_blank")}}},V=function(e){return function(t,n){var r=n(),o=r.services.disk,i=r.operations.save,a=i&&i[e];if(a){var s=void 0;if("folder"===a.type)s=o+"/client"+a.path.split("/").slice(0,-1).join("/");else s=o+"/client/recent?idResourceDownload="+encodeURIComponent(a.path);location.assign(s)}}},B=function(e){return function(t,n){t("Android"===n().ua.OSFamily?C({type:"open-app",resourceId:e}):U(e))}},F=function(e){return{type:r.ADD_NOTIFICATION,notification:e}},H=function(e){return{type:r.CHANGE_NOTIFICATIONS_STATE,state:e}},W=function(e){return{type:r.SET_ACTION_BARS_VISIBILITY,state:e}},G=function(){return function(e,t){var n=t(),r=n.url.query;n.resources[n.rootResourceId].commentsDisabled||(r.cid&&e(g({selectedComment:parseInt(r.cid,10)})),(r.cid||"comments"===r.pane)&&e(C({type:"comments"})))}},q=function(e){return{type:r.SET_LISTING_TYPE,listingType:e}}},function(e,t,n){"use strict";var r=n(144),o=n(264);e.exports={setTankerProjectId:r.setTankerProjectId,addTranslation:r.addTranslation,i18n:r.getKey,I18N:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.declMod=t.decl=void 0;var r=u(n(122)),o=u(n(266)),i=u(n(267)),a=u(n(268)),s=u(n(270));function u(e){return e&&e.__esModule?e:{default:e}}var c=0,l=new a.default({elementSeparator:"__",modSeparator:"_",modValueSeparator:"_"}),p=(0,r.default)(i.default,{willInit:function(){this.state={},this.__uniqId={}},generateId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"__uniqId";return this.__uniqId[e]?this.__uniqId[e]:this.__uniqId[e]="uniq$"+ ++c}},{classBuilder:l,bool2string:function(e){return!!e&&"yes"}}),f=(0,o.default)({},p,l),d=f.decl,h=f.declMod;t.decl=d,t.declMod=h,t.default=(0,s.default)(l)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"n",function(){return i}),n.d(t,"f",function(){return l}),n.d(t,"d",function(){return p}),n.d(t,"c",function(){return f}),n.d(t,"g",function(){return d}),n.d(t,"b",function(){return h}),n.d(t,"m",function(){return m}),n.d(t,"i",function(){return y}),n.d(t,"j",function(){return v}),n.d(t,"h",function(){return b}),n.d(t,"e",function(){return _}),n.d(t,"k",function(){return O}),n.d(t,"l",function(){return w}),n.d(t,"a",function(){return E});var o=void 0,i=function(e){o=function(e){if("undefined"==typeof window){var t=function(){};return{countObj:t,count:t}}var n=null,o=[function(){n=new window.Ya.Metrika(e)}],i=function e(t){n?n.params(t):o.push(function(){return e(t)})};return window.Ya&&window.Ya.Metrika?o.forEach(function(e){return e()}):window.yandex_metrika_callbacks=window.yandex_metrika_callbacks?window.yandex_metrika_callbacks.concat(o):o,{countObj:i,count:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var o=t.length,a=t[o-1],s=o-2;s>=0;s--)a=r({},t[s],a);i(a)}}}(Object.assign({id:15011071,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,ut:"noindex",tns:{account:"yandex_ru",tmsec:"yandex_disk"}},e))},a="window public",s="window viewer",u="window comments",c="window goto Disk",l=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=o).count.apply(e,[a].concat(n))},p=function(e){l("header",e)},f=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];l.apply(void 0,["footer"].concat(t))},d=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];l.apply(void 0,["menu"].concat(t))},h=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];l.apply(void 0,["folder"].concat(t))},m=function(e){l("video player",e)},y=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=o).count.apply(e,[s].concat(n))},v=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];y.apply(void 0,["menu"].concat(t))},b=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=o).count.apply(e,[c].concat(n))},_=function(e){o.count("window info",e)},g=function(e){return e&&"0"!==e?"1":"0"},O=function(e){var t=e.user,n=t.id,r=t.hasDisk,i=t.paid,a=t.hosted,s=t.b2b,u=(e.ua,e.resources),c=e.rootResourceId,l=e.environment,p=l.antiFileSharing,f=l.awaps,d=l.noAdv,h=l.experiments,m=u[c],y=m.errorCode,v=m.blocked,b=m.type,_=m.meta.mediatype;if(!y||404===y){var O=void 0;O=n&&"0"!==n?r&&"0"!==r?"auth with Disk":"auth no Disk":"noauth";var w=void 0;w=v?"blocked":404===y?"notfound":"dir"===b?p?"antiFO folder":"folder":p?{"antiFO file":_}:{file:_};var E=void 0,k=Boolean(y||v);E=d?"disable":f&&"banner"===f.type&&!k?"fullpromo":"direct";var C={stat:{stat:{b2b:g(s),has_disk:g(r),paid:g(i),pdd:g(a),uid:n},auth:O,"page type":w,ad:E}};0,h&&h.flags&&Object.keys(h.flags).length&&(C.experiments=h.flags),o.countObj(C)}},w=function(e,t){o.count("time-info",e*t/1e3)},E=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=[u].concat(n);(e=o).count.apply(e,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i))}},function(e,t,n){"use strict";var r=n(0),o=n(1),i=n.n(o),a=i.a.shape({trySubscribe:i.a.func.isRequired,tryUnsubscribe:i.a.func.isRequired,notifyNestedSubs:i.a.func.isRequired,isSubscribed:i.a.func.isRequired}),s=i.a.shape({subscribe:i.a.func.isRequired,dispatch:i.a.func.isRequired,getState:i.a.func.isRequired});var u=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1]||t+"Subscription",o=function(e){function o(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return i[t]=n.store,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),o.prototype.getChildContext=function(){var e;return(e={})[t]=this[t],e[n]=null,e},o.prototype.render=function(){return r.Children.only(this.props.children)},o}(r.Component);return o.propTypes={store:s.isRequired,children:i.a.element.isRequired},o.childContextTypes=((e={})[t]=s.isRequired,e[n]=a,e),o.displayName="Provider",o}(),c=n(206),l=n.n(c),p=n(106),f=n.n(p);var d=null,h={notify:function(){}};var m=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.parentSub=n,this.onStateChange=r,this.unsubscribe=null,this.listeners=h}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=function(){var e=[],t=[];return{clear:function(){t=d,e=d},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==d&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=h)},e}(),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var v=0,b={};function _(){}function g(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.getDisplayName,u=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,c=o.methodName,p=void 0===c?"connectAdvanced":c,d=o.renderCountProp,h=void 0===d?void 0:d,g=o.shouldHandleStateChanges,O=void 0===g||g,w=o.storeKey,E=void 0===w?"store":w,k=o.withRef,C=void 0!==k&&k,x=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(o,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),T=E+"Subscription",S=v++,P=((t={})[E]=s,t[T]=a,t),j=((n={})[T]=a,n);return function(t){f()("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",o=u(n),i=y({},x,{getDisplayName:u,methodName:p,renderCountProp:h,shouldHandleStateChanges:O,storeKey:E,withRef:C,displayName:o,wrappedComponentName:n,WrappedComponent:t}),a=function(n){function a(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,n.call(this,e,t));return r.version=S,r.state={},r.renderCount=0,r.store=e[E]||t[E],r.propsMode=Boolean(e[E]),r.setWrappedInstance=r.setWrappedInstance.bind(r),f()(r.store,'Could not find "'+E+'" in either the context or props of "'+o+'". Either wrap the root component in a <Provider>, or explicitly pass "'+E+'" as a prop to "'+o+'".'),r.initSelector(),r.initSubscription(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,n),a.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[T]=t||this.context[T],e},a.prototype.componentDidMount=function(){O&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},a.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},a.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},a.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=_,this.store=null,this.selector.run=_,this.selector.shouldComponentUpdate=!1},a.prototype.getWrappedInstance=function(){return f()(C,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+p+"() call."),this.wrappedInstance},a.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},a.prototype.initSelector=function(){var t=e(this.store.dispatch,i);this.selector=function(e,t){var n={run:function(r){try{var o=e(t.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}(t,this.store),this.selector.run(this.props)},a.prototype.initSubscription=function(){if(O){var e=(this.propsMode?this.props:this.context)[T];this.subscription=new m(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},a.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(b)):this.notifyNestedSubs()},a.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},a.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},a.prototype.addExtraProps=function(e){if(!(C||h||this.propsMode&&this.subscription))return e;var t=y({},e);return C&&(t.ref=this.setWrappedInstance),h&&(t[h]=this.renderCount++),this.propsMode&&this.subscription&&(t[T]=this.subscription),t},a.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(r.createElement)(t,this.addExtraProps(e.props))},a}(r.Component);return a.WrappedComponent=t,a.displayName=o,a.childContextTypes=j,a.contextTypes=P,a.propTypes=P,l()(a,t)}}var O=Object.prototype.hasOwnProperty;function w(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function E(e,t){if(w(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!O.call(t,n[o])||!w(e[n[o]],t[n[o]]))return!1;return!0}var k=n(34);n(57);function C(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function x(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function T(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=x(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=x(o),o=r(t,n)),o},r}}var S=[function(e){return"function"==typeof e?T(e):void 0},function(e){return e?void 0:C(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?C(function(t){return Object(k.b)(e,t)}):void 0}];var P=[function(e){return"function"==typeof e?T(e):void 0},function(e){return e?void 0:C(function(){return{}})}],j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function I(e,t,n){return j({},n,e,t)}var R=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r=n.pure,o=n.areMergedPropsEqual,i=!1,a=void 0;return function(t,n,s){var u=e(t,n,s);return i?r&&o(u,a)||(a=u):(i=!0,a=u),a}}}(e):void 0},function(e){return e?void 0:function(){return I}}];function M(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function D(e,t,n,r,o){var i=o.areStatesEqual,a=o.areOwnPropsEqual,s=o.areStatePropsEqual,u=!1,c=void 0,l=void 0,p=void 0,f=void 0,d=void 0;function h(o,u){var h=!a(u,l),m=!i(o,c);return c=o,l=u,h&&m?(p=e(c,l),t.dependsOnOwnProps&&(f=t(r,l)),d=n(p,f,l)):h?(e.dependsOnOwnProps&&(p=e(c,l)),t.dependsOnOwnProps&&(f=t(r,l)),d=n(p,f,l)):m?function(){var t=e(c,l),r=!s(t,p);return p=t,r&&(d=n(p,f,l)),d}():d}return function(o,i){return u?h(o,i):function(o,i){return p=e(c=o,l=i),f=t(r,l),d=n(p,f,l),u=!0,d}(o,i)}}function A(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,i),s=r(e,i),u=o(e,i);return(i.pure?D:M)(a,s,u,e,i)}var L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function N(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function z(e,t){return e===t}var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?g:t,r=e.mapStateToPropsFactories,o=void 0===r?P:r,i=e.mapDispatchToPropsFactories,a=void 0===i?S:i,s=e.mergePropsFactories,u=void 0===s?R:s,c=e.selectorFactory,l=void 0===c?A:c;return function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=i.pure,c=void 0===s||s,p=i.areStatesEqual,f=void 0===p?z:p,d=i.areOwnPropsEqual,h=void 0===d?E:d,m=i.areStatePropsEqual,y=void 0===m?E:m,v=i.areMergedPropsEqual,b=void 0===v?E:v,_=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),g=N(e,o,"mapStateToProps"),O=N(t,a,"mapDispatchToProps"),w=N(r,u,"mergeProps");return n(l,L({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:g,initMapDispatchToProps:O,initMergeProps:w,pure:c,areStatesEqual:f,areOwnPropsEqual:h,areStatePropsEqual:y,areMergedPropsEqual:b},_))}}();n.d(t,"a",function(){return u}),n.d(t,"b",function(){return U})},function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(0),a=n.n(i),s=n(2),u=n.n(s),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var l=function(){return u()()("ufo-icon")},p={s:12,m:16,l:24,xl:32,xxl:48,xxxl:64},f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),c(t,[{key:"_getClassName",value:function(){var e=this.props,t=e.size,n=e.mix,r=e.cls,o=l().m({size:t}).mix("icon");if(n){var i=n.filter(Boolean).map(function(e){return u()()(e.block).e(e.elem).m(e.mods)});o=o.mix(i)}return this.getClassName&&(o=this.getClassName(o)),r?o.mix(String(r)):o}},{key:"_getIconModifier",value:function(){if(!this._iconModifier){var e=this.constructor.name||function(e){var t=/^function\s+([\w$]+)\s*\(/.exec(e.toString());return t?t[1]:""}(this.constructor);this._iconModifier=e.replace(/Icon$/,"").replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}return this._iconModifier}},{key:"_getContent",value:function(){var e=this._getIconModifier();if(this.getContent)return this.getContent();var t=this._getDefaultSize&&p[this._getDefaultSize()]||p.m,n=this.props.iconSize&&p[this.props.iconSize]||t;return a.a.createElement("svg",{className:l().e("icon").m(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,!0)),width:n,height:n,onClick:this.props.onClick,viewBox:"0 0 "+t+" "+t},this.getContentSVG())}},{key:"render",value:function(){return a.a.createElement("span",{className:this._getClassName()},this._getContent())}}]),t}();f.propTypes={iconSize:o.a.oneOf(Object.keys(p)),onClick:o.a.func},f.defaultProps={onClick:function(){}},f.displayName="icon",t.a=f},function(e,t,n){"use strict";var r=n(6),o=n(0),i=n.n(o),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["Component"]),s(t,[{key:"render",value:function(){return i.a.createElement(r.I18N,a({lang:"ru"},this.props))}}]),t}();t.a=u},function(e,t){e.exports={RESOURCE_VIEWS:{NONE:"",ERROR:"error",DIR:"dir",IMAGE:"image",VIDEO:"video",AUDIO:"audio",PREVIEW:"preview",ICON:"icon"},SOCIAL:{MAIL:"mail",VK:"vkontakte",TW:"twitter",FB:"facebook",OK:"odnoklassniki",LJ:"lj",GPLUS:"gplus",MOIMIR:"moimir",GOOGLE:"google",INSTAGRAM:"instagram",QR:"qr"},SERVICES:{DISK:"disk",SEARCH:"search",CALENDAR:"calendar",MAIL:"mail",MONEY:"money",IMAGES:"images",NEWS:"news",MAPS:"maps",MARKET:"market",WEATHER:"pogoda",TV:"tv",MUSIC:"music",AFISHA:"afisha",BROWSER:"browser",METRIKA:"metrika",DIRECT:"direct"}}},function(e,t,n){"use strict";var r=n(14);n(50),n(78);t.a=r.a},function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(107),a=n.n(i),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a),s(t,[{key:"mods",value:function(e){return Object.assign({"centered-icon":a.a.bool2string(e.centeredIcon)},function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mods",this).call(this,e))}}]),t}();u.propTypes=Object.assign(a.a.propTypes,{size:o.a.oneOf(["ns","xs","s","m","l","n","head","ufo-xxl","ufo-xxxl"])}),t.a=u},function(e,t,n){"use strict";var r=n(70),o=n.n(r);n(87),n(182);t.a=o.a},function(e,t,n){"use strict";var r=n(5),o=function(e,t){t?window.location.assign(e):(function(){var e=document.getElementById("download-iframe");return e||((e=document.createElement("iframe")).id="download-iframe",e.style.display="none",document.body.appendChild(e)),e}()).src=e},i=n(3),a=n(8),s=n(22),u=n(6),c=n(25),l=n.n(c);n.d(t,"c",function(){return f}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return h}),n.d(t,"g",function(){return m}),n.d(t,"e",function(){return y}),n.d(t,"f",function(){return v}),n.d(t,"d",function(){return b});var p=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e?a.i.apply(void 0,["save status"].concat(n)):a.f.apply(void 0,["save status"].concat(n))},f=function(e){return e.path||e.hash},d=function(e){return function(t,n){var o=n(),i=o.resources,a=o.user.auth,s=i[e];return t(r.f("download-url",{hash:f(s)},a)).then(function(e){var t=e.error,n=e.data;return t||!n?Promise.reject():n.url})}},h=function(e){return function(t,n){t(r.J({operation:"download",resourceId:e,state:i.e.IN_PROGRESS}));var a=n().ua.isMobile;return t(d(e)).then(function(n){o(n,a),t(r.J({operation:"download",resourceId:e,state:i.e.DONE}))}).catch(function(){t(r.J({operation:"download",resourceId:e,state:i.e.FAILED})),t(Object(s.c)({mode:i.c.ERROR_TEXT,text:Object(u.i18n)("ru","view-aside-public","ufo_cant_download")}))})}},m=function(e,t){return function(n,o){var a=o(),c=a.ua.isMobile,d=a.resources,h=a.user,m=h.loading,y=h.auth,v=h.lang,b=h.id,_=h.hasPassword,g=a.environment.antiFileSharing,O=d[e],w=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=o.error,c=o.extra;n(r.J({operation:"save",resourceId:e,state:i.e.FAILED}));var l=Object(u.i18n)("ru","view-public","ufo_save_error"),f=i.d.SAVE_TO_DISK_ERROR,d=a&&(a.message||a.title)||"unknown",h=void 0;if(a&&a.code)switch(d=a.code+" / "+d,a.code){case 85:case 59:l=Object(u.i18n)("ru","view-aside-public","ufo_aside_public_save_failed_nospace_2"),f=i.d.SAVE_TO_DISK_ERROR_SPACE,h={tariff:c&&c.minSpaceTariff}}n(Object(s.c)({mode:i.c.ERROR_TEXT,resourceId:e,text:l,type:f,extraData:h})),p(t,"error",d)},E=c?"touch":"web";if(m)return n(r.J({operation:"save",resourceId:e,state:i.e.WAITING_AUTH})),n(r.d("save",{auth:!0,noAuth:!0,noPassword:!0,resourceId:e}));if(!y||!_){var k=new Date;k.setHours(k.getHours()+1),l.a.set("save-to-disk",e,{expires:k});var C="/auth",x={origin:"disk_public_"+E+"_copy"+(g?"_limit":"")};return y&&!_&&(C="/passport",x=Object.assign(x,{mode:"postregistration",from:"cloud",create_login:1,create_password:1,uid:b})),n(r.l(x,C)).catch(w)}p(t,"start"),n(r.J({operation:"save",resourceId:e,state:i.e.IN_PROGRESS}));var T="dir"===O.type;if(T){var S=T?Object(u.i18n)("ru","view-aside-public","ufo_aside_public_save_async"):Object(u.i18n)("ru","view-public","ufo_saving_progress");n(Object(s.c)({mode:i.c.TEXT,text:S}))}return n(r.f("save",{hash:f(O),name:O.name,lang:v,source:"public_"+E+"_copy"+(g?"_limit":"")},!0)).then(function(t){var o=t.error,a=t.data;if(o)return Promise.reject({error:{code:a.code},extra:a.extra});var s=a.oid,u=a.path,c=a.name;return T&&n(r.J({operation:"save",resourceId:e,state:i.e.DONE,params:{type:"folder",path:u,name:c}})),new Promise(function(e,t){!function o(){n(r.f("get-save-operation-status",{oid:s,lang:v},!0)).then(function(n){switch(n.data.status){case"WAITING":case"EXECUTING":setTimeout(o,1e3);break;case"DONE":e({path:n.data.resource.path,name:n.data.resource.name});break;case"FAILED":t(n.data);break;default:t()}}).catch(t)}()})}).then(function(o){var a=o.path,c=o.name;n(r.J({operation:"save",resourceId:e,state:i.e.DONE,params:{type:T?"folder":"file",path:a,name:c}})),n(Object(s.c)({mode:i.c.TEXT_BUTTON,text:Object(u.i18n)("ru","view-public","ufo_save_success"),type:i.d.SAVE_TO_DISK_SUCCESS,buttonText:Object(u.i18n)("ru","view-public","ufo_goto"),buttonAction:"OPEN_APP",resourceId:e,isEternal:T})),p(t,"saved")}).catch(w)}},y=function(){return function(e,t){var n=t(),o=n.waitingAuthActions,a=n.user,c=a.auth,l=a.hasPassword,p=n.ua.isSmartphone,f=void 0;if(f=c?l?"auth":"noPassword":"noAuth",o.save&&o.save[f]&&e(m(o.save.resourceId)),o.auth&&o.auth[f]&&e(r.e()),o.antiFileSharing&&p){var d=!1;c?c&&!o.save?d=!0:c&&o.save&&o.save.resourceId!==o.antiFileSharing.resourceId&&(d=!0):d=!0,d&&e(Object(s.c)({mode:i.c.TEXT,text:Object(u.i18n)("ru","view-aside-public","ufo_aside_public_warning_download_blocked")}))}e(r.g())}},v=function(){return function(e,t){var n=t(),o=n.resources[n.rootResourceId].meta.shortUrl;o&&e(r.f("lenta-public-log-visit",{shortUrl:o},!0))}},b=function(e){return function(t,n){var o=n().resources[e];!o||o.videoStreams||o.videoStreamsFetchError||t(r.f("get-video-streams",{hash:f(o)})).then(function(n){if(n.error||!n.data)return Promise.reject();t(r.E(e,{videoStreams:n.data}))}).catch(function(){return t(r.E(e,{videoStreamsFetchError:!0}))})}}},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";var r=n(70),o=n.n(r),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a),i(t,[{key:"mods",value:function(e){return Object.assign({"text-color-icon":o.a.bool2string(e.textColorIcon)},function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mods",this).call(this,e))}}]),t}();t.a=a},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(3),o=n(52),i=function(e){if(!e)return r.f.NONE;if(e.errorCode||e.blocked)return r.f.ERROR;if("dir"===e.type)return r.f.DIR;var t=e.meta;if(t){if("image"===t.mediatype&&t.hasPreview)return r.f.IMAGE;if("video"===t.mediatype&&!e.videoStreamsFetchError)return r.f.VIDEO;if("audio"===t.mediatype&&Object(o.a)(t.mimetype))return r.f.AUDIO;if(t.hasPreview)return r.f.PREVIEW}return r.f.ICON}},function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"b",function(){return b});var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(2),u=n.n(s),c=n(38),l=n(71),p=n(213),f=n.n(p),d=(n(310),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function m(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var y=function(){return u()()("listing")},v="js-prevent-deselect",b="js-prevent-mouse-selection",_=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i.state={titleWidth:i._getTitleWidth()},i._itemsRefs={},i._getItem=i._getItem.bind(i),i.resourceRef=i.resourceRef.bind(i),i._onSelectResource=i._onSelectResource.bind(i),i._onOpenResource=i._onOpenResource.bind(i),i._onDeselectAllClick=i._onDeselectAllClick.bind(i),i._onWindowKeyDown=i._onWindowKeyDown.bind(i),i._onResourceContextMenu=i._onResourceContextMenu.bind(i),i._updateTitleSize=i._updateTitleSize.bind(i),i._checkBottomThrottled=f()(i._checkBottom,500).bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),h(t,[{key:"componentDidMount",value:function(){this.props.shouldListenWindowScroll&&this.setScrollingElement(window),this.props.isSelectable&&(t.mountedListingsWithSelectionCount++,1===t.mountedListingsWithSelectionCount&&(window.addEventListener("click",this._onDeselectAllClick),window.addEventListener("keydown",this._onWindowKeyDown),window.addEventListener("keyup",this._onWindowKeyUp))),"clamp"===this.props.titleOverflow&&this._initClamp()}},{key:"componentWillUnmount",value:function(){this.props.completed||this._unbindCheckBottom(),this.props.isSelectable&&(t.mountedListingsWithSelectionCount--,0===t.mountedListingsWithSelectionCount&&(window.removeEventListener("click",this._onDeselectAllClick),window.removeEventListener("keydown",this._onWindowKeyDown),window.removeEventListener("keyup",this._onWindowKeyUp))),"clamp"===this.props.titleOverflow&&window.removeEventListener("resize",this._updateTitleSize)}},{key:"componentWillReceiveProps",value:function(e){this.props.completed!==e.completed&&(e.completed?this._unbindCheckBottom():this._bindCheckBottom())}},{key:"componentDidUpdate",value:function(e){this.props.theme===e.theme&&this.props.size===e.size&&this.props.resources.length===e.resources.length||this._checkBottom(),"clamp"===this.props.titleOverflow?"clamp"===e.titleOverflow&&this.props.theme===e.theme&&this.props.size===e.size||(this._wasClampInited=!1,this._initClamp()):"clamp"===e.titleOverflow&&(window.removeEventListener("resize",this._updateTitleSize),this._wasClampInited=!1),this.props.resources.length&&"clamp"===this.props.titleOverflow&&!this._wasClampInited&&this._initClamp()}},{key:"setScrollingElement",value:function(e){this._scrollingElement=e,this.props.completed||this._bindCheckBottom()}},{key:"_bindCheckBottom",value:function(){this._scrollingElement.addEventListener("scroll",this._checkBottomThrottled),window.addEventListener("resize",this._checkBottomThrottled),this._checkBottom()}},{key:"_unbindCheckBottom",value:function(){this._scrollingElement.removeEventListener("scroll",this._checkBottomThrottled),window.removeEventListener("resize",this._checkBottomThrottled)}},{key:"_checkBottom",value:function(){!this.props.completed&&this.props.resources.length&&(this._spinNode.getBoundingClientRect().top<=2*(this._scrollingElement===window?window.innerHeight:this._scrollingElement.clientHeight)&&this._fetchNextPortion())}},{key:"_initClamp",value:function(){this.props.resources.length&&(this._updateTitleSize(),window.addEventListener("resize",this._updateTitleSize),this._wasClampInited=!0)}},{key:"_getTitleWidth",value:function(){return this._firstItemTitleNode&&this._firstItemTitleNode.getBoundingClientRect().width||0}},{key:"_updateTitleSize",value:function(){var e=this._getTitleWidth();this.state.titleWidth!==e&&this.setState({titleWidth:e})}},{key:"_onDeselectAllClick",value:function(e){e.target.closest("."+v)||(this.props.onSelectionChanged([]),this.props.onDeselectAllClick(),this._updateAnchor(null))}},{key:"_onWindowKeyDown",value:function(e){16===e.which&&this.props.selectedResources.length>0&&document.body.classList.add("no-user-select")}},{key:"_onWindowKeyUp",value:function(e){16===e.which&&document.body.classList.remove("no-user-select")}},{key:"getItemRef",value:function(e){return this._itemsRefs[e]}},{key:"getItemsRefs",value:function(){return this._itemsRefs}},{key:"_fetchNextPortion",value:function(){var e=this.props,t=e.loading;e.completed||t||this.props.requestFetchNext()}},{key:"resourceRef",value:function(e,t){t?this._itemsRefs[e]=t:this._itemsRefs[e]&&delete this._itemsRefs[e]}},{key:"_onResourceContextMenu",value:function(e,t){var n=void 0,r=void 0;(this.props.selectedResources||[]).includes(e)?n=[].concat(m(this.props.selectedResources)):(n=[e],r=[e]),this.props.onContextMenu(n,t,r)}},{key:"_onSelectResource",value:function(e,t,n){var r="MacOS"===this.props.OSFamily?n.metaKey:n.ctrlKey;this.props.isMultiSelectable?n.shiftKey?this._selectRange(e):r||t?this._toggleSelected(e):this._setSelected(e):this._setSelected(e)}},{key:"_onOpenResource",value:function(e,t){this.props.onResourceOpen(e,t)}},{key:"_setSelected",value:function(e){this._updateAnchor(e),this.props.onSelectionChanged([e])}},{key:"_toggleSelected",value:function(e){var t=void 0;this.props.selectedResources.includes(e)?(t=this.props.selectedResources.filter(function(t){return t!==e}),this._updateAnchor(this._prevAnchorId)):(t=[e].concat(this.props.selectedResources),this._updateAnchor(e)),this.props.onSelectionChanged(t)}},{key:"_selectRange",value:function(e){var t=this,n=0,r=void 0;this.props.resources.forEach(function(o,i){o.id===t._anchorId&&(n=i),o.id===e&&(r=i)});var o=Math.min(n,r),i=Math.max(n,r),a=this.props.resources.slice(o,i+1),s={};this.props.selectedResources.forEach(function(e){s[e]=!0}),a.forEach(function(e){s[e.id]=!0}),this.props.onSelectionChanged(Object.keys(s)),this._updateAnchor(this.props.resources[n].id)}},{key:"_updateAnchor",value:function(e){this._prevAnchorId=this._anchorId,this._anchorId=e}},{key:"_getItem",value:function(e,t){var n=this;if(!e)return null;var r=this.props,i=r.mods,a=r.theme,s=r.size,u=r.isTouch,c=r.titleOverflow,p=r.currentResource,f=r.onPlayVideoClick,h=r.useRealDevicePixelRatio,m=r.previewRumId,y=Object.assign({},e,{listingMods:i,theme:a,size:s,titleOverflow:c,useRealDevicePixelRatio:h,isTouch:u,resourceRef:this.resourceRef,onPlayVideoClick:f,previewRumId:m});return y.cls=[y.cls,v].filter(Boolean).join(" "),p&&p.id===e.id?(y.onClick=this.props.onCurrentResourceClick,y.modifier="current"):(y.onOpen=this._onOpenResource,this.props.isSelectable&&(y.selectOnTap=this.props.isSelectable&&this.props.selectedResources.length>0,y.onSelect=this._onSelectResource),this.props.onContextMenu&&!u&&(y.onContextMenu=this._onResourceContextMenu),y.selected=!e.disabled&&this.props.selectedResources.includes(e.id)),"clamp"===c&&(y.titleWidth=this.state.titleWidth,0===t&&(y.titleNodeRef=function(e){n._firstItemTitleNode=e})),o.a.createElement(l.a,d({key:e.id},y))}},{key:"_getItems",value:function(){for(var e=this.props,t=e.getGroup,n=e.getGroupFiled,r=e.resources,i=e.theme,a=null,s=[],u=0;u<r.length;u++){var c=r[u];if(t){var l=t(c,n);a&&a.id===l.id||(a&&"tile"===i&&s.push.apply(s,m(this._getEmptyItems(15,a.id))),s.push([o.a.createElement("h2",{key:"group-"+l.id,className:y().e("group-title").mix(b)},l.title)]),a=l)}s.push(this._getItem(c,u))}return"tile"===i&&s.push.apply(s,m(this._getEmptyItems(15))),s}},{key:"_getEmptyItems",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"single",n=[];e;)n.push(o.a.createElement(l.a,{theme:"tile-empty",size:this.props.size,key:t+"-"+e})),e--;return n}},{key:"_getSpin",value:function(){var e=this,t=this.props.loading;return o.a.createElement("div",{className:y().e("spin-wrapper"),ref:function(t){e._spinNode=t}},o.a.createElement(c.a,{size:"m",progress:t,cls:y().e("spin")}))}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.completed,r=e.mods;return o.a.createElement("div",{className:y().m(Object.assign({},r,{theme:t,completed:n})).mix(this.props.cls)},this._getItem(this.props.currentResource),o.a.createElement("div",{className:y().e("items")},this._getItems()),this._getSpin())}}]),t}();_.mountedListingsWithSelectionCount=0,_.propTypes={cls:a.a.oneOfType([a.a.string,a.a.object]),mods:a.a.object,resources:a.a.arrayOf(a.a.shape({title:a.a.string,id:a.a.string,type:a.a.string,mediatype:a.a.string,defaultPreview:a.a.string,additionalFields:a.a.array,longTouchDuration:a.a.number,cls:a.a.oneOfType([a.a.string,a.a.object])})),currentResource:a.a.object,selectedResources:a.a.arrayOf(a.a.string.isRequired),completed:a.a.bool,loading:a.a.bool,useRealDevicePixelRatio:a.a.bool,onCurrentResourceClick:a.a.func,onResourceOpen:a.a.func,onPlayVideoClick:a.a.func,isSelectable:a.a.bool,isMultiSelectable:a.a.bool,onDeselectAllClick:a.a.func,enableDeselectOnOutsideClick:a.a.bool,theme:a.a.oneOf(["row","tile"]),isTouch:a.a.bool.isRequired,OSFamily:a.a.string.isRequired,size:a.a.oneOf(["s","m","l"]),titleOverflow:a.a.oneOf(["line-clamp","length-limit","clamp"]),requestFetchNext:a.a.func,getGroup:a.a.func,shouldListenWindowScroll:a.a.bool,previewRumId:a.a.number};var g=function(){};_.defaultProps={theme:"row",size:"m",isSelectable:!1,isMultiSelectable:!0,shouldListenWindowScroll:!0,selectedResources:[],requestFetchNext:g,onResourceOpen:g,onSelectionChanged:g,onCurrentResourceClick:g,onDeselectAllClick:g},t.c=_},function(e,t,n){"use strict";n.d(t,"e",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"d",function(){return p}),n.d(t,"a",function(){return f}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return h}),n.d(t,"f",function(){return m});var r=n(4),o=n(5),i=n(96),a=n(16),s=n(52),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2];return function(i,s){var u=s().resources[e];i({type:r.FETCH_RESOURCES_LIST_START,id:e});var c=Object(a.c)(u);return i(Object(o.f)("fetch-list",{hash:c,offset:t})).then(function(t){var a=t.error,s=t.resources;if(a)return Promise.reject();i(Object(o.F)(s,n)),i({type:r.FETCH_RESOURCES_LIST_SUCCESS,id:e})}).catch(function(){i({type:r.FETCH_RESOURCES_LIST_ERROR,id:e})})}},c=function(e){return function(t,n){var r=n().resources[e],i=Object(a.c)(r);return t(Object(o.f)("fetch-public-info",{hash:i})).then(function(n){var r=n.error,i=n.resources;if(r||!i||!i.length)return Promise.reject();t(Object(o.E)(e,i[0]))})}},l=function(e){return function(t,n){var r=n().resources[e];return t(Object(o.z)([])),t(Object(o.C)(e)),t(Object(o.H)()),!r.isFirstPortionLoaded||Object(i.a)(r)?t(u(e,0,!0)):Promise.resolve()}},p=function(e){return function(t,n){var r=n().resources[e];return t(u(e,r.children.length))}},f=function e(t){return function(n,r){var o=r(),i=o.resources,a=o.currentResourceId;if(t&&!i[t]){var s=i[a];return s&&"dir"===s.type&&!s.completed?n(p(a)).then(function(){return n(e(t))}):Promise.reject()}return Promise.resolve()}},d=function(){return function(e,t){var n=t().overlays.sliderResourceId;return e(f(n)).then(function(){},function(){return e(Object(o.j)())})}},h=function(e){return function(t,n){var r=n().resources[e];if(r&&void 0===r.meta.size)return t(o.f("get-dir-size",{hash:Object(a.c)(r)})).then(function(n){var r=n.error,i=n.data;!r&&i&&t(o.E(e,{meta:{size:i.size,files_count:i.files_count}}))})}},m=function(){return function(e,t){var n=t(),r=n.overlays.sliderResourceId,i=n.resources;if("dir"===i[n.rootResourceId].type){var a=i[i[r].parent],u=a.children.indexOf(r),c=i[a.children[u+1]];c&&"audio"===c.meta.mediatype&&Object(s.a)(c.meta.mimetype)&&e(o.u(c.id))}}}},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return l});var r=n(3),o=n(5),i=2e3;function a(){return c(r.b.CLOSING)}var s=null;function u(){return function(e,t){var n=t().notifications;n.items.length&&(n.state!==r.b.OPENED||s||(s=setTimeout(function(){var n=t().notifications;n.state===r.b.OPENED&&n.items.length&&e(a()),s=null},i)),n.state===r.b.CLOSED&&(clearTimeout(s),s=null,e(c(r.b.OPENING))))}}function c(e){return function(t){t(Object(o.a)(e)),t(u())}}function l(e){return function(t){t(Object(o.b)(e)),t(u())}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=n(7);t.default=(0,i.decl)({block:"control",willInit:function(e){var t=e.hovered;this.__base.apply(this,arguments),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.state.hovered=t},mods:function(){var e=this.state,t=e.hovered,n=e.disabled;return r({},this.__base.apply(this,arguments),{hovered:n?void 0:this.__self.bool2string(t)})},attrs:function(){var e=this.state.disabled;return r({},this.__base.apply(this,arguments),{onMouseEnter:e?void 0:this.onMouseEnter,onMouseLeave:e?void 0:this.onMouseLeave})},onMouseEnter:function(e){this.setState({hovered:!0}),this.props.onMouseEnter&&this.props.onMouseEnter(e)},onMouseLeave:function(e){this.setState({hovered:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e)}},{propTypes:{hovered:o.default.bool,onMouseEnter:o.default.func,onMouseLeave:o.default.func}})},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return i});var r=function(e){var t="https://"+e.host+e.pathname,n=e.query||{},r=Object.keys(n).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])});return t+=r.length?"?"+r.join("&"):""},o=function(e){return e&&e.hash&&(e.hash=e.hash.replace(/ /g,"+")),e},i=function(e){return e.replace(/^https?:\/\//,"")}},function(e,t,n){var r,o;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=a,s}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,o,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},r.defaults,i)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}i.expires=i.expires?i.expires.toUTCString():"";try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(e){}o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var u="";for(var c in i)i[c]&&(u+="; "+c,!0!==i[c]&&(u+="="+i[c]));return document.cookie=t+"="+o+u}t||(a={});for(var l=document.cookie?document.cookie.split("; "):[],p=/(%[0-9A-Z]{2})+/g,f=0;f<l.length;f++){var d=l[f].split("="),h=d.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var m=d[0].replace(p,decodeURIComponent);if(h=n.read?n.read(h,m):n(h,m)||h.replace(p,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===m){a=h;break}t||(a[m]=h)}catch(e){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}(function(){})})},function(e,t,n){"use strict";var r=n(5),o=n(4),i=n(6),a=function(e){var t=void 0;try{var n=localStorage.getItem(e);if(!n)return t;t=JSON.parse(n)}catch(e){}return t},s=function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){}};n.d(t,"c",function(){return u}),n.d(t,"d",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"f",function(){return p}),n.d(t,"a",function(){return f}),n.d(t,"b",function(){return d}),n.d(t,"e",function(){return h}),n.d(t,"j",function(){return m}),n.d(t,"i",function(){return y}),n.d(t,"h",function(){return v}),n.d(t,"k",function(){return b});var u=function(e){return function(t,n){var i=n(),a=i.environment.selectedComment,s=i.user.auth;return t({type:o.FETCH_COMMENTS_START,parentId:e.parentId,position:e.position}),e.limit=e.limit||(a?50:4),e.repliesLimit=e.repliesLimit||(a?50:2),e.order=e.order||"new-first",e.repliesOrder=e.repliesOrder||"old-first",t(Object(r.f)("get-comments",e,s)).then(function(n){return n.error?t({type:o.FETCH_COMMENTS_ERROR,error:n.error,parentId:e.parentId}):t({type:o.FETCH_COMMENTS_SUCCESS,reset:e.reset,data:n.data,parentId:e.parentId,position:e.position})})}},c=function(e,t,n){return function(r,o){var i=o().comments.comments,a={entityId:e,parentId:t,position:n,order:"new-first"};return t?(a.limit=1,a.repliesLimit=50,a.commentId=t):(a.lastCreated=i[0].created,a.limit=50),r(u(a))}},l=function(e,t){return{type:o.SAVE_TEXTAREA_VALUE,parentId:e,text:t}},p=function(){return function(e,t){var n=t(),r=n.rootResourceId,i=n.resources[r].hash,s=a("savedCommentsTextareas");s&&s[i]&&e({type:o.RESTORE_TEXTAREAS_VALUES,values:s[i]})}},f=function(e,t,n){return function(u,c){var l=c(),p=l.ua.isMobile,f=l.user.auth,d=l.rootResourceId,h=l.resources,m=l.comments.storedData,y=h[d].hash,v=a("savedCommentsTextareas");if(!f){s("savedCommentsTextareas",Object.assign(v||{},function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},y,m)));var b=p?"touch":"web";return u(Object(r.l)({origin:"disk_public_"+b+"_comment"})),Promise.resolve({noScroll:!0})}if(m[t]){u(function(e){return{type:o.REMOVE_TEXTAREA_VALUE,parentId:e}}(t));var _=c().comments.storedData;v&&v[y]&&(Object.keys(_).length?v[y]=_:delete v[y],s("savedCommentsTextareas",v))}return u({type:o.ADD_COMMENT_START,parentId:t}),u(Object(r.f)("add-comment",{entityId:e,parentId:t,text:n},!0)).then(function(e){if(e.error){var n=Boolean(t),r=void 0;switch(e.code){case"HTTP_404":r=n?Object(i.i18n)("ru","comments","ufo-comments_error_reply-add-not-found-comment"):Object(i.i18n)("ru","comments","ufo-comments_error_comment-add-not-found-file");break;case"HTTP_403":r=n?Object(i.i18n)("ru","comments","ufo-comments_error_reply-add-forbidden"):Object(i.i18n)("ru","comments","ufo-comments_error_comment-add-forbidden");break;default:r=n?Object(i.i18n)("ru","comments","ufo-comments_error_reply-add"):Object(i.i18n)("ru","comments","ufo-comments_error_comment-add")}u({type:o.ADD_COMMENT_ERROR,error:Object.assign({},e,{message:r}),parentId:t})}else u({type:o.ADD_COMMENT_SUCCESS,data:e.data,parentId:t})})}},d=function(e,t){return function(n){n({type:o.DELETE_COMMENT,commentId:t}),n(Object(r.f)("delete-comment",{entityId:e,commentId:t},!0)).then(function(e){e.error&&n({type:o.RESTORE_COMMENT,commentId:t})})}},h=function(e,t){return function(n){n({type:o.RESTORE_COMMENT,commentId:t}),n(Object(r.f)("restore-comment",{entityId:e,commentId:t},!0)).then(function(e){e.error&&n({type:o.DELETE_COMMENT,commentId:t})})}},m=function(e,t,n,i){return function(a,s){var u=s(),c=u.ua.isMobile;if(u.user.auth)a({type:o.SET_ATTITUDE,commentId:t,attitudeType:n}),a(Object(r.f)("set-attitude",{entityId:e,commentId:t,type:n},!0)).then(function(e){e.error&&a({type:o.SET_ATTITUDE,error:e,commentId:t,previousAttitudeType:i})});else{var l=c?"touch":"web";a(Object(r.l)({origin:"disk_public_"+l+"_"+n+"_"+(t?"comment":"page")}))}}},y=function(e){return function(t){t({type:o.SELECT_COMMENT,commentId:e}),t(Object(r.c)({cid:e})),setTimeout(function(){t({type:o.DESELECT_COMMENT,commentId:e})},1500)}},v=function(e){return function(t){t({type:o.SCROLL_TO_COMMENT,commentId:e}),setTimeout(function(){t({type:o.REMOVE_SCROLL_TO_COMMENT_PROP,commentId:e})},500)}},b=function(e){return function(t,n){var o=n(),i=o.resources,a=o.rootResourceId,s=i[a],u=s.meta.comment_ids.public_resource;void 0===e&&(e=!!s.commentsDisabled),t(Object(r.E)(a,{isCommentsToggling:!0}));var c=function(){t(Object(r.E)(a,{isCommentsToggling:!1}))};t(Object(r.f)("toggle-comments",{entityId:u,enabled:e},!0)).then(function(n){if(n.error)return c();t(Object(r.E)(a,{commentsDisabled:!e,isCommentsToggling:!1}))}).catch(c)}}},function(e,t,n){var r=n(133)("wks"),o=n(112),i=n(30).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t){e.exports=function(){var e;function t(n,r,o){if(1===arguments.length)return function(e,r){return t(n,e,r)};if(!e)throw Error("i18n need to be filled with data");var i=e[n]&&e[n][r];return void 0===i?n+":"+r:"string"==typeof i?i:i.call(t,o,t)}return t.decl=function(t){if(!e)return e=t,this;for(var n in t){var r=e[n]||(e[n]={}),o=t[n];for(var i in o)r[i]=o[i]}return this},t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=a((n(202).default||n(202)).applyDecls()),i=a(n(28)().decl(n(364))("i-services"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.decl)({block:"i-services"},{serviceName:function(e){return(0,i.default)(e)},serviceUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ru";return o.default[e](t)}})},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(0),a=n.n(i),s=n(36),u=n(2),c=n.n(u),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var p=function(){return c()()("hover-tooltip")},f=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onOpen=i._onOpen.bind(i),i._onClose=i._onClose.bind(i),i.state={visible:!1},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),l(t,[{key:"_onOpen",value:function(){this.setState({visible:!0})}},{key:"_onClose",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.children,r=e.theme,o=e.size,i=e.to,u=e.cls,c=e.zIndexGroupLevel,l=e.showDelay,f=e.disabled,d={cls:e.tooltipCls,theme:r,size:o,to:i,zIndexGroupLevel:c,visible:this.state.visible};return a.a.createElement(s.a,{visible:this.state.visible&&!f,cls:u,onOpen:this._onOpen,onClose:this._onClose,showDelay:l},a.a.createElement(s.a.Anchor,null,a.a.createElement("div",{className:p().e("tooltip-anchor")},n)),t&&a.a.createElement(s.a.Tooltip,d,a.a.createElement("span",{className:p().e("tooltip-text")},t)))}}]),t}();f.propTypes={showDelay:o.a.number,text:o.a.string,theme:o.a.string,size:o.a.string,disabled:o.a.bool,zIndexGroupLevel:o.a.number,to:o.a.array},f.defaultProps={text:"",theme:"normal",size:"xs",disabled:!1,zIndexGroupLevel:20,to:["bottom"],showDelay:1200},t.a=f},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r=function(){return!1},o=function(e){var t=e.currentResourceId,n=e.resources[t];return!n||n.completed}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7),i={BACKSPACE:8,TAB:9,ENTER:13,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46};t.default=(0,o.decl)({block:"keycodes"},r({},i,{list:function(){return Object.keys(i)},is:function(e,t){return(Array.isArray(t)?t:Array.prototype.slice.call(arguments,1)).some(function(t){return this[t]===e},this)}}))},function(e,t,n){"use strict";var r=n(57),o=n(131),i={INIT:"@@redux/INIT"};function a(e,t,n){var s;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(a)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var u=e,c=t,l=[],p=l,f=!1;function d(){p===l&&(p=l.slice())}function h(){return c}function m(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return d(),p.push(e),function(){if(t){t=!1,d();var n=p.indexOf(e);p.splice(n,1)}}}function y(e){if(!Object(r.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,c=u(c,e)}finally{f=!1}for(var t=l=p,n=0;n<t.length;n++){(0,t[n])()}return e}return y({type:i.INIT}),(s={dispatch:y,subscribe:m,getState:h,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,y({type:i.INIT})}})[o.a]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[o.a]=function(){return this},e},s}function s(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function u(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}var a=Object.keys(n);var u=void 0;try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:i.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+i.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){u=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(u)throw u;for(var r=!1,o={},i=0;i<a.length;i++){var c=a[i],l=n[c],p=e[c],f=l(p,t);if(void 0===f){var d=s(c,t);throw new Error(d)}o[c]=f,r=r||f!==p}return r?o:e}}function c(e,t){return function(){return t(e.apply(void 0,arguments))}}function l(e,t){if("function"==typeof e)return c(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},o=0;o<n.length;o++){var i=n[o],a=e[i];"function"==typeof a&&(r[i]=c(a,t))}return r}function p(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function d(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var i,a=e(n,r,o),s=a.dispatch,u={getState:a.getState,dispatch:function(e){return s(e)}};return i=t.map(function(e){return e(u)}),s=p.apply(void 0,i)(a.dispatch),f({},a,{dispatch:s})}}}n.d(t,"e",function(){return a}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"d",function(){return p})},function(e,t,n){"use strict";function r(e){return e<10?"0"+e:String(e)}e.exports=function(e,t,n,o){void 0===t&&(t="DD.MM.YYYY HH:mm");var i=e instanceof Date?e:new Date(e);return t.replace(/([MDYHhpms])\1{0,3}/g,function(e){switch(e){case"M":return i.getMonth()+1;case"MM":return r(i.getMonth()+1);case"MMMM":if(!n||!n.length)throw new TypeError("helpers/date/date-to-string::monthsNominative must be defined for MMMM format");return n[i.getMonth()];case"mmmm":if(!o||!o.length)throw new TypeError("helpers/date/date-to-string::monthsGenitive must be defined for mmmm format");return o[i.getMonth()];case"D":return i.getDate();case"DD":return r(i.getDate());case"YY":return i.getFullYear()%100;case"YYYY":return i.getFullYear();case"H":return i.getHours();case"HH":return r(i.getHours());case"h":return i.getHours()%12||12;case"p":return i.getHours()<12?"am":"pm";case"m":return i.getMinutes();case"mm":return r(i.getMinutes());case"s":return i.getSeconds();case"ss":return r(i.getSeconds());default:return e}})}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(17),u=n.n(s),c=n(53),l=n(69),p=n.n(l),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0};var h=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onOutsideTouch=i._onOutsideTouch.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.a),f(t,[{key:"componentWillUpdate",value:function(e,n){d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUpdate",this)&&d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUpdate",this).call(this,e,n),this.props.autoclosable&&this.props.onOutsideClick&&e.visible!==this.props.visible&&(e.visible?window.addEventListener("touchstart",this._onOutsideTouch):window.removeEventListener("touchstart",this._onOutsideTouch))}},{key:"_onOutsideTouch",value:function(e){e.target.closest(".tooltip")||this.props.onOutsideClick()}}]),t}();h.propTypes=Object.assign(p.a.propTypes,{cls:a.a.oneOfType([a.a.object,a.a.string])});var m=h,y=n(2),v=n.n(y),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,r["Component"]),_(t,[{key:"render",value:function(){return this.props.children}}]),t}(),k=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,r["Component"]),_(t,[{key:"render",value:function(){return this.props.children}}]),t}(),C=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,r["Component"]),_(t,[{key:"render",value:function(){return this.props.children}}]),t}();var x=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,r["Component"]),_(t,[{key:"componentDidMount",value:function(){this._anchor.addEventListener("mouseenter",this._onAnchorMouseEnter.bind(this)),this._anchor.addEventListener("mouseleave",this._onAnchorMouseLeave.bind(this)),this._popup&&(this._popup.addEventListener("mouseenter",this._onPopupMouseEnter.bind(this)),this._popup.addEventListener("mouseleave",this._onPopupMouseLeave.bind(this)))}},{key:"componentWillUnmount",value:function(){this._clearTimer()}},{key:"_clearTimer",value:function(){clearTimeout(this._hideTimer),this._hideTimer=null}},{key:"_deferClosePopup",value:function(){var e=this;this._hideTimer=setTimeout(function(){e._hideTimer=null,e.props.onClose()},200)}},{key:"_onAnchorMouseLeave",value:function(){clearTimeout(this._showTimer),this._deferClosePopup()}},{key:"_onAnchorMouseEnter",value:function(){var e=this;this._hideTimer?this._clearTimer():this.props.showDelay?(clearTimeout(this._showTimer),this._showTimer=setTimeout(function(){e.props.onOpen()},this.props.showDelay)):this.props.onOpen()}},{key:"_onPopupMouseEnter",value:function(){this._clearTimer()}},{key:"_onPopupMouseLeave",value:function(){this._deferClosePopup()}},{key:"render",value:function(){var e=this,t=void 0,n=void 0;return o.a.Children.forEach(this.props.children,function(r){(function(e){return e&&"function"==typeof e.type&&e.type===E})(r)&&(t=o.a.createElement(E,b({ref:function(t){e._anchor=u.a.findDOMNode(t)}},r.props))),!function(e){return e&&"function"==typeof e.type&&e.type===k}(r)?function(e){return e&&"function"==typeof e.type&&e.type===C}(r)&&(n=o.a.createElement(m,b({},r.props,{visible:e.props.visible,anchor:e._anchor}))):n=o.a.createElement(c.a,b({},r.props,{visible:e.props.visible,anchor:e._anchor,ref:function(t){e._popup=t&&t.domElementPopup}}))}),o.a.createElement("span",{className:v()()("hover-dropdown").mix(this.props.cls)},t,n)}}]),t}();x.propTypes={visible:a.a.bool,showDelay:a.a.number,onOpen:a.a.func,onClose:a.a.func},x.defaultProps={showDelay:0,onOpen:function(){},onClose:function(){}},x.Anchor=E,x.Popup=k,x.Tooltip=C;t.a=x},function(e,t,n){"use strict";e.exports={user2:{"add-account":" ","edit-accounts":" ",enter:"",exit:"",help:"",mail:function(e){return n(365)({count:e.count,one:" ",some:" ",many:" ",none:"  "})},mail_compose:" ",passport:" ",settings:"",upload_files:" "}}},function(e,t,n){"use strict";var r=n(101),o=n.n(r);t.a=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=n(7);t.default=(0,i.decl)({block:"icon",tag:"span",mods:function(e){return{type:e.type,action:e.action,direction:e.direction,glyph:e.glyph,size:e.size,disabled:e.disabled}},attrs:function(e){var t=e.url,n=e.id,o=e.alt,i=e.style,a=void 0===i?{}:i,s=e.attrs;return void 0!==t&&(a.backgroundImage="url('"+t+"')"),r({id:n,alt:o,style:a},s)}},{propTypes:{id:o.default.string,url:o.default.string,style:o.default.object,direction:o.default.string,glyph:o.default.string,size:o.default.oneOf(["ns","xs","s","m","n","l","head"])},isIcon:function(e){return e&&"function"==typeof e.type&&"icon"===e.type.displayName}})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){var t=e.ua.isMobile,n=e.environment.experiments.flags.disk_public_yellow_exp;return t||n}},function(e,t,n){"use strict";var r=n(108),o=n.n(r),i=n(1),a=n.n(i),s=0,u=!1,c=void 0,l=void 0,p=function(){s&&!u&&(setTimeout(function(){var e=window.innerWidth-document.documentElement.clientWidth;e>0&&(l=document.body.style.paddingRight,document.body.style.paddingRight=e+"px"),c=document.body.style.overflow,document.body.style.overflow="hidden"}),u=!0),!s&&u&&(setTimeout(function(){void 0!==l&&(document.body.style.paddingRight=l,l=void 0),void 0!==c&&(document.body.style.overflow=c,c=void 0)}),u=!1)},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0};var h=function(e){return e.preventDefault()},m=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onTouchMove=i._onTouchMove.bind(i),i._onTouchStart=i._onTouchStart.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a),f(t,[{key:"toggleWatchAutoClosableEvents",value:function(e){d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toggleWatchAutoClosableEvents",this).call(this,e),e?window.addEventListener("touchstart",this._onOutsideClick,{passive:!1}):window.removeEventListener("touchstart",this._onOutsideClick,{passive:!1})}},{key:"_onOutsideClick",value:function(e){"touchstart"===e.type&&e.target.classList.contains("modal__cell")&&h(e),d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onOutsideClick",this).call(this,e)}},{key:"componentDidMount",value:function(){for(var e,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this)&&(e=d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this)).call.apply(e,[this].concat(r)),this.props.visible&&this._onModalOpen()}},{key:"componentDidUpdate",value:function(e){var n;this.props.visible!==e.visible&&(this.props.visible?this._onModalOpen():this._onModalClose());for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidUpdate",this)&&(n=d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidUpdate",this)).call.apply(n,[this,e].concat(o))}},{key:"componentWillReceiveProps",value:function(e){for(var n,r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillReceiveProps",this)&&(n=d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillReceiveProps",this)).call.apply(n,[this,e].concat(o)),e.visible&&(this._onceShown=!0)}},{key:"componentWillUnmount",value:function(){var e,n=this.props,r=n.autoclosable,o=n.visible;r&&o&&window.removeEventListener("touchstart",this._onOutsideClick,{passive:!1}),o&&this._onModalClose();for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this)&&(e=d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this)).call.apply(e,[this].concat(a))}},{key:"_onModalOpen",value:function(){this.props.isIosSafari?(this.domElementPopup.addEventListener("touchmove",this._onTouchMove),this.domElementPopup.addEventListener("touchstart",this._onTouchStart)):(s++,p())}},{key:"_onModalClose",value:function(){this.props.isIosSafari?(this.domElementPopup.removeEventListener("touchmove",this._onTouchMove),this.domElementPopup.removeEventListener("touchstart",this._onTouchStart)):(s--,p())}},{key:"_onTouchStart",value:function(e){1===e.targetTouches.length&&(this._initialClientY=e.targetTouches[0].clientY)}},{key:"_onTouchMove",value:function(e){1===e.targetTouches.length&&this._handleScroll(e)}},{key:"_handleScroll",value:function(e){var t=e.targetTouches[0].clientY-this._initialClientY;return!(0===this._contentElement.scrollTop&&t>0||this._contentElement.scrollHeight-this._contentElement.scrollTop<=this._contentElement.clientHeight&&t<0)||h(e)}},{key:"mods",value:function(e){return Object.assign({js:this._onceShown?"inited":void 0},d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mods",this).call(this,e))}}]),t}();m.propTypes=Object.assign({},o.a.propTypes,{isIosSafari:a.a.bool}),m.defaultProps=Object.assign({},o.a.defaultProps,{isIosSafari:!1});t.a=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}((n(156),n(162),n(292),n(293),n(294),n(124),(n(163).default||n(163)).applyDecls()));t.default=r.default},function(e,t){e.exports={default:"blank",virus:"virus",folderDefault:"dir",folderTypes:["dir_plus","dir_back","dir_gray","dir_facebook","dir_google","dir_instagram","dir_mailru","dir_moimir","dir_odnoklassniki","dir_photostream","dir_root","dir_screenshots","dir_shared","dir_social","dir_trash","dir_trash-full","dir_vkontakte","dir_yateamnda"],mediatypes:{image:"image",audio:"audio",video:"video",archive:"archive",text:"text",book:"book",development:"development",executable:"executable",font:"font",mail:"mail",compressed:"archive"},extnames:{".7z":"7z",".cab":"archive",".gz":"archive",".gzip":"archive",".rar":"rar",".tar":"archive",".zip":"zip",".zipx":"zip",".aud":"audio",".flac":"audio",".iff":"audio",".m3u":"audio",".m3u8":"audio",".m4a":"audio",".m4b":"audio",".m4r":"audio",".mp3":"audio",".pls":"audio",".ogg":"audio",".wav":"audio",".wma":"audio",".asf":"video",".avi":"video",".flv":"video",".mov":"video",".mp4":"video",".mpeg":"video",".mkv":"video",".mpg":"video",".srt":"video",".swf":"video",".vob":"video",".wmv":"video",".ai":"ai",".cur":"image",".bmp":"image",".dng":"image",".djvu":"djvu",".ico":"image",".gif":"image",".jpg":"image",".jpeg":"image",".png":"image",".psd":"psd",".pcx":"image",".mng":"image",".sketch":"sketch",".tif":"image",".tiff":"image",".xcf":"image",".epub":"epub",".fb2":"fb2",".csv":"table",".doc":"doc",".docx":"doc",".dot":"doc",".dotx":"doc",".indd":"text",".key":"text",".odt":"odt",".odp":"odp",".pdf":"pdf",".pps":"text",".ppsm":"text",".ppsx":"text",".ppt":"ppt",".pptx":"ppt",".ods":"ods",".rtf":"rtf",".txt":"txt",".xls":"xls",".xlsb":"xls",".xlsx":"xls",".xltm":"xls",".xltx":"xls",".xps":"text",".css":"css",".htm":"html",".html":"html",".js":"js",".xhtml":"html",".ini":"ini",".xml":"xml",".exe":"exe",".dll":"dll",".vcf":"vcf"}}},function(e,t,n){var r=n(48);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(30),o=n(59),i=n(60),a=n(116),s=n(63),u=function(e,t,n){var c,l,p,f,d=e&u.F,h=e&u.G,m=e&u.S,y=e&u.P,v=e&u.B,b=h?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,_=h?o:o[t]||(o[t]={}),g=_.prototype||(_.prototype={});for(c in h&&(n=t),n)p=((l=!d&&b&&void 0!==b[c])?b:n)[c],f=v&&l?s(p,r):y&&"function"==typeof p?s(Function.call,p):p,b&&a(b,c,p,e&u.U),_[c]!=p&&i(_,c,f),y&&g[c]!=p&&(g[c]=p)};r.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=n(7);t.default=(0,i.decl)({block:"control",willInit:function(e){var t=e.disabled,n=e.focused,r=e.pressed;this.__base.apply(this,arguments),this.state.disabled=t,this.state.focused=n,this.state.pressed=r,this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.docOnMouseUp=this.docOnMouseUp.bind(this)},willReceiveProps:function(e){var t=e.disabled;t!==this.props.disabled&&this.setState({disabled:t})},mods:function(){var e=this.state,t=e.pressed,n=e.disabled,r=e.focused;return{disabled:this.__self.bool2string(n),focused:n?void 0:this.__self.bool2string(r),pressed:n?void 0:this.__self.bool2string(t)}},attrs:function(){var e=this.state.disabled;return r({onFocus:e?void 0:this.onFocus,onBlur:e?void 0:this.onBlur,onMouseDown:e?void 0:this.onMouseDown,onMouseUp:e?void 0:this.onMouseUp,onKeyUp:e?void 0:this.onKeyUp,onKeyDown:e?void 0:this.onKeyDown,onClick:e?void 0:this.onClick},this._getControlAttrs.apply(this,arguments))},_getControlAttrs:function(e){return e.controlAttrs},onMouseDown:function(e){3!==e.nativeEvent.which&&(this.setState({pressed:!0}),this.props.onMouseDown&&this.props.onMouseDown(e),this.docOnMouseDown())},onMouseUp:function(e){this.setState({pressed:!1}),this.props.onMouseUp&&this.props.onMouseUp(e)},onFocus:function(e){this.setState({focused:!0}),this.props.onFocus&&this.props.onFocus(e)},onBlur:function(e){this.setState({focused:!1}),this.props.onBlur&&this.props.onBlur(e)},docOnMouseDown:function(){document.addEventListener("mouseup",this.docOnMouseUp),document.addEventListener("dragend",this.docOnMouseUp)},docOnMouseUp:function(){this.setState({pressed:!1}),document.removeEventListener("mouseup",this.docOnMouseUp),document.removeEventListener("dragend",this.docOnMouseUp)}},{propTypes:{disabled:o.default.bool,focused:o.default.bool,pressed:o.default.bool,onFocus:o.default.func,onBlur:o.default.func,onMouseDown:o.default.func,onMouseUp:o.default.func,controlAttrs:o.default.object}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(1)),o=n(17),i=n(7),a=s((n(33).default||n(33)).applyDecls());function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.declMod)({autoclosable:!0},{block:"popup2",willInit:function(){this.__base.apply(this,arguments),this._onDocKeyDown=this._onDocKeyDown.bind(this),this._onOutsideClick=this._onOutsideClick.bind(this),this.toggleWatchAutoClosableEvents=this.toggleWatchAutoClosableEvents.bind(this)},didMount:function(){this.__base.apply(this,arguments),this.props.visible&&this.toggleWatchAutoClosableEvents(!0)},willReceiveProps:function(e){var t=e.visible;this.__base.apply(this,arguments),this.props.visible!==t&&(this._preventHideByClick=!0,this.toggleWatchAutoClosableEvents(t))},willUnmount:function(){this.__base.apply(this,arguments),this.toggleWatchAutoClosableEvents(!1)},toggleWatchAutoClosableEvents:function(e){e?(window.addEventListener("keydown",this._onDocKeyDown),window.addEventListener("click",this._onOutsideClick)):(window.removeEventListener("keydown",this._onDocKeyDown),window.removeEventListener("click",this._onOutsideClick))},_anchor:function(){var e=this.props.anchor;return e&&e.call?e():e},_isElementOutside:function(e){if(this.domElementPopup.contains(e)||this.isElementInsideChildPopups(e))return!1;var t=(0,o.findDOMNode)(this._anchor());return!(t&&t.contains(e))},_onOutsideClick:function(e){this._preventHideByClick?this._preventHideByClick=null:this._isElementOutside(e.target)&&this.props.onOutsideClick&&this.props.onOutsideClick(e)},_onDocKeyDown:function(e){e.keyCode!==a.default.ESC||this._hasOpenedChildPopups||this.props.onOutsideClick&&this.props.onOutsideClick(e)}},{propTypes:{onOutsideClick:function(e){return(e.autoclosable?r.default.func.isRequired:r.default.func).apply(void 0,arguments)}}})},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=n(7);t.default=(0,i.declMod)({type:"link"},{block:"button2",tag:"a",willInit:function(){this.__base.apply(this,arguments),this.defaultPressKeys=["ENTER"]},attrs:function(e){var t=e.target,n=e.url,o=e.rel,i=e.tabIndex,a=void 0===i?0:i,s=this.state.disabled;return"_blank"===t&&o&&-1===o.indexOf("noopener")&&(o+=" noopener"),r({},this.__base.apply(this,arguments),{rel:o,target:t,type:void 0,autoComplete:void 0,href:s?void 0:n,disabled:void 0,tabIndex:s?-1:a})}},{propTypes:{url:o.default.string,target:o.default.string,type:o.default.string,rel:o.default.string}})},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AVAILABLE_DIRECTIONS=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=l(n(0)),i=n(17),a=l(i),s=l(n(1)),u=l((n(154).default||n(154)).applyDecls()),c=n(7);function l(e){return e&&e.__esModule?e:{default:e}}var p=t.AVAILABLE_DIRECTIONS=["bottom-left","bottom-center","bottom-right","top-left","top-center","top-right","right-top","right-center","right-bottom","left-top","left-center","left-bottom"];t.default=(0,c.decl)({block:"popup2",getChildContext:function(){return{registerChildPopup:this._registerChildPopup,unRegisterChildPopup:this._unRegisterChildPopup,zIndexGroupLevel:this._zIndexGroupLevel}},willInit:function(e){var t=e.scope;this.__base.apply(this,arguments),this.defaultMainOffset=0,this.defaultViewportOffset=0,this.drawn=!1,this.redrawTimer=null,this._style={popup:{},tail:{}},this._scope=t||("undefined"!=typeof document?document.body:null),this._childPopups=[],this._hasOpenedChildPopups=!1,this._zIndex=null,this._zIndexGroupLevel=null,this._onWinScrollAndResize=this._onWinScrollAndResize.bind(this),this._registerChildPopup=this._registerChildPopup.bind(this),this._unRegisterChildPopup=this._unRegisterChildPopup.bind(this),this.toggleWatchBaseEvents=this.toggleWatchBaseEvents.bind(this)},didMount:function(){var e=this;"function"==typeof this.context.registerChildPopup&&this.context.registerChildPopup(this),this.hasDOMNode=!1,this._container=document.createElement("div"),this._scope.appendChild(this._container),this.redraw(this.props),this.props.visible&&(this.toggleWatchBaseEvents(!0),this.redrawTimer=setTimeout(function(){return e.redraw(e.props)},0))},willReceiveProps:function(e){var t=e.visible,n=e.scope;t&&n&&this._scope!==n&&(this._scope.removeChild(this._container),this._scope=n,this._scope.appendChild(this._container)),this.props.visible!==t&&(t||this._releaseZIndex(),this.toggleWatchBaseEvents(t))},willUpdate:function(e){var t=this;this.hasDOMNode=!0,this.redraw(e),this.redrawTimer&&clearTimeout(this.redrawTimer),this.redrawTimer=setTimeout(function(){t.hasDOMNode&&t.redraw(e),t.redrawTimer=null},0)},willUnmount:function(){"function"==typeof this.context.unRegisterChildPopup&&this.context.unRegisterChildPopup(this),this.hasDOMNode=!1,(0,i.unmountComponentAtNode)(this._container),this._scope.removeChild(this._container),this.toggleWatchBaseEvents(!1),null!==this.redrawTimer&&(clearTimeout(this.redrawTimer),this.redrawTimer=null)},mods:function(e){var t=e.theme,n=e.visible;e.direction;return{view:e.view,tone:e.tone,theme:t,direction:this._direction,visible:this.__self.bool2string(n)}},attrs:function(e){var t=e.onMouseOver,n=e.onMouseLeave;return r({},this.__base.apply(this,arguments),{onMouseOver:t,onMouseLeave:n})},toggleWatchBaseEvents:function(e){e?(window.addEventListener("scroll",this._onWinScrollAndResize),window.addEventListener("resize",this._onWinScrollAndResize)):(window.removeEventListener("scroll",this._onWinScrollAndResize),window.removeEventListener("resize",this._onWinScrollAndResize))},redraw:function(e){var t=this.draw(e);return this.__self.inject(this,t,this._container)},draw:function(e){var t=this,n=e.hasTail,a=e.tailSize,s=e.children;if(e.visible&&this.domElementPopup){var c=this._calcBestDrawingParams(e),l=c.left,p=c.top,f=c.tail,d=c.direction,h=this._scope.getBoundingClientRect();l-=h.left+window.pageXOffset,p-=h.top+window.pageYOffset,!this.drawn&&this.props.visible&&(this._captureZIndex(),this.drawn=!0),e.calcPossible&&this._calcPossibleDrawingParams(e),this._style.popup=r({},this._style.popup,{left:l,top:p},e.style),this._direction=d,n&&(this._style.tail=r({},f,{width:a,height:a}))}var m=this.__self.classBuilder.stringify(this.block,this.elem,this.mods(e),this.__self.classBuilder.joinMixes(this.mix(e)),this.cls(e)),y=this.tag(e);return o.default.createElement(y,r({className:m,style:r({},this._style.popup)},this.attrs(e),{ref:function(e){return t.domElementPopup=(0,i.findDOMNode)(e)}}),n&&o.default.createElement(u.default,{style:this._style.tail,ref:function(e){return t.domElementTail=(0,i.findDOMNode)(e)}}),s)},render:function(){return null},_registerChildPopup:function(e){this._childPopups.push(e)},_unRegisterChildPopup:function(e){var t=this._childPopups.indexOf(e);-1!==t&&this._childPopups.splice(t,1)},isElementInsideChildPopups:function(e){return this._childPopups.some(function(t){return t.domElementPopup.contains(e)||t.isElementInsideChildPopups(e)})},_onWinScrollAndResize:function(){this.redraw(this.props)},_calcPossibleDrawingParams:function(e){var t=this,n=this._calcTargetDimensions(e),r=this._calcViewportDimensions(),o=this._calcOffsets(),i=e.directions;e.calcPossible(i.map(function(e){var i={direction:e,width:0,height:0,left:0,top:0};return t._checkMainDirection(e,"bottom")?(i.top=n.top+n.height+o.main,i.height=r.bottom-i.top-o.viewport):t._checkMainDirection(e,"top")?(i.height=n.top-r.top-o.main-o.viewport,i.top=n.top-i.height-o.main):(t._checkSecondaryDirection(e,"center")?(i.height=r.bottom-r.top-2*o.viewport,i.top=n.top+(n.height-i.height)/2):t._checkSecondaryDirection(e,"bottom")?(i.height=n.top+n.height-r.top-o.secondary-o.viewport,i.top=n.top+n.height-i.height-o.secondary):t._checkSecondaryDirection(e,"top")&&(i.top=n.top+o.secondary,i.height=r.bottom-i.top-o.viewport),t._checkMainDirection(e,"left")?(i.width=n.left-r.left-o.main-o.viewport,i.left=n.left-i.width-o.main):(i.left=n.left+n.width+o.main,i.width=r.right-i.left-o.viewport)),t._checkSecondaryDirection(e,"right")?(i.width=n.left+n.width-r.left-o.secondary-o.viewport,i.left=n.left+n.width-i.width-o.secondary):t._checkSecondaryDirection(e,"left")?(i.left=n.left+o.secondary,i.width=r.right-i.left-o.viewport):t._checkSecondaryDirection(e,"center")&&t._checkMainDirection(e,"top","bottom")&&(i.width=r.right-r.left-2*o.viewport,i.left=n.left+n.width/2-i.width/2),i}))},_calcBestDrawingParams:function(e){for(var t=this._calcPopupDimensions(),n=this._calcTargetDimensions(e),r=this._calcViewportDimensions(),o=e.directions,i=o.length,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,p=void 0,f=0;f<i&&(a=o[f],s=this._calcPos(a,n,t),u=this._calcViewportFactor(s,r,t),(0===f||u>p||!p&&e.direction===a)&&(c=a,p=u,l=s),!(p>this.__self.VIEWPORT_ACCURACY_FACTOR));f++);return{direction:c,left:l.left,top:l.top,tail:this._calcTailPos(c,n,t,l)}},_calcPopupDimensions:function(){var e=this.domElementPopup,t=e.clientWidth,n=e.clientHeight,r=this.domElementPopup.getBoundingClientRect(),o=r.width,i=r.height;return{width:Math.round(o),height:Math.round(i),popupWidth:t,popupHeight:n,area:t*n}},_calcTargetDimensions:function(e){var t=e.target,n=e.position;return t||n?(this._viewportRect=document.documentElement.getBoundingClientRect(),r({},n,{width:0,height:0})):{left:0,top:0,width:0,height:0}},_calcTailDimension:function(){return this.props.tailSize?this.props.tailSize:this.domElementTail&&"none"!==this.domElementTail.style.display?this.domElementTail.offsetWidth:0},_calcViewportDimensions:function(){var e=window.pageYOffset,t=window.pageXOffset,n=window.innerWidth;return{top:e,left:t,bottom:e+window.innerHeight,right:t+n}},_calcPos:function(e,t,n){var r={},o=this._calcOffsets();return this._checkMainDirection(e,"bottom")?r.top=t.top+t.height+o.main:this._checkMainDirection(e,"top")?r.top=t.top-n.height-o.main:this._checkMainDirection(e,"left")?r.left=t.left-n.width-o.main:this._checkMainDirection(e,"right")&&(r.left=t.left+t.width+o.main),this._checkSecondaryDirection(e,"right")?r.left=t.left+t.width-n.width-o.secondary:this._checkSecondaryDirection(e,"left")?r.left=t.left+o.secondary:this._checkSecondaryDirection(e,"bottom")?r.top=t.top+t.height-n.height-o.secondary:this._checkSecondaryDirection(e,"top")?r.top=t.top+o.secondary:this._checkSecondaryDirection(e,"center")&&(this._checkMainDirection(e,"top","bottom")?r.left=t.left+t.width/2-n.width/2:this._checkMainDirection(e,"left","right")&&(r.top=t.top+t.height/2-n.height/2)),r},_calcViewportFactor:function(e,t,n){var r=this.props.viewportOffset||this.defaultViewportOffset,o=Math.max(e.left,t.left+r),i=Math.min(e.left+n.width,t.right-r),a=Math.max(e.top,t.top+r),s=Math.min(e.top+n.height,t.bottom-r);return o<i&&a<s?(i-o)*(s-a)/n.area:0},_calcTailPos:function(e,t,n,r){var o={},i=this._calcTailDimension()/2,a=this.props.tailOffset;return this._checkMainDirection(e,"bottom")?o.top=-i:this._checkMainDirection(e,"top")?o.top=Math.floor(n.popupHeight-i):this._checkMainDirection(e,"left")?o.left=Math.floor(n.popupWidth-i):this._checkMainDirection(e,"right")&&(o.left=-i),this._checkSecondaryDirection(e,"right")?o.left=n.popupWidth-Math.ceil(Math.min(n.popupWidth,t.width)/2)-i-a:this._checkSecondaryDirection(e,"left")?o.left=Math.ceil(Math.min(n.popupWidth,t.width)/2)-i+a:this._checkSecondaryDirection(e,"bottom")?o.top=n.popupHeight-Math.ceil(Math.min(n.popupHeight,t.height)/2)-i-a:this._checkSecondaryDirection(e,"top")?o.top=Math.ceil(Math.min(n.popupHeight,t.height)/2)-i+a:this._checkSecondaryDirection(e,"center")&&(this._checkMainDirection(e,"top","bottom")?o.left=Math.ceil(n.popupWidth/2)-i+a:o.top=Math.ceil(n.popupHeight/2)-i+a),o},_calcOffsets:function(){var e=this._calcTailDimension(),t=this.props.mainOffset||this.defaultMainOffset;return{main:e>0?Math.max(t,Math.round(e*Math.SQRT1_2)):t,secondary:this.props.secondaryOffset,viewport:this.props.viewportOffset||this.defaultViewportOffset}},_checkMainDirection:function(e,t,n){return 0===e.indexOf(t)||n&&0===e.indexOf(n)},_checkSecondaryDirection:function(e,t){return e.indexOf("-"+t)>0},_checkDirection:function(e,t){return e.indexOf(t)>=0},_calcZIndexGroupLevel:function(){return this.props.zIndexGroupLevel||this.context.zIndexGroupLevel||0},_setPreventHideByClick:function(){var e=this;do{e._preventHideByClick=!0,e=e._getParentPopup()}while(e)},_captureZIndex:function(){null===this._zIndexGroupLevel&&(this._zIndexGroupLevel=this._calcZIndexGroupLevel());var e=this.__self._visiblePopupsZIndexes,t=this._zIndexGroupLevel,n=e[t],r=this._zIndex;return n||(n=e[t]=[(t+1)*this.__self.ZINDEX_FACTOR]),this._zIndex=n[n.length-1]+1,n.push(this._zIndex),this._zIndex!==r&&(this._style.popup.zIndex=this._zIndex),this},_releaseZIndex:function(){var e=this.__self._visiblePopupsZIndexes[this._zIndexGroupLevel];return e&&e.length>1&&(this.drawn&&e.splice(e.indexOf(this._zIndex),1),this.drawn=!1),this},_recaptureZIndex:function(){return this._releaseZIndex(),this._zIndexGroupLevel=null,this._captureZIndex()}},{propTypes:{theme:s.default.string,target:s.default.oneOf(["anchor","position"]).isRequired,view:s.default.oneOf(["classic","default"]),tone:s.default.string,hasTail:s.default.bool,tailSize:s.default.number,position:s.default.object,autoclosable:s.default.bool,visible:s.default.bool,directions:s.default.array,mainOffset:s.default.number,zIndexGroupLevel:s.default.number,secondaryOffset:s.default.number,viewportOffset:s.default.number,tailOffset:s.default.number,onMouseOver:s.default.func,onMouseLeave:s.default.func,calcPossible:s.default.func},defaultProps:{view:"classic",target:"anchor",directions:p,secondaryOffset:0,tailOffset:0,zIndexGroupLevel:0},_visiblePopupsZIndexes:{},ZINDEX_FACTOR:1e3,VIEWPORT_ACCURACY_FACTOR:.99,UPDATE_TARGET_VISIBILITY_THROTTLING_INTERVAL:100,inject:a.default.unstable_renderSubtreeIntoContainer,contextTypes:{registerChildPopup:s.default.func,unRegisterChildPopup:s.default.func,zIndexGroupLevel:s.default.number},childContextTypes:{registerChildPopup:s.default.func,unRegisterChildPopup:s.default.func,zIndexGroupLevel:s.default.number}})},function(e,t,n){"use strict";var r=void 0;t.a=function(e,t){return"function"==typeof Audio&&(r||(r=new Audio),r.canPlayType(e+(t?'; codecs="'+t+'"':"")))}},function(e,t,n){"use strict";var r=n(211),o=n.n(r),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a),i(t,[{key:"toggleWatchAutoClosableEvents",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toggleWatchAutoClosableEvents",this).call(this,e),e?(window.addEventListener("contextmenu",this._onOutsideClick,!0),window.addEventListener("touchstart",this._onOutsideClick)):(window.removeEventListener("contextmenu",this._onOutsideClick,!0),window.removeEventListener("touchstart",this._onOutsideClick))}},{key:"_onOutsideClick",value:function(e){"click"===e.type&&2===e.button||a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onOutsideClick",this).call(this,e)}},{key:"componentWillReceiveProps",value:function(e){var n=this,r=e.autoclosable;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillReceiveProps",this).call(this,e),r&&setTimeout(function(){n._preventHideByClick=!1},0)}},{key:"componentWillUnmount",value:function(){var e=this.props,n=e.autoclosable,r=e.visible;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this),n&&r&&(window.removeEventListener("contextmenu",this._onOutsideClick,!0),window.removeEventListener("touchstart",this._onOutsideClick))}}]),t}();t.a=s},function(e,t,n){"use strict";var r=n(43),o=n.n(r),i=n(1),a=n.n(i),s=n(0),u=n.n(s),c=n(2),l=n.n(c),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["Component"]),p(t,[{key:"_getClassName",value:function(e){var t=this.props,n=t.size,r=t.cls,o=t.shadow,i=[];return r&&i.push(String(r)),l()()("file-icon").m(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({size:n,shadow:o},e,!0)).mix(i)}},{key:"render",value:function(){var e=this.props,t=e.ext,n=e.type,r=e.mediatype,i=void 0;return i="album"===n||n===o.a.virus?n:/^dir/.test(n)?function(e){return e!==o.a.folderDefault&&-1!==o.a.folderTypes.indexOf(e)?e:o.a.folderDefault}(n):function(e,t){return"."!==(e=e?e.toLowerCase():"")[0]&&(e="."+e),t=t?t.toLowerCase():"",o.a.extnames[e]||o.a.mediatypes[t]||o.a.default}(t,r),u.a.createElement("span",{className:this._getClassName(i)})}}]),t}();f.propTypes={size:a.a.oneOf(["xs","s","m","l","xl"]),shadow:a.a.bool},f.defaultProps={size:"s",shadow:!1},t.a=f},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(10),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["a"]),a(t,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return o.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.096 5.73c-.322-.176-.659-.362-1.012-.558-1.875-1.042-3.75-1.695-6.345-.62C6.145 5.627 5.287 7.41 4.7 9.472c-.11.387-.216.757-.318 1.109C5.967 9.469 7.87 8.43 9.984 7.555c2.118-.878 4.202-1.49 6.112-1.824m-1.883 12.032c-7.082 2.934-12.2 2.06-13.065-.028-1.01-2.437 3.257-6.246 9.41-8.795 6.154-2.55 11.864-2.872 12.874-.436.865 2.09-2.137 6.326-9.219 9.259m-.549-1.326c3.133-1.298 5.33-3.178 4.906-4.2-.423-1.021-3.306-.797-6.439.5-3.133 1.298-5.329 3.178-4.906 4.2.423 1.02 3.306.797 6.44-.5"})}}]),t}();t.a=s},function(e,t,n){"use strict";var r=n(34),o=n(4),i=n(24),a=function(e,t){var n=e&&e.meta||{},r=t&&t.meta||{};return Object.assign({children:[],completed:!1,parent:null},e,t,{meta:Object.assign({},n,r)})};function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=n(4),c=u.OPEN_PANE,l=u.CLOSE_PANE,p=u.OPEN_SLIDER,f=u.CLOSE_SLIDER,d=u.SET_ACTION_BARS_VISIBILITY,h=u.OPEN_DOWNLOAD_VIRUS_DIALOG,m=u.CLOSE_DOWNLOAD_VIRUS_DIALOG;function y(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e,t){var n=void 0,r=void 0;return e.some(function(e){if(e.comment_id===t)return n=e,!0;if(e.replies){var o=e.replies.find(function(e){return e.comment_id===t});if(o)return n=o,r=e,!0}return!1}),{comment:n,parentComment:r}},_=function(e,t,n,r){if(r){var o=e.indexOf(r),i=r.replies.indexOf(t),a=Object.assign({},r,{replies:[].concat(y(r.replies.slice(0,i)),[n],y(r.replies.slice(i+1)))});return[].concat(y(e.slice(0,o)),[a],y(e.slice(o+1)))}var s=e.indexOf(t);return[].concat(y(e.slice(0,s)),[n],y(e.slice(s+1)))},g=function(e,t){return Object.assign({},t,{avatarUrl:e.yapicOrigin+"/get/"+t.uid+"/islands-middle"})},O=Object(r.c)({entity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case o.FETCH_COMMENTS_SUCCESS:case o.ADD_COMMENT_SUCCESS:return Object.assign({},e,t.data.entity);case o.SET_ATTITUDE:if(t.commentId)return e;var n=Object.assign({},e);return e.my_attitude&&n[e.my_attitude+"s_count"]--,t.attitudeType&&n[t.attitudeType+"s_count"]++,n.my_attitude=t.attitudeType,n}return e},root:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.parentId)return e;switch(t.type){case o.FETCH_COMMENTS_START:return t.position?Object.assign({},e,{loadMoreState:t.position}):Object.assign({},e,{fetchingComments:!0});case o.FETCH_COMMENTS_SUCCESS:if(t.position){var n,r="has_items_"+t.position;return Object.assign({},e,(v(n={},r,t.data[r]),v(n,"loadMoreState",""),n))}return Object.assign({},e,{fetchingComments:!1,has_items_after:t.data.has_items_after,has_items_before:t.data.has_items_before});case o.FETCH_COMMENTS_ERROR:return t.position?Object.assign({},e,{loadMoreState:""}):Object.assign({},e,{fetchingComments:!1,fetchingCommentsError:t.error.message});case o.ADD_COMMENT_START:return Object.assign({},e,{addingCommentState:"progress",addingCommentError:""});case o.ADD_COMMENT_SUCCESS:return Object.assign({},e,{addingCommentState:"success"});case o.ADD_COMMENT_ERROR:return Object.assign({},e,{addingCommentState:"error",addingCommentError:t.error.message})}return e},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case o.FETCH_COMMENTS_SUCCESS:if(t.parentId){var n=e.find(function(e){return t.parentId===e.comment_id}),r=e.indexOf(n);return[].concat(y(e.slice(0,r)),[t.data.items[0]],y(e.slice(r+1)))}var i=t.reset?[]:e;return"before"===t.position?[].concat(y(t.data.items),y(i)):[].concat(y(i),y(t.data.items));case o.ADD_COMMENT_START:return t.parentId?e.map(function(e){return e.comment_id===t.parentId?Object.assign({},e,{addingCommentState:"progress",addingCommentError:""}):e}):e;case o.ADD_COMMENT_SUCCESS:return t.parentId?e.map(function(e){return e.comment_id===t.parentId?Object.assign({},e,t.data.items[0],{addingCommentState:"success"}):e}):[].concat(y(e),y(t.data.items));case o.ADD_COMMENT_ERROR:return t.parentId?e.map(function(e){return e.comment_id===t.parentId?Object.assign({},e,{addingCommentState:"error",addingCommentError:t.error.message}):e}):e;case o.DELETE_COMMENT:case o.RESTORE_COMMENT:var a=b(e,t.commentId),s=a.comment,u=a.parentComment,c=Object.assign({},s);return c.deleted=t.type===o.DELETE_COMMENT,_(e,s,c,u);case o.SET_ATTITUDE:if(!t.commentId)return e;var l=b(e,t.commentId),p=l.comment,f=l.parentComment,d=Object.assign({},p);return p.my_attitude&&d[p.my_attitude+"s_count"]--,t.attitudeType&&d[t.attitudeType+"s_count"]++,d.my_attitude=t.attitudeType,_(e,p,d,f);case o.SELECT_COMMENT:case o.DESELECT_COMMENT:var h=b(e,t.commentId),m=h.comment,v=h.parentComment,g=Object.assign({},m);return g.selected=t.type===o.SELECT_COMMENT,_(e,m,g,v);case o.SCROLL_TO_COMMENT:case o.REMOVE_SCROLL_TO_COMMENT_PROP:var O=b(e,t.commentId),w=O.comment,E=O.parentComment,k=Object.assign({},w);return k.scrollToNode=t.type===o.SCROLL_TO_COMMENT,_(e,w,k,E)}return e},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case o.FETCH_COMMENTS_SUCCESS:case o.ADD_COMMENT_SUCCESS:var n=t.data.users.reduce(function(e,t){return e[t.uid]=Object.assign({},t),e},{});return Object.assign({},e,n)}return e},lastAddedCommentId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case o.ADD_COMMENT_SUCCESS:var n=t.parentId?t.data.items[0].replies:t.data.items;return n[n.length-1].comment_id;default:return e}},storedData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case o.SAVE_TEXTAREA_VALUE:return Object.assign({},e,v({},t.parentId,t.text));case o.REMOVE_TEXTAREA_VALUE:var n=Object.assign({},e);return delete n[t.parentId],n;case o.RESTORE_TEXTAREAS_VALUES:return Object.assign({},e,t.values);default:return e}}}),w=n(3),E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,o=arguments[1];return o.type!==e?r:o[t]}},k=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];return r.type!==e?n:Object.assign({},n,r[t])}};n.d(t,"b",function(){return D}),n.d(t,"c",function(){return A});var C=E(o.UPDATE_UA,"ua",{}),x=E(o.UPDATE_AUTH_ORIGINS,"authOrigins"),T=E(o.UPDATE_CURRENT_RESOURCE_ID,"id"),S=E(o.UPDATE_ROOT_RESOURCE_ID,"id"),P=E(o.SET_SELECTED_RESOURCES,"selectedResources",[]),j=k(o.UPDATE_USER,"user"),I=k(o.UPDATE_ENVIRONMENT,"environment"),R=k(o.UPDATE_SERVICES,"services"),M=E(o.SET_LISTING_TYPE,"listingType","list"),D=(t.a=Object(r.c)({ua:C,url:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case o.SET_URL:return Object.assign({},t.url,{query:Object(i.a)(t.url.query)});case o.UPDATE_PATHNAME:return Object.assign({},e,{pathname:t.pathname});case o.ADD_QUERY_PARAMS:var n=e.query||{},r=Object.assign({},e.query||{},t.params);return Object(i.a)(r),Object.keys(r).some(function(e){return n[e]!==r[e]})||Object.keys(n).some(function(e){return n[e]!==r[e]})?Object.assign({},e,{query:r}):e;case o.REMOVE_QUERY_PARAMS:var a=Object.assign({},e.query),s=!1;return t.params.forEach(function(e){a[e]&&(s=!0,delete a[e])}),s?Object.assign({},e,{query:a}):e;default:return e}},environment:I,services:R,user:j,users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case o.UPDATE_USERS:var n=Object.assign({},e);return t.payload.users.filter(function(e){var t=e.uid;return!n[t]}).forEach(function(e){n[e.uid]=e}),n;default:return e}},rootResourceId:S,currentResourceId:T,resources:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case o.UPDATE_RESOURCES:return function(e,t){var n=t.payload,r=Object.assign({},e),o=n.resources,i=n.replace,s=void 0!==i&&i,u=n.replaceChildren,c=void 0!==u&&u,l=o[0];if(s)return o;var p=a(r[l.id],l);p.loading=!1,r[l.id]=p;for(var f=[],d=1;d<o.length;d++){var h=o[d];h.id!==p.id&&(r[h.id]=a({},h),r[h.id].parent=p.id,f.push(h.id))}return p.children=c?f:p.children.concat(f),r}(e,t);case o.UPDATE_ONE_RESOURCE:var n=Object.assign({},e[t.payload.resourceId].meta,t.payload.resource.meta),r=Object.assign({},e[t.payload.resourceId],t.payload.resource,{meta:n});return Object.assign({},e,s({},t.payload.resourceId,r));case o.FETCH_RESOURCES_LIST_START:return Object.assign({},e,s({},t.id,Object.assign({},e[t.id],{loading:!0})));case o.FETCH_RESOURCES_LIST_SUCCESS:return Object.assign({},e,s({},t.id,Object.assign({},e[t.id],{loading:!1})));case o.FETCH_RESOURCES_LIST_ERROR:return Object.assign({},e,s({},t.id,Object.assign({},e[t.id],{loading:!1,completed:!0})));default:return e}},selectedResources:P,authOrigins:x,waitingAuthActions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case o.ADD_WAITING_AUTH_ACTION:return Object.assign({},e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t.name,t.value));case o.CLEAR_WAITING_AUTH_ACTIONS:return{};default:return e}},operations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case o.UPSERT_OPERATION:var n=Object.assign({},e);return n[t.operation]=Object.assign({},n[t.operation]||{}),n[t.operation][t.resourceId]=Object.assign({},n[t.operation][t.resourceId]||{},{state:t.state},t.params||{}),n}return e},overlays:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{activePane:{}},t=arguments[1];switch(t.type){case c:return Object.assign({},e,{activePane:t.pane});case l:return Object.assign({},e,{activePane:{}});case p:return Object.assign({},e,{sliderResourceId:t.resourceId});case f:return Object.assign({},e,{sliderResourceId:""});case d:return Object.assign({},e,{isActionBarsHidden:!t.state});case h:return Object.assign({},e,{downloadVirusFileId:t.resourceId});case m:return Object.assign({},e,{downloadVirusFileId:""});default:return e}},comments:O,notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{current:null,items:[],state:w.b.CLOSED},t=arguments[1];switch(t.type){case o.CHANGE_NOTIFICATIONS_STATE:(e=Object.assign({},e)).state=t.state,e.state===w.b.OPENING&&(e.current=e.items[0],e.items=e.items.slice(1)),e.state===w.b.CLOSED&&(e.current=null);break;case o.ADD_NOTIFICATION:(e=Object.assign({},e)).items=e.items.concat(t.notification)}return e},listingType:M}),function(e){return function(e,t){return t.comments.map(function(n){var r=(n.replies||[]).map(function(n){return Object.assign({},n,{user:g(e,t.users[n.author_id])})});return Object.assign({},n,{user:g(e,t.users[n.author_id]),replies:r})})}(e.environment,e.comments)}),A=function(e){var t=e.resources,n=e.rootResourceId,r=e.user,o=t[n];return!o.commentsDisabled&&!r.loading&&o.commentsCount>0}},function(e,t,n){"use strict";var r=n(208),o="object"==typeof self&&self&&self.Object===Object&&self,i=(r.a||o||Function("return this")()).Symbol,a=Object.prototype,s=a.hasOwnProperty,u=a.toString,c=i?i.toStringTag:void 0;var l=function(e){var t=s.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(e){}var o=u.call(e);return r&&(t?e[c]=n:delete e[c]),o},p=Object.prototype.toString;var f=function(e){return p.call(e)},d="[object Null]",h="[object Undefined]",m=i?i.toStringTag:void 0;var y=function(e){return null==e?void 0===e?h:d:m&&m in Object(e)?l(e):f(e)};var v=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);var b=function(e){return null!=e&&"object"==typeof e},_="[object Object]",g=Function.prototype,O=Object.prototype,w=g.toString,E=O.hasOwnProperty,k=w.call(Object);t.a=function(e){if(!b(e)||y(e)!=_)return!1;var t=v(e);if(null===t)return!0;var n=E.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&w.call(n)==k}},function(e,t,n){"use strict";var r=n(12),o=[r.SOCIAL.VK,r.SOCIAL.FB,r.SOCIAL.MAIL,r.SOCIAL.TW,r.SOCIAL.OK,r.SOCIAL.GPLUS,r.SOCIAL.MOIMIR],i=[r.SOCIAL.FB,r.SOCIAL.MAIL,r.SOCIAL.GPLUS,r.SOCIAL.TW],a=[r.SERVICES.DISK,r.SERVICES.SEARCH,r.SERVICES.CALENDAR,r.SERVICES.MAIL,r.SERVICES.MONEY,r.SERVICES.IMAGES,r.SERVICES.NEWS,r.SERVICES.MAPS,r.SERVICES.MARKET,r.SERVICES.WEATHER,r.SERVICES.TV,r.SERVICES.MUSIC,r.SERVICES.AFISHA,r.SERVICES.BROWSER,r.SERVICES.METRIKA,r.SERVICES.DIRECT],s=[r.SERVICES.DISK,r.SERVICES.SEARCH,r.SERVICES.CALENDAR,r.SERVICES.MAIL,r.SERVICES.IMAGES,r.SERVICES.NEWS,r.SERVICES.MAPS,r.SERVICES.WEATHER,r.SERVICES.AFISHA,r.SERVICES.BROWSER,r.SERVICES.METRIKA,r.SERVICES.DIRECT],u=[r.SERVICES.MAIL,r.SERVICES.CALENDAR];t.a={am:{shareServices:o,burgerServices:a,inlineHeaderServices:u},az:{shareServices:o,burgerServices:a,inlineHeaderServices:u},by:{shareServices:o,burgerServices:a,inlineHeaderServices:u},ee:{shareServices:o,burgerServices:a,inlineHeaderServices:u},com:{shareServices:i,burgerServices:s,inlineHeaderServices:u},fr:{shareServices:i,burgerServices:s,inlineHeaderServices:u},ge:{shareServices:o,burgerServices:a,inlineHeaderServices:u},il:{shareServices:i,burgerServices:s,inlineHeaderServices:u},kg:{shareServices:o,burgerServices:a,inlineHeaderServices:u},kz:{shareServices:o,burgerServices:a,inlineHeaderServices:u},lt:{shareServices:o,burgerServices:a,inlineHeaderServices:u},lv:{shareServices:o,burgerServices:a,inlineHeaderServices:u},md:{shareServices:o,burgerServices:a,inlineHeaderServices:u},ru:{shareServices:o,burgerServices:a,inlineHeaderServices:u},tj:{shareServices:o,burgerServices:a,inlineHeaderServices:u},tm:{shareServices:o,burgerServices:a,inlineHeaderServices:u},tr:{shareServices:i,burgerServices:s,inlineHeaderServices:u},ua:{shareServices:o,burgerServices:a,inlineHeaderServices:u},uz:{shareServices:o,burgerServices:a,inlineHeaderServices:u}}},function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(73),o=n(134);e.exports=n(61)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){e.exports=!n(113)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(77);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=d(o),a=d(n(1)),s=d((n(33).default||n(33)).applyDecls()),u=n(7),c=d((n(46),(n(23).default||n(23)).applyDecls())),l=d((n(39).default||n(39)).applyDecls()),p=d((n(146).default||n(146)).applyDecls()),f=d((n(147).default||n(147)).applyDecls());function d(e){return e&&e.__esModule?e:{default:e}}t.default=(0,u.decl)(c.default,{block:"button2",willInit:function(e){var t=e.checked,n=e.progress;this.__base.apply(this,arguments),this.defaultPressKeys=["SPACE","ENTER"],this.defaultPrvntKeys=[],this.state.checked=t,n&&(this.state.disabled=n),this.onClick=this.onClick.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.setReference=this.setReference.bind(this)},tag:function(e){return e.tag||"button"},willReceiveProps:function(e){var t=e.disabled,n=e.checked,r=e.progress,o=e.pressed,i=e.focused;this.__base.apply(this,arguments),r!==this.props.progress&&this.setState({disabled:r}),t||o===this.props.pressed||this.setState({pressed:o}),i!==this.props.focused&&this.setState({focused:i,pressed:i&&o}),n!==this.props.checked&&this.setState({checked:n})},mods:function(e){var t=e.view,n=e.tone,o=e.size,i=e.theme,a=e.pin,s=e.pale,u=e.width,c=e.progress,l=e.action,p=this.state,f=p.disabled,d=p.checked;return r({},this.__base.apply(this,arguments),{view:t,tone:n,size:o,theme:i,pin:a,width:u,action:this.__self.bool2string(l),pale:this.__self.bool2string(s),checked:this.__self.bool2string(d),disabled:this.__self.bool2string(f),progress:this.__self.bool2string(c)})},attrs:function(e){var t=e.title,n=e.id,o=e.name,i=e.val,a=e.tabIndex,s=e.style,u=e.attrs,c=(e.progress,this.state),l=c.disabled,p=c.checked;return r({},this.__base.apply(this,arguments),{id:n,title:t,name:o,style:s,disabled:l,value:i,type:"button",autoComplete:"off","aria-pressed":String(Boolean(p)),tabIndex:l?void 0:a,onClick:l?void 0:this.onClick,"aria-disabled":String(Boolean(l)),onKeyUp:l?void 0:this.onKeyUp,onKeyDown:l?void 0:this.onKeyDown,onKeyPress:l?void 0:this.onKeyPress,ref:this.setReference},u)},content:function(e){var t=e.size,n=e.textAttrs,r=e.text,a=e.icon,s=e.iconLeft,u=e.iconRight,c=e.children,d=[],h=[];return o.Children.forEach(c,function(e,r){1===o.Children.count(c)&&l.default.isIcon(e)?d.unshift(i.default.createElement(f.default,{key:"only-icon",size:t,children:e})):l.default.isIcon(e)&&0===r?d.unshift(i.default.createElement(f.default,{key:"icon-left",side:"left",size:t,children:e})):l.default.isIcon(e)&&d.length?d.unshift(i.default.createElement(f.default,{key:"icon-right",side:"right",size:t,children:e})):e&&(h.length||d.push(i.default.createElement(p.default,{key:"text",attrs:n},h)),h.push(e))}),r&&(h.length||d.push(i.default.createElement(p.default,{key:"text",attrs:n},h)),h.push(r)),a&&d.unshift(i.default.createElement(f.default,{key:"only-icon",size:t,children:l.default.isIcon(a)?a:i.default.createElement(l.default,a.mods)})),u&&d.unshift(i.default.createElement(f.default,{key:"icon-right",side:"right",size:t,children:l.default.isIcon(u)?u:i.default.createElement(l.default,u.mods)})),s&&d.unshift(i.default.createElement(f.default,{key:"icon-left",side:"left",size:t,children:l.default.isIcon(s)?s:i.default.createElement(l.default,s.mods)})),d},onKeyDown:function(e){s.default.is(e.keyCode,this.props.pressKeys||this.defaultPressKeys)&&(this.setState({pressed:!0}),s.default.is(e.keyCode,this.props.prvntKeys||this.defaultPrvntKeys)&&e.preventDefault()),this.props.onKeyDown&&this.props.onKeyDown(e)},onKeyUp:function(e){s.default.is(e.keyCode,this.props.prvntKeys||this.defaultPrvntKeys)&&e.preventDefault(),s.default.is(e.keyCode,this.props.pressKeys||this.defaultPressKeys)&&this.setState({pressed:!1}),this.props.onKeyUp&&this.props.onKeyUp(e)},onKeyPress:function(e){this.props.onKeyPress&&this.props.onKeyPress(e)},onClick:function(e){this.control&&this.control.focus(),this.props.onClick&&this.props.onClick(e)},setReference:function(e){this.control=e,this.props.innerRef&&this.props.innerRef(e)},onMouseDown:function(e){this.__base.apply(this,arguments),e.preventDefault()}},{propTypes:{theme:a.default.string.isRequired,size:a.default.oneOf(["ns","xs","s","m","l","n","head"]),id:a.default.string,name:a.default.string,title:a.default.string,tabIndex:a.default.number,text:a.default.string,type:a.default.string,iconLeft:a.default.object,iconRight:a.default.object,onClick:a.default.func,progress:a.default.bool,innerRef:a.default.func,pressKeys:a.default.arrayOf(a.default.oneOf(s.default.list())),prvntKeys:a.default.arrayOf(a.default.oneOf(s.default.list()))},defaultProps:{view:"classic",tabIndex:0}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=(0,r.declMod)({theme:"normal"},{block:"popup2",willInit:function(){this.__base.apply(this,arguments),this.defaultMainOffset=5,this.defaultViewportOffset=5}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),o=n(7);t.default=(0,o.decl)({block:"user-account",elem:"name",tag:"span",content:function(e){var t=e.text;return e.children||t}},{propTypes:{text:r.default.string}})},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(42),a=n.n(i),s=n(31),u=n(2),c=n.n(u),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0};function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(){return c()()("menu")},y=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,a.a),l(t,[{key:"mods",value:function(e){return Object.assign({wide:a.a.bool2string(e.wide),paddingless:a.a.bool2string(e.paddingless)},p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mods",this).call(this,e))}}]),t}(),v=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,a.a.Item),l(t,[{key:"mods",value:function(e){return Object.assign({highlighted:a.a.bool2string(e.highlighted),type:e.type},p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mods",this).call(this,e))}}]),t}(),b=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,a.a.Group),l(t,[{key:"mods",value:function(e){return Object.assign({paddingless:a.a.bool2string(e.paddingless)},p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mods",this).call(this,e))}}]),t}(),_=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,v),l(t,[{key:"render",value:function(){return o.a.createElement(s.a,{text:this.props.tooltipText,cls:m().e("hover-tooltip"),tooltipCls:String(m().e("hover-tooltip-tooltip")),to:["left","right"]},o.a.createElement(v,this.props))}}]),t}();y.Item=v,y.ItemWithTooltip=_,y.Group=b,t.a=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}((n(295),(n(169).default||n(169)).applyDecls()));t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}((n(129),(n(181).default||n(181)).applyDecls()));t.default=r.default},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(54),u=n(2),c=n.n(u),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(e){var t=e.resource,n=e.cls,r=e.size,i=t.title.split(".").pop(),a=void 0;return a="dir"===t.type?{type:"dir"+(t.iconType?"_"+t.iconType:""),cls:c()()("listing-item").e("dir-icon").mix(n)}:{ext:i,mediatype:t.mediatype,type:t.iconType,cls:n},o.a.createElement(s.a,l({size:r},a))},f={},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var h=function(){},m=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onLoad=i._onLoad.bind(i),i._onError=i._onError.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),d(t,[{key:"componentDidMount",value:function(){if(this._isImageLoaded())this._onLoad();else{var e=new Image;e.addEventListener("load",this._onLoad),e.addEventListener("error",this._onError),e.src=this.props.src}}},{key:"_isImageLoaded",value:function(){return this._imageNode.naturalWidth>0}},{key:"_onLoad",value:function(){this.props.rumId&&function(e,t){f[e]||(f[e]=0),Ya.Rum&&f[e]<50&&(Ya.Rum.sendResTiming([e,85+f[e]].join("."),t),f[e]++)}(this.props.rumId,this.props.src),this.props.onLoad()}},{key:"_onError",value:function(){this.props.onError()}},{key:"render",value:function(){var e=this;return o.a.createElement("img",{className:c()()("resource-image").mix(this.props.cls),ref:function(t){e._imageNode=t},src:this.props.src,onLoad:this._onLoad,onError:this._onError})}}]),t}();m.propTypes={onError:a.a.func,onLoad:a.a.func,src:a.a.string.isRequired,rumId:a.a.number},m.defaultProps={onError:h,onLoad:h};var y=m,v={row:40,m:80,l:145,default:40},b={row:"m",tile:"m"},_=function(e){var t=e.defaultPreview,n=e.iconType,r=e.onImageLoadError,i=e.onImageLoadSuccess,a=e.previewLoadFailed,s=e.theme,u=e.useRealDevicePixelRatio,l=e.previewRumId,f=e.size||b[s],d=Boolean(t&&!n),h={theme:s,size:f,img:d},m=c()()("resource-icon-preview").m(h).mix(e.cls);return d&&!a?o.a.createElement(y,{cls:m,onError:r,onLoad:i,src:function(e,t,n,r){var o=r&&window.devicePixelRatio||1,i=v[n]||v[t]||v.default,a=e+"&size="+(i=Math.floor(i*o))+"x"+i;return D(n)&&(a+="&crop=1"),a}(t,f,s,u),rumId:l}):o.a.createElement(p,{cls:m,size:f,resource:e})},g=n(10),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g["a"]),O(t,[{key:"getContentSVG",value:function(){return o.a.createElement("path",{fill:"currentColor",d:"m1 0v16l14-8"})}}]),t}(),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var k=[".",",",":",";","!","?","",")","]","}","","",'"',"'"],C=["(","[","{","","",'"',"'"],x=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={text:e.text},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.PureComponent),E(t,[{key:"componentDidMount",value:function(){this._createContext(this.props),this._updateText(this.props)}},{key:"componentWillReceiveProps",value:function(e){this._updateContext(e),this._updateText(e)}},{key:"_createContext",value:function(e){this._context=document.createElement("canvas").getContext("2d"),this._updateContext(e)}},{key:"_updateContext",value:function(e){var t=e.font;this._context.font=t}},{key:"_updateText",value:function(e){this.setState({text:this._getText(e)})}},{key:"_getText",value:function(e){var t=e.numberOfRows,n=e.text,r=e.width;if(n=n.replace("\n"," "),!r)return n;for(var o=[],i=0;i<t;i++){var a={text:n.slice(o.join("").length),width:r},s=i===t-1?this._getTextRowWithFiller(a):this._getTextRow(a);if(o.push(s),o.join("")===n)break}return o.map(function(e){return e.trim()}).join("\n")}},{key:"_getTextRow",value:function(e){var t=e.text,n=e.width,r=this._context.measureText(t.trim()).width,o=r/t.length,i=this._getMaximumBreakableLengthFromPosition({text:t,position:Math.floor((r-n)/o)}),a=this._getUnbreakableSequenceLength(t);return r>n&&t.length>3?this._getTextRow({text:this._trimRight({text:t,trimBy:a||i>2&&i||1}),width:n}):t}},{key:"_getTextRowWithFiller",value:function(e){var t=e.text,n=e.beginText,r=e.endText,o=e.width,i=n&&r,a=i?n+this.props.filler+r:t,s=this._context.measureText(a.trim()).width;if(s>o&&a.length>3){if(i){var u=n.length>=r.length;return this._getTextRowWithFiller({beginText:this._trimRight({text:n,trimBy:u?1:0}),endText:this._trimLeft({text:r,trimBy:u?0:1}),width:o})}var c=s/a.length,l=Math.floor((s-o)/c/2),p=.5*t.length+(l>1?l:0);return this._getTextRowWithFiller({beginText:this._trimRight({text:t,trimBy:p}),endText:this._trimLeft({text:t,trimBy:p}),width:o})}return a}},{key:"_trimRight",value:function(e){var t=e.text,n=e.trimBy;return t.slice(0,t.length-n)}},{key:"_trimLeft",value:function(e){var t=e.text,n=e.trimBy;return t.slice(-t.length+n)}},{key:"_getUnbreakableSequenceLength",value:function(e){if(e===this.props.text){var t=(e.match(/\.\w{2,4}$/g)||[])[0];if(t)return t.length-1}var n=e[e.length-1],r=e[e.length-2];return k.indexOf(n)>-1&&k.indexOf(r)<0&&C.indexOf(r)<0||k.indexOf(n)<0&&C.indexOf(n)<0&&C.indexOf(r)>-1?2:0}},{key:"_getMaximumBreakableLengthFromPosition",value:function(e){var t=e.text,n=e.position;if(n<2)return n;var r=t[t.length-n],o=t[t.length-n+1];return C.indexOf(r)>-1&&k.indexOf(o)<0&&C.indexOf(o)<0?n-2:k.indexOf(r)>-1?n-1:n}},{key:"render",value:function(){return o.a.createElement("span",{className:c()()("clamped-text"),style:{font:this.props.font,width:this.props.width||"auto"}},this.state.text)}}]),t}();x.defaultProps={filler:"",font:"normal normal 400 normal 15px / normal Arial, sans-serif",numberOfRows:1,text:"",width:0},x.propTypes={filler:a.a.string,font:a.a.string,numberOfRows:a.a.number,text:a.a.string,width:a.a.number};var T=x,S=n(20);n(301);n.d(t,"b",function(){return D});var P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(){return c()()("listing-item")},M=function(){},D=(R().toString(),function(e){return"row"===e}),A=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._handleLongTouch=i._handleLongTouch.bind(i),i._onContextMenu=i._onContextMenu.bind(i),i._onTouchStart=i._onTouchStart.bind(i),i._onTouchMove=i._onTouchMove.bind(i),i._onTouchEnd=i._onTouchEnd.bind(i),i._onClick=i._onClick.bind(i),i._onDoubleClick=i._onDoubleClick.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),j(t,[{key:"getDomNode",value:function(){return this._itemDomNode}},{key:"_handleLongTouch",value:function(e){e.cancellable&&e.preventDefault(),e.stopPropagation(),this.props.onSelect(this.props.id,!1,e)}},{key:"_onTouchStart",value:function(e){var t=this;e.persist(),this._touchStartTime=Date.now(),this._touchTimer=setTimeout(function(){t._handleLongTouch(e)},300)}},{key:"_onTouchMove",value:function(){clearTimeout(this._touchTimer),this._isSwipe=!0}},{key:"_onTouchEnd",value:function(e){e.preventDefault(),Date.now()-this._touchStartTime<300&&!this._isSwipe&&(this.props.selectOnTap?this.props.onSelect(this.props.id,!0,e):this.props.onOpen(this.props.id,e)),clearTimeout(this._touchTimer),this._isSwipe=!1}},{key:"_onClick",value:function(e){2!==e.button&&(e.detail<2&&this.props.onSelect(this.props.id,!1,e))}},{key:"_onDoubleClick",value:function(e){2!==e.button&&this.props.onOpen(this.props.id,e)}},{key:"_onContextMenu",value:function(e){e.preventDefault(),this.props.onContextMenu&&this.props.onContextMenu(this.props.id,e)}},{key:"_getIcon",value:function(){var e=this.props,t=e.listingMods,n=e.type,r=e.defaultPreview,i=e.iconType,a=e.canPlayVideo,s=e.theme,u=r&&!i?{type:"preview"}:{type:"icon",resource:n},c=[o.a.createElement(_,P({key:"icon-preview"},this.props))];return D(s)||(c.push(o.a.createElement("div",{className:R().e("fields"),key:"fields"},this._getAdditionalData())),c=o.a.createElement("div",{className:R().e("icon-wrapper").m({"with-shadow":Boolean(a)}).mix(t["with-drag-and-drop"]&&t["with-mouse-selection"]&&S.b)},c)),o.a.createElement("div",{className:R().e("icon").m(u)},c)}},{key:"_getColumns",value:function(e,t){var n=this.props.theme,r=D(n)?"column":"field";return e.filter(function(e){return(!e.themes||e.themes.includes(n))&&t&&t(e)}).map(function(e,t){var n=e.type,i=e.content,a=e.mix;return o.a.createElement("div",{className:R().e(r).m(I({},n,!0)).mix(a),key:n+"_"+t},i)})}},{key:"_getAdditionalData",value:function(){var e=this.props,t=e.id,n=e.additionalFields,r=e.theme,i=e.onPlayVideoClick,a=e.canPlayVideo,s=n||[];return a&&i&&s.push({type:"play-video",themes:["tile"],content:o.a.createElement(w,{iconSize:"l",onClick:function(){return i(t)}})}),this._getColumns(s,function(e){return!(D(r)&&"always-right"===e.position)})}},{key:"_getRightColumn",value:function(){var e=this.props,t=e.additionalFields,n=e.theme;return D(n)&&t?this._getColumns(t,function(e){return"always-right"===e.position}):null}},{key:"_getTitle",value:function(){var e=this,t=this.props,n=t.title,r=t.titleOverflow,i=t.theme,a=t.size,s=t.isTouch,u=n;if("clamp"===r)u=o.a.createElement(T,{font:(s?"15px/16px":"13px/14px")+' "yandex-sans", Arial, sans-serif',numberOfRows:"tile"===i?2:1,text:n,width:this.props.titleWidth});else if("length-limit"===r&&"tile"===i){var c="l"===a?23:16;u=u.length>c?u.slice(0,c).trim()+"":u}return o.a.createElement("div",{className:R().e("title").m({overflow:r}),ref:function(t){e.props.titleNodeRef&&e.props.titleNodeRef(t)}},u)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.modifier,i=n.theme,a=n.size,s=n.type,u=n.selected,c=n.id,l=n.resourceRef,p=n.mods,f=n.listingMods,d=n.disabled;if("tile-empty"===i)return o.a.createElement("div",{className:R().m({theme:i,size:a})});var h={ref:function(e){t._itemDomNode=e,l(c,e)},className:R().m(Object.assign((e={},I(e,r,!!r),I(e,"theme",i),I(e,"size",a),I(e,"type",s),I(e,"selected",u),I(e,"disabled",d),I(e,"listening-long-tap",Boolean(this.props.onLongTap)),e),p)).mix(this.props.cls).mix(D(i)&&f["with-drag-and-drop"]&&f["with-mouse-selection"]&&S.b)};d||(h.onClick=this._onClick,h.onDoubleClick=this._onDoubleClick,h.onTouchEnd=this._onTouchEnd,h.onTouchStart=this._onTouchStart,h.onTouchMove=this._onTouchMove,(this.props.onSelect||this.props.onContextMenu)&&(h.onContextMenu=this._onContextMenu));var m=this._getRightColumn();return o.a.createElement("div",h,this._getIcon(),o.a.createElement("div",{className:R().e("info")},this._getTitle(),D(i)?this._getAdditionalData():null),m&&m.length>0&&o.a.createElement("div",{className:R().e("right")},m))}}]),t}();A.propTypes={title:a.a.string,id:a.a.string,type:a.a.string,iconType:a.a.string,mediatype:a.a.string,modifier:a.a.oneOf(["current"]),mods:a.a.object,defaultPreview:a.a.string,selected:a.a.bool,additionalFields:a.a.array,onContextMenu:a.a.func,onSelect:a.a.func,onOpen:a.a.func,onImageLoadError:a.a.func,onImageLoadSuccess:a.a.func,previewLoadFailed:a.a.bool,canPlayVideo:a.a.bool,onPlayVideoClick:a.a.func,isTouch:a.a.bool,cls:a.a.oneOfType([a.a.string,a.a.object]),theme:a.a.oneOf(["row","tile","tile-empty"]),size:a.a.oneOf(["s","m","l"])},A.defaultProps={theme:"row",size:"m",selected:!1,mods:{},listingMods:{},resourceRef:M,onSelect:M};t.a=A},function(e,t,n){"use strict";var r=n(68),o=(n(177),n(176),n(31)),i=n(36);n(83),n(82),i.a,n(84),o.a,t.a=r.a},function(e,t,n){var r=n(44),o=n(221),i=n(222),a=Object.defineProperty;t.f=n(61)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports={}},function(e,t,n){var r=n(115),o=n(135);e.exports=function(e){return r(o(e))}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=n(7);t.default=(0,i.decl)({block:"menu",elem:"item",willUpdate:function(e,t){!this.state.hovered&&t.hovered&&(this.context.removeHover(),this.context.hoverItem(this))},attrs:function(){return r({},this.__base.apply(this,arguments),{onFocus:this.onFocus,onBlur:this.onBlur})},onFocus:function(e){if(this.context.isIE)e.stopPropagation();else{if(this.state.disabled)return!1;this.setState({hovered:!0}),this.props.onFocus&&this.props.onFocus(e)}},onBlur:function(e){if(this.context.isIE)e.stopPropagation();else{if(this.state.disabled)return!1;this.setState({hovered:!1}),this.props.onBlur&&this.props.onBlur(e)}},onMouseLeave:function(e){this.__base.apply(this,arguments),this.context.removeHover()}},{contextTypes:{hoverItem:o.default.func,removeHover:o.default.func,registerItem:o.default.func,unregisterItem:o.default.func,isIE:o.default.bool}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=n(7);t.default=(0,i.declMod)({type:"link"},{block:"menu",elem:"item",tag:"a",attrs:function(e){var t=e.url,n=e.target;return r({},this.__base.apply(this,arguments),{role:"link",href:t,target:n})}},{propTypes:{target:o.default.string,url:o.default.string}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),o=s(n(1)),i=n(7),a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.decl)({block:"menu",elem:"group",tag:function(e){return e.isNavigation?"ul":this.__base()},attrs:function(){return{role:"group"}},content:function(e){var t=e.title,n=e.children,o=[];return t&&o.push(r.default.createElement(a.default,{block:this.block,elem:"title",attrs:{"aria-hidden":"true"}},t)),[].concat(o,n).map(function(e,t){return r.default.cloneElement(e,{key:"in-group-"+t})})}},{propTypes:{title:o.default.string},isGroup:function(e){return e&&"function"==typeof e.type&&"menu__group"===e.type.displayName}})},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),o=n(7);t.default=(0,o.decl)({block:"spin2",mods:function(e){var t=e.size,n=e.progress;return{size:t,position:e.position,progress:this.__self.bool2string(n)}}},{propTypes:{size:r.default.oneOf(["xxs","xs","s","m","l"]),progress:r.default.bool,position:r.default.oneOf(["center"])}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=(0,r.decl)({block:"link",elem:"inner",tag:"span"})},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=p(n(0)),i=p(n(1)),a=n(7),s=p((n(67).default||n(67)).applyDecls()),u=p((n(89).default||n(89)).applyDecls()),c=p((n(194).default||n(194)).applyDecls()),l=p((n(39),n(157),(n(195).default||n(195)).applyDecls()));function p(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.decl)({block:"user-account",willInit:function(){this.__base.apply(this,arguments),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this._changeUser=this._changeUser.bind(this)},tag:function(e){return e.url?"a":"div"},attrs:function(e){return{tabIndex:"0",href:e.url,onClick:e.onClick||this._changeUser,onFocus:this.onFocus,onBlur:this.state.focused?this.onBlur:void 0,onMouseOver:this.onMouseOver,onMouseLeave:this.state.hovered?this.onMouseLeave:void 0}},mods:function(e){var t=e.hasAccentLetter,n=e.subname,r=e.hasTicker,o=e.hideName;return{provider:e.provider,"has-logout":this.__self.bool2string(this.context.processLogout),"has-accent-letter":this.__self.bool2string(t),"has-subname":this.__self.bool2string(n),"has-ticker":this.__self.bool2string(r),"hide-name":this.__self.bool2string(o),focused:this.__self.bool2string(this.state.focused),hovered:this.__self.bool2string(this.state.hovered)}},content:function(e){var t=e.name,n=e.pic,i=e.avatarId,a=e.avatarHost,p=e.hasAccentLetter,f=e.children,d=e.subname,h=e.isCurrent,m=e.provider;if(f)return f;var y=[];return n&&(n.avatarId&&(i=n.avatarId),y.push(o.default.createElement(u.default,r({key:"pic"},{pic:n,avatarId:i,avatarHost:a,provider:m})))),!1!==t&&(d&&d!==t?y.push(o.default.createElement(s.default,r({key:"name"},{hasAccentLetter:p}),t,o.default.createElement(c.default,{subname:d}))):y.push(o.default.createElement(s.default,r({key:"name"},{hasAccentLetter:p,text:t})))),this.context.processLogout&&!h?y.concat(o.default.createElement(l.default,{key:"logout",glyph:"x-sign",size:"xs",mix:{block:this.block,elem:"logout"},attrs:{onClick:this._processLogout.bind(this)}})):y},onFocus:function(){this.setState({focused:!0})},onBlur:function(){this.setState({focused:!1})},onMouseOver:function(){this.setState({hovered:!0})},onMouseLeave:function(){this.setState({hovered:!1})},_changeUser:function(e){this.isLogoutClick?this.isLogoutClick=!1:!this.props.isCurrent&&!this.props.isAddAccount&&this.context.changeUser&&this.context.changeUser(e,this.props.uid)},_processLogout:function(e){this.isLogoutClick=!0;var t=this.context.menuItems||{};this.context.processLogout(e,this.props.uid,t[this.props.uid])}},{propTypes:{uid:i.default.string,url:i.default.string,isCurrent:i.default.bool,avatarHost:i.default.string,pic:i.default.bool,hasAccentLetter:i.default.bool,tickerMaxCount:i.default.number,tickerCount:i.default.number,hideName:i.default.string,hasTicker:i.default.string},contextTypes:{changeUser:i.default.func,processLogout:i.default.func,menuItems:i.default.object}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),o=s(n(1)),i=n(7),a=s((n(360),(n(193).default||n(193)).applyDecls()));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.decl)({block:"user-account",elem:"pic",render:function(){var e=this.block,t=this.elem,n=this.props,o=n.pic,i=n.avatarId,s=n.avatarHost,u=n.provider;return o?r.default.createElement(a.default,{avatarId:i,provider:u,host:s,mix:{block:e,elem:t,mods:this.mods(this.props)}}):this.__base.apply(this,arguments)}},{propTypes:{avatarId:o.default.string,avatarHost:o.default.string}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),o=s(n(1)),i=n(7),a=s((n(199).default||n(199)).applyDecls());function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.declMod)(function(e){var t=e.hasTicker,n=e.tickerCount;return t||n},{block:"user-account",content:function(e){var t=e.tickerCount,n=e.tickerMaxCount,o=e.children;if(o)return o;var i=this.block;return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.__base.apply(this,arguments)),[r.default.createElement(a.default,{key:"ticker",mix:{block:i,elem:"ticker"},count:t,maxCount:n})])}},{propTypes:{hasTicker:o.default.bool,tickerCount:o.default.number}})},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(9),a=n(3),s=(n(329),n(15)),u=n(6),c=n(1),l=n.n(c),p=n(2),f=n.n(p),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var h=function(){return f()()("direct")},m=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onReceiveMessage=i._onReceiveMessage.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),d(t,[{key:"_getSearchParams",value:function(){return"?"+["blockId="+this.props.blockId,this.props.alignCenter&&"alignCenter=1"].filter(Boolean).join("&")}},{key:"_onReceiveMessage",value:function(e){var t=e.data||{},n=t.id,r=t.type,o=t.contentHeight;n===this._getSearchParams()&&("click"===r?(this._iframe.click(),this.props.onClick(t)):"onRender"===r&&(this.props.fitHeight&&(this._iframe.style.height=o+"px"),this.props.onRenderAds(t)))}},{key:"componentDidMount",value:function(){window.addEventListener("message",this._onReceiveMessage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this._onReceiveMessage)}},{key:"render",value:function(){var e=this,t=this.props,n=t.cls,r=t.iframeUrl,i=null;return t.blockId&&(i=o.a.createElement("iframe",{className:h().e("iframe"),ref:function(t){e._iframe=t},scrolling:"no",src:""+r+this._getSearchParams()})),o.a.createElement("div",{className:h().mix(n),ref:function(t){e._container=t,"function"==typeof e.props.refNode&&e.props.refNode(t)}},i)}}]),t}();m.propTypes={alignCenter:l.a.bool,blockId:l.a.string,cls:l.a.oneOfType([l.a.object,l.a.string]),iframeUrl:l.a.string.isRequired,refNode:l.a.func,fitHeight:l.a.bool};var y=function(){};m.defaultProps={onClick:y,onRenderAds:y,fitHeight:!0};var v=m,b=(n(330),v),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(){return f()()("direct-public")},w=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i.state={blockId:null,rightSubBlockId:null},i._setRightSubBlockId=i._setRightSubBlockId.bind(i),i._blockId=void 0,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),_(t,[{key:"_setRightSubBlockId",value:function(e){if("right"===this.props.position){var t=null;e.contentHeight<310&&(t="R-I-104220-45"),this.setState({rightSubBlockId:t})}}},{key:"_getBlockId",value:function(e){var t=this.props,n=t.position,r=t.platform,o=t.view,i=(e||{}).height,s="mobile"===r;switch(n){case"top":return s?"D-I-104220-8":[a.f.IMAGE,a.f.VIDEO].includes(o)?"R-I-104220-28":"D-I-104220-5";case"right":return i>=900?"R-I-104220-3":i>=600?"R-I-104220-2":"R-I-104220-31";case"bottom":return s?"R-I-267060-1":"R-I-104220-29";default:return"D-I-104220-8"}}},{key:"_isBlockCentered",value:function(){var e=this.props,t=e.position,n=e.view;return"top"===t&&[a.f.DIR,a.f.IMAGE,a.f.VIDEO].includes(n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.apiPrefix,r=t.platform,i=t.position,c=t.view,l=t.services,p=n+"/public/direct",f=o.a.createElement(b,{alignCenter:this._isBlockCentered(),blockId:this.state.blockId,cls:O().m(g({platform:r,position:i},c,[a.f.DIR,a.f.IMAGE,a.f.VIDEO,a.f.ERROR].includes(c))),refNode:function(t){void 0===e._blockId&&t&&(0===t.getBoundingClientRect().width?e._blockId=null:(e._blockId=e._getBlockId(t.getBoundingClientRect()),e.setState({blockId:e._blockId})))},onRenderAds:this._setRightSubBlockId,iframeUrl:p,fitHeight:"top"!==i});return"bottom"===i?o.a.createElement("div",{className:O().e("bottom-direct-wrapper")},f,o.a.createElement(s.a,{cls:O().e("purchase"),target:"_blank",theme:"clear",url:l.disk+"/tuning"},Object(u.i18n)("ru","view-direct","ufo_remove_ads"))):"right"===i?o.a.createElement("div",{className:O().e("right-direct-wrapper").m({stretch:![a.f.DIR,a.f.VIDEO].includes(c)})},o.a.createElement("div",{className:O().e("sticky-box")},f,this.state.rightSubBlockId&&o.a.createElement(b,{blockId:this.state.rightSubBlockId,cls:O().m(g({position:i,exp_right:!0,platform:r},c,[a.f.DIR,a.f.IMAGE,a.f.VIDEO,a.f.ERROR].includes(c))),iframeUrl:p}))):f}}]),t}();t.default=Object(i.b)(function(e){var t=e.ua.isSmartphone,n=e.environment.apiPrefix,r=e.services;return{platform:t?"mobile":"desktop",apiPrefix:n,services:r}})(w)},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(10),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["a"]),a(t,[{key:"getContentSVG",value:function(){return o.a.createElement("path",{d:"M0 0h4v4H0V0zm0 6h4v4H0V6zm0 6h4v4H0v-4zM6 0h4v4H6V0zm0 6h4v4H6V6zm0 6h4v4H6v-4zm6-12h4v4h-4V0zm0 6h4v4h-4V6zm0 6h4v4h-4v-4z",fill:"currentColor"})}}]),t}();t.a=s},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(10),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["a"]),a(t,[{key:"getContentSVG",value:function(){return o.a.createElement("path",{d:"M5 1h11v2H5V1zm0 6h11v2H5V7zm0 6h11v2H5v-2zM0 1h3v2H0V1zm0 6h3v2H0V7zm0 6h3v2H0v-2z",fill:"currentColor"})}}]),t}();t.a=s},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(10),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["a"]),a(t,[{key:"getContentSVG",value:function(){return o.a.createElement("path",{d:"M0 7h7V0H0v7zm9 0h7V0H9v7zm-9 9h7V9H0v7zm9 0h7V9H9v7z",fill:"currentColor"})}}]),t}();t.a=s},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(10),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["a"]),a(t,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("defs",null,o.a.createElement("g",{id:"more-shape"},o.a.createElement("circle",{cx:"12",cy:"6",r:"2"}),o.a.createElement("circle",{cx:"12",cy:"12",r:"2"}),o.a.createElement("circle",{cx:"12",cy:"18",r:"2"})),o.a.createElement("filter",{id:"more-shadow",width:"400%",height:"175%",x:"-150%",y:"-37.5%",filterUnits:"objectBoundingBox"},o.a.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),o.a.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"2"}),o.a.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}))),o.a.createElement("use",{fill:"#000",filter:"url(#more-shadow)",xlinkHref:"#more-shape"}),o.a.createElement("use",{fill:"#FFF",xlinkHref:"#more-shape"}))}}]),t}();t.a=s},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return Date.now()-e.timestamp>126e5}},function(e,t,n){"use strict";var r=n(53);n(82);t.a=r.a},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(10),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["a"]),a(t,[{key:"getContentSVG",value:function(){return o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("path",{fill:"currentColor",d:"M7 7h2v5H7zM7 4h2v2H7z"}),o.a.createElement("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"2"}))}}]),t}();t.a=s},function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(0),a=n.n(i),s=n(10),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["a"]),u(t,[{key:"getContentSVG",value:function(){return"disabled"===this.props.type?a.a.createElement("path",{d:"M1.515 13.485L.05 12.021l1.512-1.512C.58 9.616 0 8.51 0 7.314 0 4.34 3.582 1.929 8 1.929c.682 0 1.344.057 1.977.166L12.07 0l1.465 1.464-12.02 12.021zm3.905-1.077c.74.17 1.529.268 2.348.284 1.898 1.937 5.199 3.065 6.164 3.218.099.016.178-.072.134-.162-.319-.655-1.18-2.293-1.587-3.972C14.604 10.808 16 9.17 16 7.314c0-1.35-.738-2.584-1.957-3.529L5.42 12.408z",fill:"currentColor"}):a.a.createElement("path",{d:"M16 6.39C16 3.415 12.418 1 8 1S0 3.414 0 6.39c0 1.86 1.396 3.5 3.52 4.468-.406 1.68-1.267 3.32-1.586 3.977-.044.09.035.178.134.162.965-.153 4.266-1.282 6.164-3.22C12.542 11.69 16 9.316 16 6.39",fill:"currentColor",fillRule:"evenodd"})}}]),t}();c.propTypes={type:o.a.oneOf(["","disabled"])},t.a=c},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(10),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["a"]),a(t,[{key:"getContentSVG",value:function(){return o.a.createElement("g",{fill:"currentColor",fillRule:"evenodd"},o.a.createElement("path",{d:"M13 6l-5 5-5-5z"}),o.a.createElement("path",{d:"M6 2h4v5H6zM3 12h10v2H3z"}))}}]),t}();t.a=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}((n(85).default||n(85)).applyDecls());t.default=r.default},function(e,t,n){e.exports=n(392)},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(10),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["a"]),a(t,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return o.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M6 2l17 10L6 22z"})}}]),t}();t.a=s},function(e,t,n){"use strict";var r=Number.MAX_SAFE_INTEGER||9007199254740991,o=1073741824,i=[1,1024,1048576,o,1099511627776],a={};a.getSpaceObject=function(e,t,n,a){if(!t||!t.length||t.length<i.length)throw new Error("helpers/space::units must be an array with minimum "+i.length+" items");if(!n)throw new Error("helpers/space::separator must be defined");a=a||{},((e=parseInt(e,10))<0||e>r||isNaN(e))&&(e=0);var s=function(e){for(var t=i.length;t>=0;t--)if(e>=i[t])return t;return 0}(e),u=i[s],c=(e/u).toString().split("."),l=c[0],p=c[1],f=a.precision;a.length&&(f=a.length>l.length?a.length-l.length:0),f||0===f||(f=1048576===u?1:u>=o?2:0);var d=l;return f>0&&p&&(p.length>f&&(p=p.substr(0,f)),(p=p.replace(/0+$/,""))&&(d+=n+p)),{number:d,unit:t[s]}},a.getSpaceString=function(){var e=this.getSpaceObject.apply(this,arguments);return e.number+""+e.unit},e.exports=a},function(e,t,n){"use strict";var r=n(9),o=n(0),i=n.n(o),a=n(210),s=n.n(a),u=(n(287),n(288),s.a),c=n(5),l=n(21),p=n(26),f=n(16),d=n(19),h=n(96),m=n(3),y=n(6),v=n(40),b=n(11),_=n(1),g=n.n(_),O=n(2),w=n.n(O),E=n(41),k=n(68),C=n(212),x=n.n(C).a,T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var S=function(){return w()()("menu-pane")},P=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["Component"]),T(t,[{key:"_getMenu",value:function(e){return i.a.createElement(k.a,{size:"n",theme:"normal",view:"default",tone:"default",width:"max",paddingless:!0,wide:!0},e.map(function(e,t){return i.a.createElement(k.a.Item,{key:t,cls:e.cls,onClick:e.onClick},e.icon,e.text)}))}},{key:"_getRadioBox",value:function(e,t){return i.a.createElement(x,{key:t,value:e.value,view:"default",theme:"normal",size:"n",onChange:e.onChange,cls:S().e("radiobox")},e.items.map(function(e,t){return i.a.createElement(x.Radio,{key:t,value:e.value,cls:S().e("radio")},e.text)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.cls,r=t.visible,o=t.items,a=t.isIosSafari,s=t.onClose;return i.a.createElement(E.a,{cls:S().mix(n),theme:"mobile-pane",visible:r,onOutsideClick:s,isIosSafari:a,autoclosable:!0},i.a.createElement("div",{className:S().e("content")},o.map(function(t,n){return"menu"===t.type||"radiobox"===t.type?i.a.createElement("div",{key:n,className:S().e("group")},t.name&&i.a.createElement("div",{className:S().e("group-name")},t.name),"radiobox"===t.type?e._getRadioBox(t,n):e._getMenu(t.items)):t.content})))}}]),t}();P.propTypes={cls:g.a.oneOfType([g.a.string,g.a.object]),visible:g.a.bool,items:g.a.array,isIosSafari:g.a.bool,onClose:g.a.func},P.defaultProps={onClose:function(){}};var j=P,I=(n(297),n(175),n(176),n(177),n(298),j),R=n(92),M=n(93),D=n(94),A=(n(299),function(){return w()()("file-menu-pane")}),L=function(e){var t=e.menuItems,n=e.visible,r=e.onOutsideClick,o=e.isIosSafari,a=e.listingType,s=e.isDir,u=e.onListingTypeChange,c=e.closeMenu,l=function(e){return function(){u(e),c(!0)}};return i.a.createElement(I,{visible:n,onClose:r,isIosSafari:o,cls:A(),items:[].concat(s?{type:"menu",items:[{val:"menu-items-list-view",text:Object(y.i18n)("ru","view-toolset","ufo_toolset_list_touch"),icon:i.a.createElement(M.a,null),cls:A().e("item").m({list:!0,inactive:"list"!==a}),onClick:l("list")},{val:"menu-item-icons-view",text:Object(y.i18n)("ru","view-toolset","ufo_toolset_icons_touch"),icon:i.a.createElement(R.a,null),cls:A().e("item").m({icons:!0,inactive:"icons"!==a}),onClick:l("icons")},{val:"menu-item-tile-view",text:Object(y.i18n)("ru","view-toolset","ufo_toolset_tiles_touch"),icon:i.a.createElement(D.a,null),cls:A().e("item").m({tile:!0,inactive:"tile"!==a}),onClick:l("tile")}]}:[]).concat({type:"menu",items:t})})};L.propTypes={listingType:g.a.string,onListingTypeChange:g.a.func,closeMenu:g.a.func.isRequired,isDir:g.a.bool};var N=L,z=n(97),U=n(72),V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function B(e){e.preventDefault()}var F=function(e){return i.a.createElement(z.a,V({},e,{autoclosable:!0}),i.a.createElement("div",{onTouchMove:B},i.a.createElement(U.a,V({cls:"file-menu",theme:"normal",size:"n",items:e.menuItems},e.isYellow?{view:"default",tone:"default"}:{}))))};F.propTypes={target:g.a.oneOf(["anchor","position"]),position:g.a.shape({left:g.a.number,top:g.a.number})},F.defaultProps={theme:"normal",target:"anchor",anchor:null,position:{left:0,top:0},directions:["left-top"]};var H=F,W=n(98),G=n(10),q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var K=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,G["a"]),q(t,[{key:"getContentSVG",value:function(){return i.a.createElement("path",{fill:"currentColor",d:"M7 14h7V7H7v7zM5 5h11v11H5V5zm4-2v1-1zm1-3H0v10V0h10zM0 10v1h4-4v-1zM10 0h1v4-4h-1zM3 9h1-1zM0 0h11v4H9V2H2v7h2v2H0V0z"})}}]),t}(),Y=n(99),X=n(100),Z=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var $=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,G["a"]),Z(t,[{key:"getContentSVG",value:function(){return i.a.createElement("path",{d:"M2 4v10H0V2h5v2H2zm10 10H0v2h14v-5h-2v3zm2-10.737V8h2V0H8v2h4.435L6 8.435l1.414 1.414L14 3.262v.001z",fill:"currentColor"})}}]),t}(),J=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Q=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,G["a"]),J(t,[{key:"getContentSVG",value:function(){return i.a.createElement("path",{d:"M14 8h2v8H0V8h1.999v6H14V8zM8 0l4 5H9v7H7V5H3.999l4-5z",fill:"currentColor",fillRule:"evenodd"})}}]),t}(),ee=(n(300),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),te=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ne=function(){return w()()("file-menu")},re=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onCommentsTumblerChange=i._onCommentsTumblerChange.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["Component"]),te(t,[{key:"_onCommentsTumblerChange",value:function(e){var t=this.props,n=t.toggleComments,r=t.resources,o=t.resourceId,i=t.countMenuFn,a=r[o],s=a.commentsDisabled;a.isCommentsToggling||(n(),i("comments_switch",s?"on":"off")),e.stopPropagation()}},{key:"_getMenuItems",value:function(){var e=this,t=this.props,n=t.resourceId,r=t.resourceView,o=t.isYellow,a=t.countMenuFn,s=t.closeMenu,c=t.openPane,l=t.openDV,p=t.copyShortUrl,f=t.shareLink,d=t.download,v=t.isOwner,_=t.fetchPublicInfo,g=t.isMobile,O=this.props.resources[n],w=O.meta.original,E=O.dvSearch,k=O.parent,C=O.commentsDisabled,x=O.isCommentsToggling,T=!k,S="undefined"!=typeof navigator&&"function"==typeof navigator.share,P=v&&(C||x);return[{key:"open-original",text:Object(y.i18n)("ru","entity-resource","ufo_resource__full_size"),icon:i.a.createElement($,{iconSize:"m"}),visible:r===m.f.IMAGE&&w,action:function(){if(Object(h.a)(e.props.resources[n])){var t=window.open("about:blank","_blank");_(n).then(function(){var r=e.props.resources[n].meta.original;t.document.location=r,t.focus()},function(){t.close()})}else window.open(w,"_blank")}},{key:"open-dv",text:Object(y.i18n)("ru","actions","ufo_open"),icon:i.a.createElement($,{iconSize:"m"}),visible:Boolean(E)&&r!==m.f.IMAGE,action:function(){l(n)}},{key:"copy-link",text:Object(y.i18n)("ru","entities","ufo_copy_link"),icon:i.a.createElement(K,{iconSize:"m"}),visible:"undefined"!=typeof document&&document.queryCommandSupported("copy")&&T&&!S,action:p},{key:"share-link",text:Object(y.i18n)("ru","actions","ufo_share_link"),icon:i.a.createElement(Q,{iconSize:"m"}),visible:S&&T,action:f},{key:"download",text:Object(y.i18n)("ru","actions","ufo_download"),icon:i.a.createElement(X.a,{iconSize:"m"}),visible:!T,action:function(){d(n)}},{key:"file-info",text:r===m.f.DIR?Object(y.i18n)("ru","entities","info_about_folder"):Object(y.i18n)("ru","entities","info_about_file"),icon:i.a.createElement(W.a,{iconSize:"m"}),visible:!0,action:function(){c({type:"file-info",resourceId:n})}},{key:"comments",text:i.a.createElement("div",{className:ne().e("comments-wrapper")},i.a.createElement(b.a,{keyset:"comments",loc:"ufo-comments_title",className:ne().e("comments-text")}),v&&!g?i.a.createElement(u,{theme:"normal",view:"default",tone:o?"green":"grey",size:"m",cls:ne().e("comments-tumbler"),checked:!C,onChange:this._onCommentsTumblerChange,disabled:x}):null),icon:i.a.createElement(Y.a,{iconSize:"m"}),modifier:{disabled:P},visible:T&&(!C||P&&!g),action:function(){if(P)return!1;c({type:"comments"})}}].filter(function(e){return e.visible}).map(function(e){return{val:e.key,text:e.text,icon:g?e.icon:void 0,cls:ne().e(e.key).m(e.modifier),onClick:function(){!1!==e.action()&&(s(),a(e.key))}}})}},{key:"render",value:function(){var e=this._getMenuItems();return this.props.isMobile?i.a.createElement(N,ee({},this.props,{menuItems:e})):i.a.createElement(H,ee({},this.props,{menuItems:e}))}}]),t}();t.a=Object(r.b)(function(e,t){var n=t.resourceId,r=e.user.id,o=e.resources,i=e.rootResourceId,a=e.ua,s=a.isIosSafari,u=a.isMobile;return{resources:o,isOwner:o[i].uid===r,resourceView:Object(d.a)(o[n]),isYellow:Object(v.a)(e),isMobile:u,isIosSafari:s}},{openPane:c.t,shareLink:c.A,openDV:c.n,copyShortUrl:c.k,download:f.a,toggleComments:p.k,fetchPublicInfo:l.e})(re)},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;(u=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}((n(65),n(271),n(272),n(273),(n(49).default||n(49)).applyDecls()));t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}((n(289),n(290),(n(155).default||n(155)).applyDecls()));t.default=r.default},function(e,t,n){var r=n(6).i18n,o=null;e.exports=function(){return o||(o={loadMore:r("ru","comments","ufo-comments_view-more-comments"),form:{placeholder:r("ru","comments","ufo-comments_write-comment")},comment:{replyLabel:r("ru","comments","ufo-comments_reply"),repliesCount:function(e){return r("ru","comments","ufo-comments_n-replies",{count:e})},deletedReplyLabel:r("ru","comments","ufo-comments_reply-deleted"),deletedCommentLabel:r("ru","comments","ufo-comments_comment-deleted"),restoreLabel:r("ru","comments","ufo-comments_restore"),relativeDate:{monthsNominative:r("ru","lists","months_nominative").split("|"),monthsGenitive:r("ru","lists","months_genitive").split("|"),justNow:r("ru","entities","ufo_just-now"),nMinutesAgo:function(e){return r("ru","entities","ufo_n_minutes-ago",{n:e,isOne:1===e})},nHoursAgo:function(e){return r("ru","entities","ufo_n_hours-ago",{n:e,isOne:1===e})},formatHourMinute:r("ru","entities","ufo_format_hour-minute"),formatYesterdayTime:function(e){return r("ru","entities","ufo_format_yesterday-time",{time:e})},formatDateMonthTime:r("ru","entities","ufo_format_date-month-time"),formatDateMonthYearTime:r("ru","entities","ufo_format_date-month-year-time")}}}),o}},function(e,t,n){var r=n(27)("unscopables"),o=Array.prototype;void 0==o[r]&&n(60)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t){e.exports=!1},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(48),o=n(30).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(62);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(30),o=n(60),i=n(76),a=n(112)("src"),s=Function.toString,u=(""+s).split("toString");n(59).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(c&&(i(n,a)||o(n,a,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t,n){var r=n(228),o=n(138);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(137),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(133)("keys"),o=n(112);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(73).f,o=n(76),i=n(27)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(135);e.exports=function(e){return Object(r(e))}},function(e,t,n){
/*!
 * node-inherit
 * Copyright(c) 2011 Dmitry Filatov <dfilatov@yandex-team.ru>
 * MIT Licensed
 */
e.exports=n(265)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=d(n(0)),i=d(n(1)),a=n(7),s=n(17),u=d((n(46),(n(23).default||n(23)).applyDecls())),c=d((n(39),n(157),(n(158).default||n(158)).applyDecls())),l=d((n(159).default||n(159)).applyDecls()),p=d((n(160).default||n(160)).applyDecls()),f=d((n(161).default||n(161)).applyDecls());function d(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.decl)(u.default,{block:"menu",elem:"item",didMount:function(){this.context.registerItem(this)},willUnmount:function(){this.context.unregisterItem(this)},attrs:function(e){var t=e.title,n=e.onClick,o=this.state,i=o.disabled,a=o.checked;return r({},this.__base.apply(this,arguments),{title:t,onClick:n,"aria-selected":!!a&&"true","aria-disabled":!!i&&"true"})},render:function(){return this.props.isNavigation?o.default.createElement(f.default,null,this.__base.apply(this,arguments)):this.__base.apply(this,arguments)},content:function(e){var t=e.size,n=e.icon,i=e.children,a=e.needIconGlyph,s=[];return(n?[n]:[]).concat(i).forEach(function(e,n){c.default.isIcon(e)&&0===n?s.push(o.default.createElement(l.default,r({size:t,key:"icon"},{mix:e.props.mix}),e)):s.push(o.default.createElement(p.default,{key:"text"},e))}),a&&s.unshift(o.default.createElement(c.default,{key:"check-icon",glyph:"type-check"})),s},getText:function(){return(0,s.findDOMNode)(this).textContent.trim()}},{isItem:function(e){return e&&"function"==typeof e.type&&"menu__item"===e.type.displayName},propTypes:{title:i.default.string,onClick:i.default.func},contextTypes:{registerItem:i.default.func,unregisterItem:i.default.func}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=(0,r.declMod)({type:"navigation"},{block:"menu",tag:"ul"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),o=n(17),i=n(7);t.default=(0,i.declMod)({target:"anchor"},{block:"popup2",willInit:function(e){e.anchor;this.__base.apply(this,arguments)},_getAnchorDomNode:function(e){return"function"==typeof e?e():e},_calcBestDrawingParams:function(e){var t=e.anchor,n=this.__base.apply(this,arguments);t=(0,o.findDOMNode)(this._getAnchorDomNode(t));var r=this._getFirstFixedParent(t);return r&&(n.left-=window.pageXOffset,n.top-=window.pageYOffset),this._style.popup.position=r?"fixed":"",n},_getFirstFixedParent:function(e){for(;e;){if(1===e.nodeType&&"fixed"===getComputedStyle(e).getPropertyValue("position"))return e;e=e.parentNode}},_calcTargetDimensions:function(e){var t=e.anchor;this.__base.apply(this,arguments);var n=(t=(0,o.findDOMNode)(this._getAnchorDomNode(t))).getBoundingClientRect(),r=n.left,i=n.top;return{left:r-this._viewportRect.left,top:i-this._viewportRect.top,width:t.offsetWidth,height:t.offsetHeight}}},{propTypes:{anchor:r.default.oneOfType([r.default.func,r.default.object])}})},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=f(o),a=f(n(1)),s=n(7),u=f((n(39).default||n(39)).applyDecls()),c=f((n(46),(n(23).default||n(23)).applyDecls())),l=f((n(86).default||n(86)).applyDecls()),p=f((n(180).default||n(180)).applyDecls());function f(e){return e&&e.__esModule?e:{default:e}}t.default=(0,s.decl)(c.default,{block:"link",tag:function(e){return e.url?"a":"span"},mods:function(e){var t=e.size,n=e.theme,o=e.nonvisual,i=e.pseudo,a=e.inner;return r({},this.__base.apply(this,arguments),{size:t,theme:n,inner:this.__self.bool2string(a),pseudo:this.__self.bool2string(i),nonvisual:this.__self.bool2string(o)})},attrs:function(e){var t=e.id,n=e.name,o=e.title,i=e.target,a=e.rel,s=e.tabIndex,u=e.style,c=e.url,l=e.onClick,p=e.attrs,f=this.state.disabled;return"_blank"===i&&a&&-1===a.indexOf("noopener")&&(a+=" noopener"),r({},this.__base.apply(this,arguments),{id:t,name:n,title:o,style:u,target:i,onClick:l,rel:a,href:c,role:c?void 0:"button",tabIndex:f?c?-1:void 0:s,"aria-disabled":f?"true":void 0},p)},content:function(e){var t=e.size,n=e.text,r=e.icon,a=e.iconLeft,s=e.iconRight,c=e.children,f=[],d=[],h=this._hasIconFromContent(this.props);if(o.Children.forEach(c,function(e,n){1===o.Children.count(c)&&u.default.isIcon(e)?f.unshift(i.default.createElement(p.default,{key:"only-icon",size:t,children:e})):u.default.isIcon(e)&&0===n?f.unshift(i.default.createElement(p.default,{key:"icon-left",side:"left",size:t,children:e})):u.default.isIcon(e)&&f.length?f.unshift(i.default.createElement(p.default,{key:"icon-right",side:"right",size:t,children:e})):e&&(d.length||f.push(h?i.default.createElement(l.default,{key:"inner"},d):d),d.push(e))}),f.length)return f;if(n){if(!d.length){var m=this._hasIconFromFields(this.props);f.push(m?i.default.createElement(l.default,{key:"inner"},d):d)}d.push(n)}return r&&f.unshift(i.default.createElement(p.default,{key:"only-icon",size:t,children:u.default.isIcon(r)?r:i.default.createElement(u.default,r)})),a&&f.unshift(i.default.createElement(p.default,{key:"icon-left",side:"left",size:t,children:u.default.isIcon(a)?a:i.default.createElement(u.default,a)})),s&&f.unshift(i.default.createElement(p.default,{key:"icon-right",side:"right",size:t,children:u.default.isIcon(s)?s:i.default.createElement(u.default,s)})),f},_hasIconFromContent:function(e){var t=e.children;return o.Children.toArray(t).some(function(e){return u.default.isIcon(e)})},_hasIconFromFields:function(e){var t=e.icon,n=e.iconLeft,r=e.iconRight;return t||n||r}},{propTypes:{theme:a.default.string.isRequired,pseudo:a.default.bool,nonvisual:a.default.bool,id:a.default.string,url:a.default.string,target:a.default.string,title:a.default.string,name:a.default.string,tabIndex:a.default.string,text:a.default.string,icon:a.default.object,iconLeft:a.default.object,iconRight:a.default.object,onClick:a.default.func,rel:a.default.string},defaultProps:{onClick:function(){},tabIndex:"0"}})},function(e,t,n){var r=n(126),o=n(302),i=n(304),a="Expected a function",s=Math.max,u=Math.min;e.exports=function(e,t,n){var c,l,p,f,d,h,m=0,y=!1,v=!1,b=!0;if("function"!=typeof e)throw new TypeError(a);function _(t){var n=c,r=l;return c=l=void 0,m=t,f=e.apply(r,n)}function g(e){var n=e-h;return void 0===h||n>=t||n<0||v&&e-m>=p}function O(){var e=o();if(g(e))return w(e);d=setTimeout(O,function(e){var n=t-(e-h);return v?u(n,p-(e-m)):n}(e))}function w(e){return d=void 0,b&&c?_(e):(c=l=void 0,f)}function E(){var e=o(),n=g(e);if(c=arguments,l=this,h=e,n){if(void 0===d)return function(e){return m=e,d=setTimeout(O,t),y?_(e):f}(h);if(v)return d=setTimeout(O,t),_(h)}return void 0===d&&(d=setTimeout(O,t)),f}return t=i(t)||0,r(n)&&(y=!!n.leading,p=(v="maxWait"in n)?s(i(n.maxWait)||0,t):p,b="trailing"in n?!!n.trailing:b),E.cancel=function(){void 0!==d&&clearTimeout(d),m=0,c=h=l=d=void 0},E.flush=function(){return void 0===d?f:w(o())},E}},function(e,t,n){"use strict";(function(e,r){var o,i=n(207);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(i.a)(o);t.a=a}).call(this,n(64),n(263)(e))},function(e,t,n){"use strict";function r(e){return e<10?"0"+e:String(e)}e.exports=function(e,t){var n=e<0;t=t||":",n&&(e=Math.abs(e));var o=Math.floor(e/3600),i=r(Math.floor(e%3600/60)),a=r(e%60);return(n?"-":"")+(o?o+t:"")+i+t+a}},function(e,t,n){var r=n(59),o=n(30),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(111)?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(75),o=n(118),i=n(229);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=o(u.length),l=i(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(30).document;e.exports=r&&r.documentElement},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(62),o=n(27)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r,o,i,a=n(63),s=n(249),u=n(139),c=n(114),l=n(30),p=l.process,f=l.setImmediate,d=l.clearImmediate,h=l.MessageChannel,m=l.Dispatch,y=0,v={},b=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},_=function(e){b.call(e.data)};f&&d||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++y]=function(){s("function"==typeof e?e:Function(e),t)},r(y),y},d=function(e){delete v[e]},"process"==n(62)(p)?r=function(e){p.nextTick(a(b,e,1))}:m&&m.now?r=function(e){m.now(a(b,e,1))}:h?(i=(o=new h).port2,o.port1.onmessage=_,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",_,!1)):r="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:f,clear:d}},function(e,t,n){"use strict";var r=n(77);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},function(e,t,n){"use strict";var r="",o={};e.exports={setTankerProjectId:function(e){return r=e},getKey:function(e,t,n,r){return o[e][t][n](r)},addTranslation:function(e,t){return o[e]=t[r]}}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){return function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments[3],s=arguments[4],u=arguments[5],c=arguments[6],l=arguments[7],p=arguments[8],f=t?e.stringify(a,s,u,e.joinMixes(c),l):void 0,d=r({className:f},i);return o.default.createElement(n,d,p)}};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=(0,r.decl)({block:"button2",elem:"text",tag:"span",attrs:function(e){return e.attrs}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(7);t.default=(0,o.decl)({block:"button2",elem:"icon",render:function(){var e=this.block,t=this.elem,n=this.props,o=n.children,i=n.side,a=n.size;return(0,r.cloneElement)(o,{size:a,mix:[].concat(o.props.mix,{block:e,elem:t,mods:{side:i}})})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=l(n(0)),i=l(n(1)),a=n(7),s=l((n(65).default||n(65)).applyDecls()),u=l((n(149).default||n(149)).applyDecls()),c=l(n(28)().decl(n(286))("tumbler"));function l(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.decl)({block:"tumbler",elem:"box",tag:"span",willInit:function(){this.onClick=this.onClick.bind(this),this.buttonReference=this.buttonReference.bind(this)},attrs:function(){return r({},this.__base.apply(this,arguments),{onClick:this.onClick})},content:function(e){var t=e.id,n=e.view,i=e.checked,a=e.disabled,l=e.tabIndex,p=this.context.getLabel(t);return[o.default.createElement(u.default,r({key:"0"},{position:"left"}),(0,c.default)("on")),o.default.createElement(u.default,r({key:"1"},{position:"right"}),(0,c.default)("off")),o.default.createElement(s.default,r({key:"button"},{theme:"normal",size:"m",tabIndex:l,view:"classic"===n&&"classic",disabled:a,mix:{block:"tumbler",elem:"button"},innerRef:this.buttonReference,attrs:{"aria-labelledby":p,"aria-pressed":String(i)}}))]},onClick:function(e){this.button.focus(),this.props.onChange&&this.props.onChange(e)},buttonReference:function(e){this.button=e,this.props.buttonRef&&this.props.buttonRef(e)}},{contextTypes:{getLabel:i.default.func}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(0)),i=n(7),a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.decl)({block:"tumbler",elem:"sticker",mods:function(e){return{position:e.position}},attrs:function(){return r({},this.__base.apply(this,arguments),{"aria-hidden":"true"})},content:function(e){var t=e.children;return o.default.createElement(a.default,{block:this.block,elem:"sticker-label"},t)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=n(7);t.default=(0,i.decl)({block:"tumbler",elem:"input",tag:"input",attrs:function(e){var t=e.id,n=e.name,o=(e.value,e.onVal),i=e.offVal,a=e.checked,s=e.disabled,u=(e.labeledBy,e.onChange),c=e.attrs,l=(e.tabIndex,[i||"false",o||"true"]),p=this.context.getLabel(t);return r({id:t,onChange:u,disabled:s,tabIndex:"-1",type:"checkbox",name:n||t,autoComplete:"off","aria-hidden":"true",checked:Boolean(a),"aria-labelledby":p,value:l[Number(!!a)]},c)}},{contextTypes:{getLabel:o.default.func}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(n(0)),i=u(n(1)),a=n(7),s=u((n(152).default||n(152)).applyDecls());function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.decl)({block:"tumbler",elem:"label",tag:"span",mods:function(e){return{side:e.side}},attrs:function(e){var t=e.side,n=e.onChange;return r({},this.__base.apply(this,arguments),{onClick:this.context.defineLabelAction(t,n)})},content:function(e){var t=e.side,n=e.id,r=e.text;return o.default.createElement(s.default,{id:n,side:t},r)}},{contextTypes:{defineLabelAction:i.default.func}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=n(7);t.default=(0,i.decl)({block:"tumbler",elem:"text",tag:"span",mods:function(e){return{side:e.side}},attrs:function(e){var t=e.id;return r({},this.__base.apply(this,arguments),{"aria-hidden":"true",id:t})}},{propTypes:{id:o.default.string}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=n(7);t.default=(0,i.declMod)({view:"default"},{block:"tumbler",mods:function(e){var t=e.tone;return r({},this.__base.apply(this,arguments),{tone:t})}},{propTypes:{tone:o.default.string},defaultProps:{tone:"default"}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=(0,r.decl)({block:"popup2",elem:"tail",attrs:function(e){return{style:e.style}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);n(51),(n(47).default||n(47)).applyDecls(),t.default=(0,r.declMod)({autoclosable:!0},{block:"modal",_isElementOutside:function(e){return this.domElementPopup.contains(e)&&!this._contentElement.contains(e)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=l(o),a=l(n(1)),s=n(7),u=l((n(123),n(79),n(291),(n(80).default||n(80)).applyDecls())),c=l((n(81).default||n(81)).applyDecls());function l(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return"string"==typeof e?f({text:e},t):e.items?function(e){return i.default.createElement(c.default,{title:e.title},e.items.map(p))}(e):f(e,t)}function f(e,t){var n=Object(e.elemMods).disabled;return i.default.createElement(u.default,r({key:"item-"+t,disabled:"yes"===n||n},e),e.text)}t.default=(0,s.decl)({block:"menu",willInit:function(e){e.val;this.__base.apply(this,arguments),this.state.val=[],this._provideClick=this._provideClick.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.items=[],this._registerItem=this._registerItem.bind(this),this._unregisterItem=this._unregisterItem.bind(this)},willReceiveProps:function(e){var t=e.val;this.__base.apply(this,arguments),this.setState({val:this._prepareVal(t)})},getChildContext:function(){return{registerItem:this._registerItem,unregisterItem:this._unregisterItem}},attrs:function(e){var t=e.tabIndex,n=e.disabled;return{style:e.style,disabled:n,"aria-disabled":!!n&&"true",onMouseUp:n?void 0:this.onMouseUp,onMouseDown:n?void 0:this.onMouseDown,tabIndex:n?void 0:null===t?void 0:t}},mods:function(e){var t=e.size,n=e.view,o=e.theme,i=e.width,a=e.disabled;return r({},this.__base.apply(this,arguments),{size:t,width:i,theme:o,view:n,disabled:this.__self.bool2string(a)})},content:function(e){var t=e.type,n=e.size,r=e.view,a=e.nowrap,s=e.items,l=e.children,p=this.state.val,f="navigation"===t,d="default"===r&&-1!==["check","radio","radiocheck"].indexOf(t);return s&&(l=s.map(this.__self.normalizeItem)),o.Children.map(l,function e(r,s){if(!1!==r&&null!==r&&void 0!==r)return u.default.isItem(r)?-1!==["check","radio","radiocheck"].indexOf(t)?r=(0,o.cloneElement)(r,{size:n,needIconGlyph:d,type:"option",key:"option-"+s,checked:-1!==p.indexOf(r.props.val),onClick:r.props.disabled?void 0:this._provideClick(void 0===r.props.val?null:r.props.val,r.props.onClick)}):f&&(r=(0,o.cloneElement)(r,{size:n,needIconGlyph:d,type:r.props.url?"link":void 0,isNavigation:f,key:"link-"+s})):c.default.isGroup(r)?r=(0,o.cloneElement)(r,{isNavigation:f,key:"group-"+s,children:[].concat(r.props.children).map(e,this)}):a||(r=i.default.createElement(u.default,{needIconGlyph:d},r)),r},this)},_provideClick:function(e,t){var n=this;return function(r){n.onClick(r,e),t&&t(r,e)}},onMouseUp:function(e){this.props.onMouseUp&&this.props.onMouseUp(e)},onMouseDown:function(e){this.props.onMouseDown&&this.props.onMouseDown(e)},_prepareVal:function(e){return void 0===e?[]:[].concat(e)},_registerItem:function(e){this.items.push(e)},_unregisterItem:function(e){return this._hoveredItem===e&&(this._hoveredItem=null),this.items.splice(this.items.indexOf(e),1)}},{normalizeItem:p,Item:u.default,Group:c.default,propTypes:{theme:a.default.string.isRequired,val:a.default.oneOfType([a.default.string,a.default.array,a.default.number]),size:a.default.oneOf(["xs","s","m","n"]),type:a.default.string,nowrap:a.default.bool,tabIndex:a.default.string,view:a.default.oneOf(["classic","default"]),tone:a.default.string,onMouseDown:a.default.func,onMouseUp:a.default.func},defaultProps:{view:"classic"},childContextTypes:{registerItem:a.default.func,unregisterItem:a.default.func}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7);t.default=(0,o.declMod)({glyph:"*"},{block:"icon",mods:function(){return r({},this.__base.apply(this,arguments),{"has-glyph":"yes"})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(7);t.default=(0,o.declMod)({glyph:"type-check"},{block:"icon",content:function(){return r.default.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"10"},r.default.createElement("path",{d:"M7.207 7.506L3.629 3.81 2.343 4.939l4.841 5.002 8.462-8.428L14.382.362z"}))}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(7);t.default=(0,o.decl)({block:"menu",elem:"icon",render:function(){var e=this.block,t=this.elem,n=this.props,o=n.mix,i=n.children,a=n.size;return r.default.cloneElement(i,{size:a,mix:[].concat(o,{block:e,elem:t})})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=(0,r.decl)({block:"menu",elem:"text",tag:"span"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=(0,r.decl)({block:"menu",elem:"list-item",tag:"li"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7),i=u(n(1)),a=n(17),s=u((n(33).default||n(33)).applyDecls());function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.decl)({block:"menu",willInit:function(e){e.val;this.__base.apply(this,arguments),this.onKeyDown=this.onKeyDown.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),this.hoverItem=this.hoverItem.bind(this),this.removeHover=this.removeHover.bind(this),this.scrollToItem=this.scrollToItem.bind(this),this._isNav=this._isNav.bind(this)},getChildContext:function(){return r({},this.__base.apply(this,arguments),{hoverItem:this.hoverItem,removeHover:this.removeHover})},attrs:function(e){var t=e.disabled;return r({onFocus:t?void 0:this.onFocus,onBlur:t?void 0:this.onBlur,onKeyDown:t?void 0:this.onKeyDown,onKeyPress:t?void 0:this.onKeyPress},this.__base.apply(this,arguments))},onFocus:function(e){this._hoveredItem||!this.items[0]||this._isNav()||(this.hoverItem(this.items[0]),this.scrollToItem(this._hoveredItem)),this.props.onFocus&&this.props.onFocus(e)},onBlur:function(e){this.removeHover(),this.props.onBlur&&this.props.onBlur(e)},onKeyDown:function(e){if(this._isNav())return!1;var t=e.keyCode;if(s.default.is(t,"UP","DOWN")&&(e.preventDefault(),this.hoverNext(s.default.is(t,"UP")),this._dropSearchCache()),s.default.is(t,"ENTER","SPACE")){var n=this._hoveredItem;if(!n)return;var r=void 0===n.props.val?null:n.props.val;n.props.onClick&&n.props.onClick(e,r)}},onKeyPress:function(e){var t=Number(new Date),n=e.charCode,r=String.fromCharCode(n).toLowerCase(),o=r===this._lastChar&&1===this._searchTerm.length,i=this._hoveredItem,a=this.items,u=a.indexOf(i);if(n<=s.default.SPACE||e.ctrlKey||e.altKey||e.metaKey)this._lastTime=t;else{t-this._lastTime>this.SEARCH_TIMEOUT||o?this._searchTerm=r:this._searchTerm=(this._searchTerm||"")+r,this._lastChar=r,this._lastTime=t,u=u>=0?u:0;var c=i?i.getText():"";o&&0===this._normalizeText(c).indexOf(this._searchTerm)&&(u=u>=a.length-1?0:u+1),this.hoverText(this._searchTerm,u)}},hoverItem:function(e){this._hoveredItem!==e&&(this._hoveredItem&&this._hoveredItem.setState({hovered:!1}),!e.props.disabled&&e.setState({hovered:!0}),this._hoveredItem=e)},removeHover:function(){this._hoveredItem&&(this._hoveredItem.setState({hovered:!1}),this._hoveredItem=null)},hoverNext:function(e){var t=this.items.slice(),n=void 0;t=e?t.reverse():t;for(var r,o=0,i=!1;r=t[o];o++)if(!r.props.disabled)if(r.state.hovered)i=!0;else{if(i){n=r;break}n||(n=r)}n&&(this.removeHover(),this.hoverItem(n),this.scrollToItem(n))},hoverText:function(e,t){if(this.items.length)for(var n=this.items,r=this._normalizeText(e),o=n.length,i=t||0,a=void 0;i<o;){if(!(a=n[i]).props.disabled&&0===this._normalizeText(a.getText()).indexOf(r))return this.removeHover(),this.hoverItem(a),void this.scrollToItem(a);++i===n.length&&(i=0,o=t)}},scrollToItem:function(e){var t=(0,a.findDOMNode)(e),n=(0,a.findDOMNode)(this),r=n.getBoundingClientRect().top,o=t.getBoundingClientRect().top,i=0;o<r?i=o-r:(i=o+t.offsetHeight-r-n.offsetHeight)<0&&(i=0),n.scrollTop=n.scrollTop+i},_normalizeText:function(e){return(e||"").toLowerCase().replace(//,"")},_dropSearchCache:function(){this._lastTime=this._lastChar=this._searchTerm=void 0},_isNav:function(){return"navigation"===this.props.type},SEARCH_TIMEOUT:1500},{childContextTypes:{hoverItem:i.default.func,removeHover:i.default.func,registerItem:i.default.func,unregisterItem:i.default.func}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=n(7);t.default=(0,i.declMod)({view:"default"},{block:"menu",mods:function(e){var t=e.tone,n=e.size;return r({},this.__base.apply(this,arguments),{tone:t||"default",size:n||"n"})}},{propTypes:{tone:o.default.string}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=(0,r.declMod)({target:"position"},{block:"popup2",willInit:function(){this.__base.apply(this,arguments),this.defaultMainOffset=0,this.defaultViewportOffset=0},_calcTargetDimensions:function(e){var t=e.position;return{left:t.left,top:t.top,width:0,height:0}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=(0,r.declMod)({motionless:!0},{block:"popup2",_onWinScrollAndResize:function(){}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),o=n(7);t.default=(0,o.decl)({block:"tooltip",elem:"corner",mods:function(e){return e.mods}},{propTypes:{mods:r.default.object}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=(0,r.decl)({block:"tooltip",elem:"description"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=(0,r.decl)({block:"tooltip",elem:"buttons"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=n(7);t.default=(0,i.declMod)({view:"default"},{block:"tooltip",mods:function(e){var t=e.tone,n=e.pulsingTail;return r({},this.__base.apply(this,arguments),{tone:t,"pulsing-tail":this.__self.bool2string(n)})}},{propTypes:{tone:o.default.string,pulsingTail:o.default.bool},defaultProps:{tone:"default",size:"n"}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=p(n(0)),i=p(n(1)),a=n(7),s=p((n(46),(n(23).default||n(23)).applyDecls())),u=p((n(171).default||n(171)).applyDecls()),c=p((n(172).default||n(172)).applyDecls()),l=p((n(173).default||n(173)).applyDecls());function p(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.decl)(s.default,{block:"radiobox",elem:"radio",tag:"label",attrs:function(e){var t=e.id,n=void 0===t?this.generateId():t;return r({},this.__base.apply(this,arguments),{htmlFor:n})},mods:function(e){var t=e.disabled,n=e.mainDisabled,o=e.value,i=e.mainValue,a=e.checked;return r({},this.__base.apply(this,arguments),{disabled:this.__self.bool2string(t||n),checked:this.__self.bool2string(this._isChecked(o,i,a))})},content:function(e){var t=e.id,n=void 0===t?this.generateId():t,r=e.name,i=e.mainDisabled,a=e.disabled,s=e.value,p=e.checked,f=e.mainValue,d=e.children;return[o.default.createElement(u.default,{key:"box"},o.default.createElement(c.default,{name:r,id:n,value:s,checked:this._isChecked(s,f,p),onChange:this.props.onChange,disabled:a||i})),o.default.createElement(l.default,{key:"text"},d)]},_isChecked:function(e,t,n){return n||void 0!==e&&e===t}},{propTypes:{disabled:i.default.bool,name:i.default.string,id:i.default.string,mainDisabled:i.default.bool,checked:i.default.bool,mainValue:i.default.oneOfType([i.default.string,i.default.number])}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=(0,r.decl)({block:"radiobox",elem:"box",tag:"span"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=(0,r.decl)({block:"radiobox",elem:"control",tag:"input",attrs:function(e){var t=e.id,n=e.name,r=e.value,o=e.onChange,i=e.checked,a=e.disabled;return{id:t,name:n,value:r,checked:i,disabled:a,onChange:a?void 0:o,type:"radio",tabIndex:a?-1:void 0}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=(0,r.decl)({block:"radiobox",elem:"text",tag:"span"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=n(7);t.default=(0,i.declMod)({view:"default"},{block:"radiobox",mods:function(e){var t=e.tone;return r({},this.__base.apply(this,arguments),{tone:t})}},{propTypes:{tone:o.default.oneOf(["default","red","grey","dark"])},defaultProps:{tone:"default"}})},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){var r=n(303),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){var r=n(178).Symbol;e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(7);t.default=(0,o.decl)({block:"link",elem:"icon",render:function(){var e=this.block,t=this.elem,n=this.props.children;return(0,r.cloneElement)(n,{mix:[].concat(n.props.mix,{block:e,elem:t})})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=c(n(0)),i=c(n(1)),a=c((n(33).default||n(33)).applyDecls()),s=n(7),u=c((n(86).default||n(86)).applyDecls());function c(e){return e&&e.__esModule?e:{default:e}}t.default=(0,s.declMod)(function(e){return Object(e).pseudo},{block:"link",willInit:function(e){e.tabIndex;this.__base.apply(this,arguments),this.onClick=this.onClick.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this)},mods:function(){var e=this.state.pressed;return r({},this.__base.apply(this,arguments),{pressed:e})},attrs:function(){var e=this.state.disabled;return r({},this.__base.apply(this,arguments),{onClick:e?void 0:this.onClick})},content:function(e){var t=e.inner,n=this.__base.apply(this,arguments);return t?n:o.default.createElement(u.default,{key:"inner"},n)},onClick:function(e){e.preventDefault(),this.props.onClick&&this.props.onClick(e)},onKeyDown:function(e){a.default.is(e.which,"ENTER","SPACE")&&(e.which===a.default.SPACE&&e.preventDefault(),this.setState({pressed:!0}))},onKeyUp:function(e){a.default.is(e.which,"ENTER","SPACE")&&this.setState({pressed:!1})}},{propTypes:{inner:i.default.bool}})},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=(0,r.decl)({block:"textarea",elem:"wrap",tag:"span"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=(0,r.decl)({block:"textarea",elem:"control",tag:"textarea",attrs:function(e){return e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=(0,r.decl)({block:"textarea",elem:"box",tag:"span"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(n(0)),i=u(n(1)),a=n(7),s=u((n(187).default||n(187)).applyDecls());function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.declMod)(function(e){return e.hasClear&&!(e.controlAttrs&&e.controlAttrs.readOnly)},{block:"textarea",mods:function(e){var t=e.hasClear;return r({},this.__base.apply(this,arguments),{"has-clear":this.__self.bool2string(t)})},content:function(e){var t=e.text,n=e.theme,r=this.state.disabled;return[].concat(this.__base.apply(this,arguments),o.default.createElement(s.default,{onClick:this._onClearClick.bind(this),key:"clear",disabled:r,visible:t,theme:n}))},_onClearClick:function(e){this._control.focus(),this.setState({focused:!0}),this.props.onClearClick&&this.props.onClearClick(e),e.isDefaultPrevented()||this.props.onChange("",this.props,{source:"clear"})}},{propTypes:{hasClear:i.default.bool}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(n(0)),i=n(7),a=u((n(46),(n(23).default||n(23)).applyDecls())),s=u((n(39).default||n(39)).applyDecls());function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.decl)(a.default,{block:"textarea",elem:"clear",attrs:function(e){var t=e.onClick;return r({},this.__base.apply(this,arguments),{onClick:t})},mods:function(e){var t=e.theme,n=e.visible;return r({},this.__base.apply(this,arguments),{theme:t,visible:this.__self.bool2string(n)})},render:function(){var e=this.block,t=this.elem;return o.default.createElement(s.default,{type:"cross",attrs:this.attrs(this.props),mix:{block:e,elem:t,mods:this.mods(this.props)}})}})},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(9),a=n(15),s=n(11),u=n(2),c=n.n(u),l=(n(346),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),l(t,[{key:"render",value:function(){var e=this.props.tariff;return o.a.createElement(a.a,{cls:c()()("notification").e("link"),target:"_blank",theme:"strong",url:this.props.diskLink+"/tuning/"+e.periods.month.product_id},o.a.createElement(s.a,{keyset:"view-aside-public",loc:"ufo_aside_public_buy_tariff"},o.a.createElement("span",{"data-ref":"tariff-size"},e.display_space,"",e.display_space_units),o.a.createElement("span",{"data-ref":"tariff-price"},e.periods.month.price,"","RUB"===e.currency?"":"$")))}}]),t}();t.default=Object(i.b)(function(e){return{diskLink:e.services.disk}})(p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=(0,r.decl)({block:"pointerfocus",willInit:function(){this.state={block:"utilityfocus"},this.timeoutId=0,this.isPointer=!1,this.onMouseDown=this.onMouseDown.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),this.setIsPointerOnTabFocus=this.setIsPointerOnTabFocus.bind(this)},onKeyDown:function(e){clearTimeout(this.timeoutId),this.isPointer=!1},onMouseDown:function(e){var t=this;this.isPointer=!0,clearTimeout(this.timeoutId),this.timeoutId=setTimeout(function(){t.isPointer=!1},600)},onFocus:function(e){this.isPointer?(document.body.classList.add("pointerfocus"),document.body.classList.remove("utilityfocus")):(document.body.classList.add("utilityfocus"),document.body.classList.remove("pointerfocus")),this.setState({block:this.isPointer?"pointerfocus":"utilityfocus"})},onBlur:function(e){window.addEventListener("focus",this.setIsPointerOnTabFocus,!0)},setIsPointerOnTabFocus:function(){var e=this;window.removeEventListener("focus",this.setIsPointerOnTabFocus,!0),"pointerfocus"===this.state.block&&(this.isPointer=!0,setTimeout(function(){e.isPointer=!1}))},didMount:function(){document.addEventListener("keydown",this.onKeyDown),document.addEventListener("mousedown",this.onMouseDown),document.addEventListener("mouseup",this.onMouseDown),document.addEventListener("focus",this.onFocus,!0),window.addEventListener("blur",this.onBlur),document.body.classList.add("utilityfocus")},willUnmount:function(){document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("mouseup",this.onMouseDown),document.removeEventListener("focus",this.onFocus,!0),window.removeEventListener("blur",this.onBlur)},render:function(){return null}})},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=g(n(0)),i=g(n(17)),a=g(n(1)),s=n(7),u=g(s),c=g((n(65),(n(49).default||n(49)).applyDecls())),l=g((n(88),n(196),(n(90).default||n(90)).applyDecls())),p=g((n(129).default||n(129)).applyDecls()),f=g((n(51),n(66),n(125),(n(47).default||n(47)).applyDecls())),d=g((n(156),n(162),(n(124).default||n(124)).applyDecls())),h=g((n(81).default||n(81)).applyDecls()),m=g((n(362),n(363),n(366),n(367),n(368),n(369),n(370),(n(203).default||n(203)).applyDecls())),y=g((n(204).default||n(204)).applyDecls()),v=g((n(205).default||n(205)).applyDecls()),b=g((n(29).default||n(29)).applyDecls()),_=g(n(28)().decl(n(37))("user2"));function g(e){return e&&e.__esModule?e:{default:e}}t.default=(0,s.decl)({block:"user2",willInit:function(){this.accounts=[],this.__base.apply(this,arguments),this.opened=!1,this.onCurrentAccountClick=this.onCurrentAccountClick.bind(this),this.onOutsideClick=this.onOutsideClick.bind(this),this.userAccountReference=this.userAccountReference.bind(this),this._processLogout=this._processLogout.bind(this),this._onLogin=this._onLogin.bind(this),this._onLogout=this._onLogout.bind(this),this._onMenuItemClick=this._onMenuItemClick.bind(this),this.items={}},getChildContext:function(){var e=this.props.processLogout||this.props.hasLogout?this._processLogout:void 0;return{changeUser:this._changeUser.bind(this),registerItem:this._registerItem.bind(this),menuItems:this.items,processLogout:e}},mods:function(e){var t=e.hasLogout,n=e.processLogout;return{provider:e.provider,"has-logout":!(!t&&!n)&&"yes"}},content:function(e){var t=e.uid,n=e.yu,r=e.name,i=e.unreadCount,a=e.avatarId,s=e.avatarHost,m=e.contentRegion,b=e.fetchAccounts,g=e.hasAccentLetter,O=e.addAccountHidden,w=e.actionsMenu,E=e.children,k=e.accounts,C=e.pic,x=e.settingsUrl,T=e.helpUrl,S=e.subname,P=e.provider,j=this.block,I=this._getPassportHost();void 0===a&&(a=C&&C.avatarId),k&&(E=k);var R=encodeURIComponent(this._getRetpath());if(!t){var M=(0,_.default)("enter"),D=I+"/auth?retpath="+R;return o.default.createElement(c.default,{size:"m",theme:"pseudo",type:"link",onClick:this._onLogin,url:D,mix:{block:j,elem:"enter"},iconLeft:{mix:{block:j,elem:"enter-icon"}},tabIndex:-1,title:M},M)}r||!1===r||(r=t);var A="/passport?mode=embeddedauth&action=logout&yu="+n+"&uid="+t+"&retpath="+R;return A=""+I+A,[o.default.createElement(l.default,{isCurrent:!0,provider:P,key:"current-account",hasAccentLetter:g,mix:{block:j,elem:"current-account"},name:r,url:I,hasTicker:!(!1===a||!i)||void 0,tickerCount:i,avatarId:a,avatarHost:s,pic:Boolean(C)||!1!==a,ref:this.userAccountReference,onClick:this.onCurrentAccountClick}),o.default.createElement(p.default,{key:"a11y-exit",theme:"pseudo",attrs:{accessKey:"x"},tabIndex:"-1",mix:[{block:j,elem:"a11y-exit"},{block:"a11y-hidden"}],url:A},(0,_.default)("exit")),o.default.createElement(f.default,{key:"popup",mainOffset:-46,secondaryOffset:-2,visible:this.state.opened,directions:["bottom-left","bottom-right"],target:"anchor",theme:"normal",autoclosable:!0,anchor:this.userAccountReference,onOutsideClick:this.onOutsideClick,mix:{block:j,elem:"popup"}},o.default.createElement(d.default,{theme:"special-user2",type:"navigation",nowrap:!0,mix:{block:j,elem:"menu"}},o.default.createElement(u.default,{block:"user2",elem:"menu-header"},o.default.createElement(l.default,{pic:!0,isCurrent:!0,provider:P,mix:{block:"user2",elem:"account"},name:r,subname:S,hasTicker:!(!1===a||!i)||void 0,tickerCount:i,avatarId:a||void 0,avatarHost:s})),o.default.createElement(h.default,{key:"multiauth-menu-group",isNavigation:!0},this._collectMenuActions(w,{exitUrl:A,retpathEncoded:R,passportHost:I,contentRegion:m})),o.default.createElement(u.default,{block:this.block,elem:"multi-auth",passportHost:I,retpathEncoded:R,exitUrl:A},o.default.createElement(y.default,{provider:P,passportHost:I,retpathEncoded:R,addAccountHidden:O,fetchAccounts:b,avatarHost:s},E)),o.default.createElement(v.default,{settingsUrl:x,helpUrl:T,contentRegion:m})))]},onCurrentAccountClick:function(e){e.preventDefault(),this.setState({opened:!this.state.opened})},onOutsideClick:function(){this.setState({opened:!1})},_changeUser:function(e,t){if(this.isLogoutClick)this.isLogoutClick=!1;else{var n=this._getPassportHost(),r=this._getRetpath(),i=document.createElement("div");document.body.appendChild(i);var a=n+"/passport?mode=embeddedauth",s=o.default.createElement("form",{action:a,method:"post"},o.default.createElement("input",{type:"hidden",name:"action",value:"change_default"}),o.default.createElement("input",{type:"hidden",name:"uid",value:t}),o.default.createElement("input",{type:"hidden",name:"retpath",value:r}),o.default.createElement("input",{type:"hidden",name:"yu",value:this.props.yu}));this._userChangeForm=this.__self.inject(this,s,i),this._userChangeForm.submit()}},_registerItem:function(e,t){this.items[e]||(this.items[e]=t)},_unregisterItem:function(e){this.items[e]&&delete this.items[e]},_processLogout:function(e,t,n){this.props.processLogout&&this.props.processLogout(e,t,n)},_collectMenuActions:function(e,t){var n=this;return[].concat(e).map(function(e){return o.default.createElement(m.default,r({onLogout:"exit"===e.action?n._onLogout:void 0,onClick:n._onMenuItemClick,key:"user-menu-item-"+e.action,action:e.action},t))})},_getPassportHost:function(){return this.props.passportHost||b.default.serviceUrl("passport",this.props.contentRegion)},_getRetpath:function(){var e="undefined"!=typeof window?window.location:{};return this.props.retpath||e.href||""},_onLogin:function(e){this.props.onLogin&&this.props.onLogin(e)},_onLogout:function(e){this.props.onLogout&&this.props.onLogout(e)},_onMenuItemClick:function(e){this.props.onMenuItemClick&&this.props.onMenuItemClick(e)},userAccountReference:function(e){return void 0===e?this.userAccount:this.userAccount=e}},{propTypes:{uid:a.default.string,unreadCount:a.default.number,contentRegion:a.default.string,passportHost:a.default.string,yu:a.default.string,hasAccentLetter:a.default.bool,retpath:a.default.string,actionsMenu:a.default.array,onLogin:a.default.func,onLogout:a.default.func,onMenuItemClick:a.default.func},defaultProps:{unreadCount:0,hasAccentLetter:!0,contentRegion:"ru",actionsMenu:[{action:"mail"},{action:"passport"},{action:"exit"}]},childContextTypes:{changeUser:a.default.func,registerItem:a.default.func,processLogout:a.default.func,menuItems:a.default.object},Menu:d.default,Item:m.default,Group:h.default,inject:i.default.unstable_renderSubtreeIntoContainer})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=(0,r.declMod)({provider:"yandex-team"},{block:"user-pic",getAvatarURL:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://center.yandex-team.ru",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";return{lodpiUrl:e+"/api/v1/user/"+t+"/avatar/42.jpg",hidpiUrl:e+"/api/v1/user/"+t+"/avatar/100.jpg"}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=n(7);t.default=(0,i.decl)({block:"user-account",elem:"subname",tag:"span",content:function(e){var t=e.subname;return this.getSubname(t)},getSubname:function(e){var t=this.__self.PROVIDERS;return e="object"===(void 0===e?"undefined":r(e))?t[e.provider]:e}},{propTypes:{subname:o.default.oneOfType([o.default.string,o.default.object])},PROVIDERS:{fb:"Facebook",tw:"Twitter",mr:"Mail.ru",gg:"Google",ok:"Odnoklassniki",vk:"Vkontakte",dz:"Deezer",fs:"Foursquare",ig:"Instagram",lf:"Last.FM",lj:"LiveJournal",in:"LinkedIn",mt:"-",ms:"Microsoft",yh:"Yahoo",ya:"Yandex",vf:"Vodafone-",tg:"Telegram"}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(7);t.default=(0,o.declMod)({glyph:"x-sign"},{block:"icon",content:function(e){e.size;return r.default.createElement("svg",{viewBox:"0 0 20 20"},r.default.createElement("path",{focusable:"false",width:"0",height:"0",d:"M10,20 C4.5,20 0,15.5 0,10 C0,4.5 4.5,0 10,0 C15.5,0 20,4.5 20,10 C20,15.5 15.5,20 10,20 L10,20 L10,20 L10,20 Z M15,6.4 L13.6,5 L10,8.6 L6.4,5 L5,6.4 L8.6,10 L5,13.6 L6.4,15 L10,11.4 L13.6,15 L15,13.6 L11.4,10 L15,6.4 L15,6.4 L15,6.4 L15,6.4 Z"}))}})},function(e,t,n){"use strict";n(67),(n(197).default||n(197)).applyDecls()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),o=s(n(1)),i=n(7),a=s((n(198).default||n(198)).applyDecls());function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.declMod)({hasAccentLetter:!0},{block:"user-account",elem:"name",content:function(e){var t=e.text,n=e.children;if(t&&!n){var o=String(t);return[r.default.createElement(a.default,{key:"accent-letter"},o.charAt(0)),o.slice(1)]}return n}},{propTypes:{text:o.default.string}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=(0,r.decl)({block:"user-account",elem:"accent-letter",tag:"span"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),o=s(n(1)),i=n(7),a=s((n(200).default||n(200)).applyDecls());function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.decl)({block:"ticker",tag:"span",attrs:function(e){return{title:e.count,role:"alert","aria-live":"assertive","aria-atomic":"true"}},mods:function(e){return{state:e.count?"normal":"empty"}},content:function(e){var t=e.url,n=e.count,o=e.maxCount;return r.default.createElement(a.default,{url:t,count:n,maxCount:o})}},{propTypes:{url:o.default.string,count:o.default.number,maxCount:o.default.number},defaultProps:{count:0,maxCount:99}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=l(n(0)),i=l(n(1)),a=n(7),s=l(a),u=l((n(201).default||n(201)).applyDecls()),c=l(n(28)().decl(n(361))("ticker__text"));function l(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.decl)({block:"ticker",elem:"count",tag:function(e){return e.url?"a":"span"},attrs:function(e){return{href:e.url}},content:function(e){var t=e.url,n=e.count,i=e.maxCount,a=this.block,l=this.props.mix;return[o.default.createElement(s.default,{key:"text",block:a,elem:"text",mix:{block:"a11y-hidden"}},(0,c.default)("notifications")),o.default.createElement(u.default,r({key:"value"},{count:n,maxCount:i,mix:!t&&[{block:a,elem:"plain"},l]}))]}},{propTypes:{url:i.default.string,count:i.default.number,maxCount:i.default.number},defaultProps:{count:0,maxCount:99}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),o=n(7);t.default=(0,o.decl)({block:"ticker",elem:"value",tag:"span",content:function(e){var t=e.count,n=e.maxCount;return t>n?""+n:t},attrs:function(e){return{title:e.count}}},{propTypes:{count:r.default.number,maxCount:r.default.number},defaultProps:{count:0,maxCount:99}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=(0,r.decl)({block:"i-services",elem:"uri"},{404:function(e){switch(e){case"ua":return"http://404.yandex.ua";case"by":return"http://404.yandex.by";case"kz":return"http://404.yandex.kz";case"com":return"http://404.yandex.com";case"tr":return"http://404.yandex.com.tr";default:return"http://404.yandex.ru"}},adresa:function(){return"http://adresa.yandex.ru"},advertising:function(e){switch(e){case"ua":return"https://advertising.yandex.ua";case"by":return"https://advertising.yandex.by";case"kz":return"https://advertising.yandex.kz";case"com":return"https://advertising.yandex.com";default:return"https://advertising.yandex.ru"}},afisha:function(e){switch(e){case"ua":return"https://afisha.yandex.ua";case"by":return"https://afisha.yandex.by";case"kz":return"https://afisha.yandex.kz";default:return"https://afisha.yandex.ru"}},all:function(e){switch(e){case"ua":return"//yandex.ua/all";case"by":return"//yandex.by/all";case"kz":return"//yandex.kz/all";case"com":return"//yandex.com/all";case"tr":return"//yandex.com.tr/all";default:return"//yandex.ru/all"}},api:function(e){switch(e){case"com":return"http://api.yandex.com";default:return"http://api.yandex.ru"}},appmetrica:function(e){switch(e){case"ua":return"https://appmetrica.yandex.ua";case"by":return"https://appmetrica.yandex.by";case"kz":return"https://appmetrica.yandex.kz";case"com":return"https://appmetrica.yandex.com";case"tr":return"https://appmetrica.yandex.com.tr";default:return"https://appmetrica.yandex.ru"}},appsearch:function(){return"//appsearch.yandex.ru"},audience:function(e){switch(e){case"ua":return"https://audience.yandex.ua";case"by":return"https://audience.yandex.by";case"kz":return"https://audience.yandex.kz";case"com":return"https://audience.yandex.com";default:return"https://audience.yandex.ru"}},auto:function(e){switch(e){case"ua":return"https://auto.yandex.ua";default:return"https://auto.yandex.ru"}},autoru:function(){return"https://auto.ru"},avia:function(e){switch(e){case"ua":return"https://avia.yandex.ua";default:return"https://avia.yandex.ru"}},aziada:function(){return"http://aziada2011.yandex.kz"},ba:function(e){switch(e){case"ua":return"https://ba.yandex.ua";case"by":return"https://ba.yandex.by";case"kz":return"https://ba.yandex.kz";case"com":return"https://ba.yandex.com";default:return"https://ba.yandex.ru"}},backapv:function(){return"http://backapv.yandex.ru"},balance:function(){return"https://balance.yandex.ru"},bar:function(e){switch(e){case"ua":return"http://bar.yandex.ua";case"by":return"http://bar.yandex.by";case"kz":return"http://bar.yandex.kz";case"tr":return"http://bar.yandex.com.tr";default:return"http://bar.yandex.ru"}},"bar-ie":function(e){switch(e){case"ua":return"http://bar.yandex.ua/ie";case"by":return"http://bar.yandex.by/ie";case"kz":return"http://bar.yandex.kz/ie";case"com":return"http://bar.yandex.com/ie";case"tr":return"http://bar.yandex.com.tr/ie";default:return"http://bar.yandex.ru/ie"}},"bar-ie9":function(e){switch(e){case"ua":return"http://bar.yandex.ua/ie";case"by":return"http://bar.yandex.by/ie";case"kz":return"http://bar.yandex.kz/ie";case"com":return"http://bar.yandex.com/ie";case"tr":return"http://bar.yandex.com.tr/ie";default:return"http://bar.yandex.ru/ie"}},bayan:function(){return"http://bayan.yandex.ru"},blogs:function(e){switch(e){case"ua":return"https://blogs.yandex.ua";case"by":return"https://blogs.yandex.by";case"kz":return"https://blogs.yandex.kz";default:return"https://blogs.yandex.ru"}},books:function(){return"http://books.yandex.ru"},browser:function(e){switch(e){case"ua":return"https://browser.yandex.ua";case"by":return"https://browser.yandex.by";case"kz":return"https://browser.yandex.kz";case"com":return"https://browser.yandex.com";case"tr":return"https://browser.yandex.com.tr";default:return"https://browser.yandex.ru"}},calendar:function(){return"https://calendar.yandex.ru"},catalogwdgt:function(){return"https://www.yandex.ru/catalog"},chrome:function(){return"http://chrome.yandex.ru"},city:function(e){switch(e){case"ua":return"https://gorod.yandex.ua";case"by":return"https://gorod.yandex.by";case"kz":return"https://gorod.yandex.kz";case"com":return"https://city.yandex.com";case"tr":return"https://city.yandex.com.tr";default:return"https://gorod.yandex.ru"}},cityday:function(){return"http://cityday.yandex.ru"},clickhouse:function(){return"https://clickhouse.yandex/"},collection:function(){return"https://collection.yandex.ru"},company:function(e){switch(e){case"com":return"https://company.yandex.com";case"tr":return"https://company.yandex.com.tr";default:return"https://company.yandex.ru"}},contest:function(e){switch(e){case"com":return"https://contest.yandex.com";default:return"https://contest.yandex.ru"}},delivery:function(){return"https://delivery.yandex.ru"},desktop:function(){return"http://desktop.yandex.ru"},direct:function(e){switch(e){case"ua":return"https://direct.yandex.ua";case"by":return"https://direct.yandex.by";case"kz":return"https://direct.yandex.kz";case"com":return"https://direct.yandex.com";default:return"https://direct.yandex.ru"}},"direct.market":function(){return"https://partner.market.yandex.ru/yandex.market/"},disk:function(e){switch(e){case"ua":return"https://disk.yandex.ua";case"by":return"https://disk.yandex.by";case"kz":return"https://disk.yandex.kz";case"com":return"https://disk.yandex.com";case"tr":return"https://disk.yandex.com.tr";case"az":return"https://disk.yandex.az";case"il":return"https://disk.yandex.co.il";case"am":return"https://disk.yandex.com.am";case"ge":return"https://disk.yandex.com.ge";case"ee":return"https://disk.yandex.ee";case"fr":return"https://disk.yandex.fr";case"kg":return"https://disk.yandex.kg";case"lt":return"https://disk.yandex.lt";case"lv":return"https://disk.yandex.lv";case"md":return"https://disk.yandex.md";case"tj":return"https://disk.yandex.tj";case"tm":return"https://disk.yandex.tm";case"uz":return"https://disk.yandex.uz";default:return"https://disk.yandex.ru"}},display:function(e){switch(e){case"tr":return"https://display.yandex.com.tr";default:return"https://display.yandex.ru"}},ege:function(e){switch(e){case"ua":return"https://zno.yandex.ua";default:return"https://ege.yandex.ru"}},expert:function(){return"http://expert.yandex.ru"},feedback:function(e){switch(e){case"ua":return"http://feedback.yandex.ua";case"by":return"http://feedback.yandex.by";case"kz":return"http://feedback.yandex.kz";case"com":return"http://feedback.yandex.com";case"tr":return"http://contact.yandex.com.tr";default:return"http://feedback.yandex.ru"}},feedback2:function(e){switch(e){case"ua":return"//feedback2.yandex.ua";case"by":return"//feedback2.yandex.by";case"kz":return"//feedback2.yandex.kz";case"com":return"//feedback2.yandex.com";case"tr":return"//contact2.yandex.com.tr";default:return"//feedback2.yandex.ru"}},ff:function(){return"http://ff.yandex.ru"},fotki:function(){return"https://fotki.yandex.ru"},fresh:function(e){switch(e){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";default:return"https://yandex.ru"}},fx:function(e){switch(e){case"ua":return"https://fx.yandex.ua";case"tr":return"https://fx.yandex.com.tr";default:return"https://fx.yandex.ru"}},games:function(){return"http://games.yandex.ru"},geocontext:function(){return"https://geocontext.yandex.ru"},goroda:function(){return"http://goroda.yandex.ru"},help:function(e){switch(e){case"ua":return"https://help.yandex.ua";case"com":return"https://help.yandex.com";case"tr":return"https://yardim.yandex.com.tr";default:return"https://help.yandex.ru"}},i:function(){return"http://i.yandex.ru"},ie:function(e){switch(e){case"ua":return"https://ie.yandex.ua";case"tr":return"https://ie.yandex.com.tr";default:return"https://ie.yandex.ru"}},images:function(e){switch(e){case"ua":return"https://yandex.ua/images/";case"by":return"https://yandex.by/images/";case"kz":return"https://yandex.kz/images/";case"com":return"https://yandex.com/images/";case"tr":return"https://yandex.com.tr/gorsel/";case"az":return"https://yandex.az/images/";case"il":return"https://yandex.co.il/images/";case"am":return"https://yandex.com.am/images/";case"ge":return"https://yandex.com.ge/images/";case"ee":return"https://yandex.ee/images/";case"fr":return"https://yandex.fr/images/";case"kg":return"https://yandex.kg/images/";case"lt":return"https://yandex.lt/images/";case"lv":return"https://yandex.lv/images/";case"md":return"https://yandex.md/images/";case"tj":return"https://yandex.tj/images/";case"tm":return"https://yandex.tm/images/";case"uz":return"https://yandex.uz/images/";default:return"https://yandex.ru/images/"}},"images-com":function(){return"https://yandex.com/images/"},interests:function(){return"http://interests.yandex.ru"},internet:function(e){switch(e){case"com":return"//internet.yandex.com";case"tr":return"//internet.yandex.com.tr";default:return"//internet.yandex.ru"}},kassa:function(){return"https://kassa.yandex.ru"},keyboard:function(){return"http://www.yandex.ru/index_engl_qwerty.html"},kraski:function(){return"http://kraski.yandex.ru"},kuda:function(){return"http://kuda.yandex.ru"},large:function(){return"http://large.yandex.ru"},legal:function(e){switch(e){case"ua":return"https://yandex.ua/legal";case"com":return"https://yandex.com/legal";case"tr":return"https://yandex.com.tr/legal";default:return"https://yandex.ru/legal"}},lenta:function(){return"http://lenta.yandex.ru"},literacy:function(){return"https://literacy.yandex.ru"},local:function(){return"http://local.yandex.ru"},lost:function(){return"http://lost.yandex.ru"},love:function(){return"http://love.yandex.ru"},mail:function(e){switch(e){case"ua":return"https://mail.yandex.ua";case"by":return"https://mail.yandex.by";case"kz":return"https://mail.yandex.kz";case"com":return"https://mail.yandex.com";case"tr":return"https://mail.yandex.com.tr";case"az":return"https://mail.yandex.az";case"il":return"https://mail.yandex.co.il";case"am":return"https://mail.yandex.com.am";case"ge":return"https://mail.yandex.com.ge";case"ee":return"https://mail.yandex.ee";case"fr":return"https://mail.yandex.fr";case"kg":return"https://mail.yandex.kg";case"lt":return"https://mail.yandex.lt";case"lv":return"https://mail.yandex.lv";case"md":return"https://mail.yandex.md";case"tj":return"https://mail.yandex.tj";case"tm":return"https://mail.yandex.tm";case"uz":return"https://mail.yandex.uz";default:return"https://mail.yandex.ru"}},maps:function(e){switch(e){case"ua":return"https://yandex.ua/maps/";case"com":return"https://yandex.com/maps/";case"tr":return"https://yandex.com.tr/harita/";case"az":return"https://yandex.az/maps/";case"il":return"https://yandex.co.il/maps/";case"am":return"https://yandex.com.am/maps/";case"ge":return"https://yandex.com.ge/maps/";case"ee":return"https://yandex.ee/maps/";case"fr":return"https://yandex.fr/maps/";case"kg":return"https://yandex.kg/maps/";case"lt":return"https://yandex.lt/maps/";case"lv":return"https://yandex.lv/maps/";case"md":return"https://yandex.md/maps/";case"tj":return"https://yandex.tj/maps/";case"tm":return"https://yandex.tm/maps/";case"uz":return"https://yandex.uz/maps/";default:return"https://yandex.ru/maps/"}},"maps-com":function(){return"https://yandex.com/maps/"},"maps-wiki":function(){return"http://nk.yandex.ru"},market:function(e){switch(e){case"ua":return"https://market.yandex.ua";case"by":return"https://market.yandex.by";case"kz":return"https://market.yandex.kz";case"tr":return"https://market.yandex.com.tr";default:return"https://market.yandex.ru"}},"market.advertising":function(){return"https://welcome.advertising.yandex.ru/market/"},master:function(){return"https://master.yandex.ru"},metrika:function(e){switch(e){case"ua":return"https://metrika.yandex.ua";case"by":return"https://metrika.yandex.by";case"kz":return"https://metrika.yandex.kz";case"com":return"https://metrica.yandex.com";case"tr":return"https://metrica.yandex.com.tr";case"az":return"https://metrika.yandex.az";case"il":return"https://metrika.yandex.co.il";case"am":return"https://metrika.yandex.com.am";case"ge":return"https://metrika.yandex.com.ge";case"ee":return"https://metrika.yandex.ee";case"fr":return"https://metrika.yandex.fr";case"kg":return"https://metrika.yandex.kg";case"lt":return"https://metrika.yandex.lt";case"lv":return"https://metrika.yandex.lv";case"md":return"https://metrika.yandex.md";case"tj":return"https://metrika.yandex.tj";case"tm":return"https://metrika.yandex.tm";case"uz":return"https://metrika.yandex.uz";default:return"https://metrika.yandex.ru"}},metro:function(){return"https://metro.yandex.ru"},mobile:function(e){switch(e){case"ua":return"https://mobile.yandex.ua";case"tr":return"https://mobil.yandex.com.tr";default:return"https://mobile.yandex.ru"}},moikrug:function(){return"http://moikrug.ru"},money:function(){return"https://money.yandex.ru"},museums:function(){return"http://18.yandex.ru"},music:function(e){switch(e){case"ua":return"https://music.yandex.ua";case"by":return"https://music.yandex.by";case"kz":return"https://music.yandex.kz";default:return"https://music.yandex.ru"}},"music-partner":function(){return"http://music-partner.yandex.ru"},nahodki:function(e){switch(e){case"ua":return"https://nahodki.yandex.ua";case"kz":return"https://nahodki.yandex.kz";default:return"https://nahodki.yandex.ru"}},nano:function(){return"http://nano.yandex.ru"},news:function(e){switch(e){case"ua":return"https://news.yandex.ua";case"by":return"https://news.yandex.by";case"kz":return"https://news.yandex.kz";case"tr":return"https://haber.yandex.com.tr";case"az":return"https://news.yandex.az";case"il":return"https://news.yandex.co.il";case"am":return"https://news.yandex.com.am";case"ge":return"https://news.yandex.com.ge";case"ee":return"https://news.yandex.ee";case"fr":return"https://news.yandex.fr";case"kg":return"https://news.yandex.kg";case"lt":return"https://news.yandex.lt";case"lv":return"https://news.yandex.lv";case"md":return"https://news.yandex.md";case"tj":return"https://news.yandex.tj";case"tm":return"https://news.yandex.tm";case"uz":return"https://news.yandex.uz";default:return"https://news.yandex.ru"}},"news-com":function(){return"https://news.yandex.com"},notifications:function(e){switch(e){case"ua":return"https://notifications.yandex.ua";case"by":return"https://notifications.yandex.by";case"kz":return"https://notifications.yandex.kz";case"com":return"https://notifications.yandex.com";case"tr":return"https://notifications.yandex.com.tr";default:return"https://notifications.yandex.ru"}},oauth:function(e){switch(e){case"com":return"https://oauth.yandex.com";default:return"https://oauth.yandex.ru"}},online:function(){return"http://online.yandex.ru"},openid:function(){return"http://openid.yandex.ru"},opera:function(e){switch(e){case"tr":return"https://opera.yandex.com.tr";default:return"https://opera.yandex.ru"}},opinion:function(){return"http://opinion.yandex.ru"},partners:function(e){switch(e){case"ua":return"http://partner.yandex.ua";case"by":return"http://partner.yandex.by";case"kz":return"http://partner.yandex.kz";case"com":return"http://partner.yandex.com";default:return"http://partner.yandex.ru"}},partnersearch:function(){return"http://yandex.ru"},pass:function(e){switch(e){case"ua":return"https://pass.yandex.ua";case"by":return"https://pass.yandex.by";case"kz":return"https://pass.yandex.kz";case"com":return"https://pass.yandex.com";case"tr":return"https://pass.yandex.com.tr";case"az":return"https://pass.yandex.az";case"il":return"https://pass.yandex.co.il";case"am":return"https://pass.yandex.com.am";case"ge":return"https://pass.yandex.com.ge";case"ee":return"https://pass.yandex.ee";case"fr":return"https://pass.yandex.fr";case"kg":return"https://pass.yandex.kg";case"lt":return"https://pass.yandex.lt";case"lv":return"https://pass.yandex.lv";case"md":return"https://pass.yandex.md";case"tj":return"https://pass.yandex.tj";case"tm":return"https://pass.yandex.tm";case"uz":return"https://pass.yandex.uz";default:return"https://pass.yandex.ru"}},passport:function(e){switch(e){case"ua":return"https://passport.yandex.ua";case"by":return"https://passport.yandex.by";case"kz":return"https://passport.yandex.kz";case"com":return"https://passport.yandex.com";case"tr":return"https://passport.yandex.com.tr";case"az":return"https://passport.yandex.az";case"il":return"https://passport.yandex.co.il";case"am":return"https://passport.yandex.com.am";case"ge":return"https://passport.yandex.com.ge";case"ee":return"https://passport.yandex.ee";case"fr":return"https://passport.yandex.fr";case"kg":return"https://passport.yandex.kg";case"lt":return"https://passport.yandex.lt";case"lv":return"https://passport.yandex.lv";case"md":return"https://passport.yandex.md";case"tj":return"https://passport.yandex.tj";case"tm":return"https://passport.yandex.tm";case"uz":return"https://passport.yandex.uz";default:return"https://passport.yandex.ru"}},pdd:function(){return"https://pdd.yandex.ru"},peoplesearch:function(e){switch(e){case"ua":return"http://people.yandex.ua";default:return"http://people.yandex.ru"}},perevod:function(){return"https://perevod.yandex.ru"},probki:function(e){switch(e){case"ua":return"http://probki.yandex.ua";default:return"http://probki.yandex.ru"}},pulse:function(e){switch(e){case"ua":return"http://blogs.yandex.ua/pulse";case"by":return"http://blogs.yandex.by/pulse";case"kz":return"http://blogs.yandex.kz/pulse";default:return"http://blogs.yandex.ru/pulse"}},punto:function(){return"https://punto.yandex.ru"},pvo:function(){return"http://ask.yandex.ru"},rabota:function(e){switch(e){case"ua":return"https://rabota.yandex.ua";case"by":return"https://rabota.yandex.by";case"kz":return"https://rabota.yandex.kz";default:return"https://rabota.yandex.ru"}},radar:function(){return"https://radar.metrika.yandex"},rasp:function(e){switch(e){case"ua":return"https://rasp.yandex.ua";case"by":return"https://rasp.yandex.by";case"kz":return"https://rasp.yandex.kz";case"tr":return"https://seferler.yandex.com.tr";default:return"https://rasp.yandex.ru"}},realty:function(e){switch(e){case"ua":return"https://realty.yandex.ua";case"by":return"https://realty.yandex.by";case"kz":return"https://realty.yandex.kz";default:return"https://realty.yandex.ru"}},referats:function(){return"https://referats.yandex.ru"},review:function(e){switch(e){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";default:return"https://yandex.ru"}},rk:function(){return"http://rk.yandex.ru"},root:function(){return"https://root.yandex.ru"},school:function(){return"http://school.yandex.ru"},search:function(e){switch(e){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";case"az":return"https://yandex.az";case"il":return"https://yandex.co.il";case"am":return"https://yandex.com.am";case"ge":return"https://yandex.com.ge";case"ee":return"https://yandex.ee";case"fr":return"https://yandex.fr";case"kg":return"https://yandex.kg";case"lt":return"https://yandex.lt";case"lv":return"https://yandex.lv";case"md":return"https://yandex.md";case"tj":return"https://yandex.tj";case"tm":return"https://yandex.tm";case"uz":return"https://yandex.uz";default:return"https://yandex.ru"}},serp:function(e){switch(e){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";case"az":return"https://yandex.az";case"il":return"https://yandex.co.il";case"am":return"https://yandex.com.am";case"ge":return"https://yandex.com.ge";case"ee":return"https://yandex.ee";case"fr":return"https://yandex.fr";case"kg":return"https://yandex.kg";case"lt":return"https://yandex.lt";case"lv":return"https://yandex.lv";case"md":return"https://yandex.md";case"tj":return"https://yandex.tj";case"tm":return"https://yandex.tm";case"uz":return"https://yandex.uz";default:return"https://yandex.ru"}},server:function(){return"http://company.yandex.ru/technology/server/"},shtrafi:function(){return"https://money.yandex.net/debts"},site:function(e){switch(e){case"ua":return"https://site.yandex.ua";case"tr":return"https://ozel.yandex.com.tr";default:return"https://site.yandex.ru"}},slovari:function(e){switch(e){case"ua":return"https://slovari.yandex.ua";case"by":return"https://slovari.yandex.by";case"kz":return"https://slovari.yandex.kz";default:return"https://slovari.yandex.ru"}},so:function(){return"http://so.yandex.ru"},social:function(e){switch(e){case"ua":return"https://social.yandex.ua";case"by":return"https://social.yandex.by";case"kz":return"https://social.yandex.kz";case"com":return"https://social.yandex.ru";case"tr":return"https://social.yandex.com.tr";default:return"https://social.yandex.ru"}},soft:function(e){switch(e){case"ua":return"https://soft.yandex.ua";case"tr":return"https://soft.yandex.com.tr";default:return"https://soft.yandex.ru"}},sport:function(e){switch(e){case"ua":return"http://sport.yandex.ua";case"by":return"http://sport.yandex.by";case"kz":return"http://sport.yandex.kz";case"tr":return"http://spor.yandex.com.tr";default:return"http://sport.yandex.ru"}},sprav:function(e){switch(e){case"ua":return"https://sprav.yandex.ua";case"by":return"https://sprav.yandex.by";case"kz":return"https://sprav.yandex.kz";case"tr":return"https://rehber.yandex.com.tr";default:return"https://sprav.yandex.ru"}},start:function(e){switch(e){case"ua":return"https://help.yandex.ua/start/";case"com":return"https://help.yandex.com/start/";case"tr":return"https://yardim.yandex.com.tr/start";default:return"https://help.yandex.ru/start/"}},stat:function(e){switch(e){case"ua":return"https://stat.yandex.ua";case"by":return"https://stat.yandex.by";default:return"https://stat.yandex.ru"}},subs:function(){return"https://subs.yandex.ru"},support:function(e){switch(e){case"ua":return"https://yandex.ua/support/";case"by":return"https://yandex.by/support/";case"kz":return"https://yandex.kz/support/";case"com":return"https://yandex.com/support/";case"tr":return"https://yandex.com.tr/support/";default:return"https://yandex.ru/support/"}},taxi:function(){return"https://taxi.yandex.ru"},telephony:function(){return"https://telephony.yandex.ru/"},terms:function(){return"http://terms.yandex.ru"},tests:function(){return"http://tests.yandex.ru"},ticket:function(){return"http://ticket.yandex.ru"},time:function(e){switch(e){case"ua":return"https://time.yandex.ua";case"by":return"https://time.yandex.by";case"kz":return"https://time.yandex.kz";case"com":return"https://time.yandex.com";case"tr":return"https://saat.yandex.com.tr";default:return"https://time.yandex.ru"}},toloka:function(e){switch(e){case"com":return"https://toloka.yandex.com";case"tr":return"https://toloka.yandex.com.tr";default:return"https://toloka.yandex.ru"}},toster:function(){return"http://toster.yandex.ru"},translate:function(e){switch(e){case"ua":return"https://translate.yandex.ua";case"by":return"https://translate.yandex.by";case"kz":return"https://translate.yandex.kz";case"com":return"https://translate.yandex.com";case"tr":return"https://ceviri.yandex.com.tr";case"az":return"https://translate.yandex.az";case"il":return"https://translate.yandex.co.il";case"am":return"https://translate.yandex.com.am";case"ge":return"https://translate.yandex.com.ge";case"ee":return"https://translate.yandex.ee";case"fr":return"https://translate.yandex.fr";case"kg":return"https://translate.yandex.kg";case"lt":return"https://translate.yandex.lt";case"lv":return"https://translate.yandex.lv";case"md":return"https://translate.yandex.md";case"tj":return"https://translate.yandex.tj";case"tm":return"https://translate.yandex.tm";case"uz":return"https://translate.yandex.uz";default:return"https://translate.yandex.ru"}},tune:function(e){switch(e){case"ua":return"https://yandex.ua/tune";case"by":return"https://yandex.by/tune";case"kz":return"https://yandex.kz/tune";case"com":return"https://yandex.com/tune";case"tr":return"https://yandex.com.tr/tune";default:return"https://yandex.ru/tune"}},tv:function(e){switch(e){case"ua":return"https://tv.yandex.ua";case"by":return"https://tv.yandex.by";case"kz":return"https://tv.yandex.kz";default:return"https://tv.yandex.ru"}},uslugi:function(){return"http://uslugi.yandex.ru"},video:function(e){switch(e){case"ua":return"http://yandex.ua/video/";case"by":return"http://yandex.by/video/";case"kz":return"http://yandex.kz/video/";case"com":return"https://yandex.com/video/";case"tr":return"http://yandex.com.tr/video/";case"az":return"https://yandex.az/video/";case"il":return"https://yandex.co.il/video/";case"am":return"https://yandex.com.am/video/";case"ge":return"https://yandex.com.ge/video/";case"ee":return"https://yandex.ee/video/";case"fr":return"https://yandex.fr/video/";case"kg":return"https://yandex.kg/video/";case"lt":return"https://yandex.lt/video/";case"lv":return"https://yandex.lv/video/";case"md":return"https://yandex.md/video/";case"tj":return"https://yandex.tj/video/";case"tm":return"https://yandex.tm/video/";case"uz":return"https://yandex.uz/video/";default:return"http://yandex.ru/video/"}},"video-com":function(){return"https://yandex.com/video/"},vno:function(){return"https://zno.yandex.ua"},wdgt:function(e){switch(e){case"ua":return"https://wdgt.yandex.ua";case"by":return"https://wdgt.yandex.by";case"kz":return"https://wdgt.yandex.kz";case"tr":return"https://wdgt.yandex.com.tr";default:return"https://wdgt.yandex.ru"}},weather:function(e){switch(e){case"ua":return"https://pogoda.yandex.ua";case"by":return"https://pogoda.yandex.by";case"kz":return"https://pogoda.yandex.kz";case"tr":return"https://hava.yandex.com.tr";case"az":return"https://pogoda.yandex.az";case"il":return"https://pogoda.yandex.co.il";case"am":return"https://pogoda.yandex.com.am";case"ge":return"https://pogoda.yandex.com.ge";case"ee":return"https://pogoda.yandex.ee";case"fr":return"https://pogoda.yandex.fr";case"kg":return"https://pogoda.yandex.kg";case"lt":return"https://pogoda.yandex.lt";case"lv":return"https://pogoda.yandex.lv";case"md":return"https://pogoda.yandex.md";case"tj":return"https://pogoda.yandex.tj";case"tm":return"https://pogoda.yandex.tm";case"uz":return"https://pogoda.yandex.uz";default:return"https://pogoda.yandex.ru"}},webmaster:function(e){switch(e){case"ua":return"https://webmaster.yandex.ua";case"com":return"https://webmaster.yandex.com";case"tr":return"https://webmaster.yandex.com.tr";default:return"https://webmaster.yandex.ru"}},"webmaster-api":function(e){switch(e){case"com":case"tr":return"https://tech.yandex.com/webmaster/";default:return"https://tech.yandex.ru/webmaster/"}},widgets:function(e){switch(e){case"ua":return"https://widgets.yandex.ua";case"by":return"https://widgets.yandex.by";case"kz":return"https://widgets.yandex.kz";case"tr":return"https://widgets.yandex.com.tr";default:return"https://widgets.yandex.ru"}},wordstat:function(){return"https://wordstat.yandex.ru"},wow:function(){return"http://my.ya.ru"},www:function(e){switch(e){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";case"az":return"https://yandex.az";case"il":return"https://yandex.co.il";case"am":return"https://yandex.com.am";case"ge":return"https://yandex.com.ge";case"ee":return"https://yandex.ee";case"fr":return"https://yandex.fr";case"kg":return"https://yandex.kg";case"lt":return"https://yandex.lt";case"lv":return"https://yandex.lv";case"md":return"https://yandex.md";case"tj":return"https://yandex.tj";case"tm":return"https://yandex.tm";case"uz":return"https://yandex.uz";default:return"https://yandex.ru"}},xmlsearch:function(e){switch(e){case"ua":return"https://xml.yandex.ua";case"by":return"https://xml.yandex.by";case"kz":return"https://xml.yandex.kz";case"com":return"https://xml.yandex.com";case"tr":return"https://xml.yandex.com.tr";default:return"https://xml.yandex.ru"}},yaca:function(e){switch(e){case"ua":return"https://yaca.yandex.ua";case"by":return"https://yaca.yandex.by";default:return"https://yaca.yandex.ru"}},yamb:function(){return"https://yamb.yandex.ru"},zakladki:function(){return"http://zakladki.yandex.ru"}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7),i=s((n(29).default||n(29)).applyDecls()),a=s(n(28)().decl(n(37))("user2"));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.declMod)({action:"settings"},{block:"user2",elem:"menu-item",attrs:function(e){var t=e.contentRegion;return r({},this.__base.apply(this,arguments),{href:i.default.serviceUrl("tune",t)})},content:function(){return(0,a.default)("settings")}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=h(r),i=h(n(1)),a=n(7),s=h(a),u=h((n(123),(n(79).default||n(79)).applyDecls())),c=h((n(88).default||n(88)).applyDecls()),l=h((n(89).default||n(89)).applyDecls()),p=h((n(67).default||n(67)).applyDecls()),f=h((n(85).default||n(85)).applyDecls()),d=h(n(28)().decl(n(37))("user2"));function h(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.decl)({block:"user2",elem:"accounts",content:function(e){var t=e.passportHost,n=e.retpathEncoded,r=e.addAccountHidden,i=e.mix,a=e.children,f=this.block;return[o.default.createElement(s.default,{key:"accounts-container",block:this.block,elem:"accounts-container"},this.processChildren(a)),o.default.createElement(u.default,{key:"add-account"},o.default.createElement(c.default,{key:"add-account",url:t+"/auth?mode=add-user&retpath="+n,isAddAccount:!0,mix:[i,{block:f,elem:"add-account",mods:{hidden:this.__self.bool2string(r)}}]},o.default.createElement(l.default,null),o.default.createElement(p.default,{text:(0,d.default)("add-account")})))]},processChildren:function(e){var t=this;if(e){var n=this.context.registerItem||function(){};return r.Children.map(e,function(e,i){return o.default.createElement(u.default,{type:"account",key:""+i,ref:function(t){return n(e.props.uid,t)}},(0,r.cloneElement)(e,{avatarHost:t.props.avatarHost,provider:t.props.provider}))})}if(this.props.fetchAccounts)return o.default.createElement(f.default,{size:"xs",progress:!0,mix:{block:this.block,elem:"accounts-spin"}})}},{contextTypes:{registerItem:i.default.func}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(0)),o=n(7),i=u((n(65),(n(49).default||n(49)).applyDecls())),a=u(n(28)().decl(n(37))("user2")),s=u((n(29).default||n(29)).applyDecls());function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.decl)({block:"user2",elem:"menu-footer",content:function(e){var t=e.settingsUrl,n=e.helpUrl,o=e.contentRegion;return[r.default.createElement(i.default,{key:"settings",size:"s",type:"link",theme:"clear",mix:{block:this.block,elem:"footer-link"},url:t||s.default.serviceUrl("tune",o),text:(0,a.default)("settings")}),r.default.createElement(i.default,{key:"help",size:"s",type:"link",theme:"clear",mix:{block:this.block,elem:"footer-link"},url:n||s.default.serviceUrl("support",o),text:(0,a.default)("help")})]}})},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},i="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,n){if("string"!=typeof t){var a=Object.getOwnPropertyNames(t);i&&(a=a.concat(Object.getOwnPropertySymbols(t)));for(var s=0;s<a.length;++s)if(!(r[a[s]]||o[a[s]]||n&&n[a[s]]))try{e[a[s]]=t[a[s]]}catch(e){}}return e}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(64))},function(e,t,n){"use strict";(function(e){var n={copy:function(e){var t=document.createElement("span");t.appendChild(document.createTextNode(e)),t.style.position="absolute",t.style.left="-999px",t.style.opacity="0",document.body.appendChild(t);var n=!1;try{var r=document.createRange();r.selectNodeContents(t);var o=window.getSelection();o.removeAllRanges(),o.addRange(r),n=document.execCommand("copy")}catch(e){n=!1}return document.body.removeChild(t),n},isSupported:function(){return Boolean(e.window&&document.queryCommandSupported("copy"))}};t.a=n}).call(this,n(64))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}((n(285),(n(153).default||n(153)).applyDecls()));t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}((n(51),n(66),n(125),n(164),n(47),(n(165).default||n(165)).applyDecls()));t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}((n(296),(n(174).default||n(174)).applyDecls()));t.default=r.default},function(e,t,n){var r=n(130),o=n(126),i="Expected a function";e.exports=function(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(i);return o(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:a,maxWait:t,trailing:s})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}((n(334),(n(186).default||n(186)).applyDecls()));t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}((n(190).default||n(190)).applyDecls());t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}((n(192).default||n(192)).applyDecls());t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}((n(88),n(196),(n(90).default||n(90)).applyDecls()));t.default=r.default},function(e,t){!function(e,t){"use strict";if("IntersectionObserver"in e&&"IntersectionObserverEntry"in e&&"intersectionRatio"in e.IntersectionObserverEntry.prototype)"isIntersecting"in e.IntersectionObserverEntry.prototype||Object.defineProperty(e.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var n=[];o.prototype.THROTTLE_TIMEOUT=100,o.prototype.POLL_INTERVAL=null,o.prototype.USE_MUTATION_OBSERVER=!0,o.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},o.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},o.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},o.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},o.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]})},o.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map(function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},o.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(i(e,"resize",this._checkForIntersections,!0),i(t,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in e&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},o.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,a(e,"resize",this._checkForIntersections,!0),a(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},o.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),n=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(o){var i=o.element,a=u(i),s=this._rootContainsTarget(i),c=o.entry,l=t&&s&&this._computeTargetAndRootIntersection(i,n),p=o.entry=new r({time:e.performance&&performance.now&&performance.now(),target:i,boundingClientRect:a,rootBounds:n,intersectionRect:l});c?t&&s?this._hasCrossedThreshold(c,p)&&this._queuedEntries.push(p):c&&c.isIntersecting&&this._queuedEntries.push(p):this._queuedEntries.push(p)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},o.prototype._computeTargetAndRootIntersection=function(n,r){if("none"!=e.getComputedStyle(n).display){for(var o=u(n),i=l(n),a=!1;!a;){var c=null,p=1==i.nodeType?e.getComputedStyle(i):{};if("none"==p.display)return;if(i==this.root||i==t?(a=!0,c=r):i!=t.body&&i!=t.documentElement&&"visible"!=p.overflow&&(c=u(i)),c&&!(o=s(c,o)))break;i=l(i)}return o}},o.prototype._getRootRect=function(){var e;if(this.root)e=u(this.root);else{var n=t.documentElement,r=t.body;e={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(e)},o.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map(function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100}),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},o.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var o=0;o<this.thresholds.length;o++){var i=this.thresholds[o];if(i==n||i==r||i<n!=i<r)return!0}},o.prototype._rootIsInDom=function(){return!this.root||c(t,this.root)},o.prototype._rootContainsTarget=function(e){return c(this.root||t,e)},o.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},o.prototype._unregisterInstance=function(){var e=n.indexOf(this);-1!=e&&n.splice(e,1)},e.IntersectionObserver=o,e.IntersectionObserverEntry=r}function r(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,o=r.width*r.height;this.intersectionRatio=n?o/n:this.isIntersecting?1:0}function o(e,t){var n=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=function(e,t){var n=null;return function(){n||(n=setTimeout(function(){e(),n=null},t))}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function i(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function a(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function s(e,t){var n=Math.max(e.top,t.top),r=Math.min(e.bottom,t.bottom),o=Math.max(e.left,t.left),i=Math.min(e.right,t.right),a=i-o,s=r-n;return a>=0&&s>=0&&{top:n,bottom:r,left:o,right:i,width:a,height:s}}function u(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(e,t){for(var n=t;n;){if(n==e)return!0;n=l(n)}return!1}function l(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t}}(window,document)},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(e){return e&&DataView.prototype.isPrototypeOf(e)},o=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};l.prototype.append=function(e,t){e=s(e),t=u(t);var n=this.map[e];this.map[e]=n?n+","+t:t},l.prototype.delete=function(e){delete this.map[s(e)]},l.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},l.prototype.set=function(e,t){this.map[s(e)]=u(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),c(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),c(e)},t.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},m.call(y.prototype),m.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];b.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},e.Headers=l,e.Request=y,e.Response=b,e.fetch=function(e,n){return new Promise(function(r,o){var i=new y(e,n),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:function(e){var t=new l;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t}(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;r(new b(t,e))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function d(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&r(e))this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!o(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=f(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function y(e,t){var n=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=function(e){var t=e.toUpperCase();return i.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function v(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function b(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";var r=n(110),o=n(223),i=n(74),a=n(75);e.exports=n(224)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){e.exports=!n(61)&&!n(113)(function(){return 7!=Object.defineProperty(n(114)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(48);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(111),o=n(45),i=n(116),a=n(60),s=n(74),u=n(225),c=n(120),l=n(230),p=n(27)("iterator"),f=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,n,h,m,y,v){u(n,t,h);var b,_,g,O=function(e){if(!f&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",E="values"==m,k=!1,C=e.prototype,x=C[p]||C["@@iterator"]||m&&C[m],T=x||O(m),S=m?E?O("entries"):T:void 0,P="Array"==t&&C.entries||x;if(P&&(g=l(P.call(new e)))!==Object.prototype&&g.next&&(c(g,w,!0),r||"function"==typeof g[p]||a(g,p,d)),E&&x&&"values"!==x.name&&(k=!0,T=function(){return x.call(this)}),r&&!v||!f&&!k&&C[p]||a(C,p,T),s[t]=T,s[w]=d,m)if(b={values:E?T:O("values"),keys:y?T:O("keys"),entries:S},v)for(_ in b)_ in C||i(C,_,b[_]);else o(o.P+o.F*(f||k),t,b);return b}},function(e,t,n){"use strict";var r=n(226),o=n(134),i=n(120),a={};n(60)(a,n(27)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(44),o=n(227),i=n(138),a=n(119)("IE_PROTO"),s=function(){},u=function(){var e,t=n(114)("iframe"),r=i.length;for(t.style.display="none",n(139).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[i[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(73),o=n(44),i=n(117);e.exports=n(61)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(76),o=n(75),i=n(136)(!1),a=n(119)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var r=n(137),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(76),o=n(121),i=n(119)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){"use strict";var r=n(45),o=n(232)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(110)("find")},function(e,t,n){var r=n(63),o=n(115),i=n(121),a=n(118),s=n(233);e.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,p=6==e,f=5==e||p,d=t||s;return function(t,s,h){for(var m,y,v=i(t),b=o(v),_=r(s,h,3),g=a(b.length),O=0,w=n?d(t,g):u?d(t,0):void 0;g>O;O++)if((f||O in b)&&(y=_(m=b[O],O,v),e))if(n)w[O]=y;else if(y)switch(e){case 3:return!0;case 5:return m;case 6:return O;case 2:w.push(m)}else if(l)return!1;return p?-1:c||l?l:w}}},function(e,t,n){var r=n(234);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(48),o=n(235),i=n(27)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(62);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){"use strict";var r=n(45),o=n(136)(!0);r(r.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(110)("includes")},function(e,t,n){var r=n(45);r(r.S+r.F,"Object",{assign:n(238)})},function(e,t,n){"use strict";var r=n(117),o=n(239),i=n(140),a=n(121),s=n(115),u=Object.assign;e.exports=!u||n(113)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=a(e),u=arguments.length,c=1,l=o.f,p=i.f;u>c;)for(var f,d=s(arguments[c++]),h=l?r(d).concat(l(d)):r(d),m=h.length,y=0;m>y;)p.call(d,f=h[y++])&&(n[f]=d[f]);return n}:u},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(45),o=n(241)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},function(e,t,n){var r=n(117),o=n(75),i=n(140).f;e.exports=function(e){return function(t){for(var n,a=o(t),s=r(a),u=s.length,c=0,l=[];u>c;)i.call(a,n=s[c++])&&l.push(e?[n,a[n]]:a[n]);return l}}},function(e,t,n){"use strict";var r,o,i,a,s=n(111),u=n(30),c=n(63),l=n(141),p=n(45),f=n(48),d=n(77),h=n(243),m=n(244),y=n(248),v=n(142).set,b=n(250)(),_=n(143),g=n(251),O=n(252),w=n(253),E=u.TypeError,k=u.process,C=k&&k.versions,x=C&&C.v8||"",T=u.Promise,S="process"==l(k),P=function(){},j=o=_.f,I=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[n(27)("species")]=function(e){e(P,P)};return(S||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t&&0!==x.indexOf("6.6")&&-1===O.indexOf("Chrome/66")}catch(e){}}(),R=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},M=function(e,t){if(!e._n){e._n=!0;var n=e._c;b(function(){for(var r=e._v,o=1==e._s,i=0,a=function(t){var n,i,a,s=o?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{s?(o||(2==e._h&&L(e),e._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===t.promise?c(E("Promise-chain cycle")):(i=R(n))?i.call(n,u,c):u(n)):c(r)}catch(e){l&&!a&&l.exit(),c(e)}};n.length>i;)a(n[i++]);e._c=[],e._n=!1,t&&!e._h&&D(e)})}},D=function(e){v.call(u,function(){var t,n,r,o=e._v,i=A(e);if(i&&(t=g(function(){S?k.emit("unhandledRejection",o,e):(n=u.onunhandledrejection)?n({promise:e,reason:o}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=S||A(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},A=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){v.call(u,function(){var t;S?k.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},N=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},z=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw E("Promise can't be resolved itself");(t=R(e))?b(function(){var r={_w:n,_d:!1};try{t.call(e,c(z,r,1),c(N,r,1))}catch(e){N.call(r,e)}}):(n._v=e,n._s=1,M(n,!1))}catch(e){N.call({_w:n,_d:!1},e)}}};I||(T=function(e){h(this,T,"Promise","_h"),d(e),r.call(this);try{e(c(z,this,1),c(N,this,1))}catch(e){N.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(254)(T.prototype,{then:function(e,t){var n=j(y(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=S?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&M(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=c(z,e,1),this.reject=c(N,e,1)},_.f=j=function(e){return e===T||e===a?new i(e):o(e)}),p(p.G+p.W+p.F*!I,{Promise:T}),n(120)(T,"Promise"),n(255)("Promise"),a=n(59).Promise,p(p.S+p.F*!I,"Promise",{reject:function(e){var t=j(this);return(0,t.reject)(e),t.promise}}),p(p.S+p.F*(s||!I),"Promise",{resolve:function(e){return w(s&&this===a?T:this,e)}}),p(p.S+p.F*!(I&&n(256)(function(e){T.all(e).catch(P)})),"Promise",{all:function(e){var t=this,n=j(t),r=n.resolve,o=n.reject,i=g(function(){var n=[],i=0,a=1;m(e,!1,function(e){var s=i++,u=!1;n.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=j(t),r=n.reject,o=g(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(63),o=n(245),i=n(246),a=n(44),s=n(118),u=n(247),c={},l={};(t=e.exports=function(e,t,n,p,f){var d,h,m,y,v=f?function(){return e}:u(e),b=r(n,p,t?2:1),_=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(i(v)){for(d=s(e.length);d>_;_++)if((y=t?b(a(h=e[_])[0],h[1]):b(e[_]))===c||y===l)return y}else for(m=v.call(e);!(h=m.next()).done;)if((y=o(m,b,h.value,t))===c||y===l)return y}).BREAK=c,t.RETURN=l},function(e,t,n){var r=n(44);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(74),o=n(27)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){var r=n(141),o=n(27)("iterator"),i=n(74);e.exports=n(59).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(44),o=n(77),i=n(27)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(30),o=n(142).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(62)(a);e.exports=function(){var e,t,n,c=function(){var r,o;for(u&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(c)}}else n=function(){o.call(r,c)};else{var p=!0,f=document.createTextNode("");new i(c).observe(f,{characterData:!0}),n=function(){f.data=p=!p}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(30).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(44),o=n(48),i=n(143);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(116);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t,n){"use strict";var r=n(30),o=n(73),i=n(61),a=n(27)("species");e.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(27)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t,n){var r=n(45);r(r.S,"Math",{sign:n(258)})},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){!function(e){"function"!=typeof e.matches&&(e.matches=e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=0;t[n]&&t[n]!==this;)++n;return Boolean(t[n])}),"function"!=typeof e.closest&&(e.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null})}(window.Element.prototype)},function(e,t){var n=document.createElement("div");if(n.classList.add("t"),!0!==n.classList.toggle("t",!0)||!n.classList.contains("t")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){if(!0===t)this.add(e);else{if(!1!==t)return r.call(this,e);this.remove(e)}return this.contains(e)}}},function(e,t,n){"use strict";var r=n(262);function o(){}e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";var r=n(0),o=n(144);e.exports=function(e){var t=o.getKey(e.lang,e.keyset,e.loc,e),n={};r.Children.forEach(e.children,function(e){var t=e.props["data-ref"]||e.ref;"string"==typeof t&&(n[t]=e)});var i=function e(t,n,o){for(var i=/<(x-([\w-]+))(?:(\/>)|>(.*?)<\/\1>)/g,a=[],s=void 0,u=0;s=i.exec(o);){if(s.index>u){var c=o.substr(u,s.index-u);a.push(c)}u=s.index+s[0].length;var l=s[2],p=!!s[3],f=s[4];if(!n[l])throw console.error("LOC keyset `%s` key `%s` child `%s` not found",t.keyset,t.loc,l),"LOC child "+l+" not found";var d=[n[l],{key:l}];p||d.push(e(t,n,f)),a.push(r.cloneElement.apply(r,d))}if(u<o.length){var h=o.substr(u);a.push(h)}return a}(e,n,t);if(!e.tag&&1===i.length&&r.isValidElement(i[0]))return i[0];var a=e.tag||"span",s=e.className?{className:e.className}:null;return r.createElement(a,s,i)}},function(e,t,n){var r;!function(o){var i=function(){return"_"}.toString().indexOf("_")>-1,a=function(){},s=Object.prototype.hasOwnProperty,u=Object.create||function(e){var t=function(){};return t.prototype=e,new t},c=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t},l=function(e,t){for(var n in t)s.call(t,n)&&(e[n]=t[n]);return e},p=Object.prototype.toString,f=Array.isArray||function(e){return"[object Array]"===p.call(e)},d=function(e){return"[object Function]"===p.call(e)},h=function(){},m=!0,y={toString:""};for(var v in y)y.hasOwnProperty(v)&&(m=!1);var b=m?["toString","valueOf"]:null;function _(e,t,n){for(var r,o,a=function(e){var t=c(e);if(m)for(var n,r=0;n=b[r++];)e.hasOwnProperty(n)&&t.push(n);return t}(n),s=0,u=a.length;s<u;)"__self"!==(r=a[s++])&&(o=n[r],!d(o)||o.prototype&&o.prototype.__self||i&&!(o.toString().indexOf(".__base")>-1)?t[r]=o:t[r]=function(n,r){var o=e[n]?e[n]:"__constructor"===n?t.__self.__parent:h,i=function(){var e=this.__base;this.__base=i.__base;var t=r.apply(this,arguments);return this.__base=e,t};return i.__base=o,i}(r,o))}function g(e,t){for(var n,r=1;n=e[r++];)t?d(n)?O.self(t,n.prototype,n):O.self(t,n):t=d(n)?O(e[0],n.prototype,n):O(e[0],n);return t||e[0]}function O(){var e=arguments,t=f(e[0]),n=t||d(e[0]),r=n?t?g(e[0]):e[0]:a,o=e[n?1:0]||{},i=e[n?2:1],s=o.__constructor||n&&r.prototype&&r.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:n?function(){return r.apply(this,arguments)}:function(){};if(!n)return s.prototype=o,s.prototype.__self=s.prototype.constructor=s,l(s,i);l(s,r),s.__parent=r;var c=r.prototype,p=s.prototype=u(c);return p.__self=p.constructor=s,o&&_(c,p,o),i&&_(r,s,i),s}O.self=function(){var e=arguments,t=f(e[0])?g(e[0],e[0][0]):e[0],n=e[1],r=e[2],o=t.prototype;return n&&_(o,o,n),r&&_(t,t,r),t};e.exports=O,"object"==typeof modules&&"function"==typeof modules.define&&modules.define("inherit",function(e){e(O)}),void 0===(r=function(e,t,n){n.exports=O}.call(t,n,t,e))||(e.exports=r),!1&&(o.inherit=O)}(this)},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t,n){var a={};function l(){var e=this,i=e.cls;if(e.decls&&(e.decls.forEach(function(a){var s=a.fields,u=a.staticFields,c=i||(e.base?e.base:t),l={},p={};[].concat(c,u).forEach(function(e){e&&(e.propTypes&&r(l,e.propTypes),e.defaultProps&&r(p,e.defaultProps))}),u=r({},u,{propTypes:l,defaultProps:p}),i?o.default.self(c,s,u):i=e.cls=(0,o.default)(c,s,r({displayName:n.stringify(s.block,s.elem)},u))}),e.decls=null),i&&e.modDecls){var a=i.prototype,s=r({},i.propTypes),l=r({},i.defaultProps);e.modDecls.forEach(function(e){var t=e.predicate,n=e.fields,p=e.staticFields,f=function(e){if("function"==typeof e)return e;var t=Object.keys(e);if(1===t.length){var n=t[0],r=e[n];return"function"==typeof r?r:"*"===(r=c(r))?function(e){return!!c(e[n])}:function(e){return e[n]===r}}return function(n){var r=this;return t.every(function(t){var o=e[t];return"function"==typeof o?o.call(r,n):"*"===o?!!c(n[t]):c(o)===c(n[t])})}}(t),d=function(e){if("function"==typeof e)return;var t=Object.keys(e);if(1===t.length){var n=t[0];return function(e){var t;return r({},this.__base.apply(this,arguments),((t={})[n]=e[n],t))}}return function(e){return r({},this.__base.apply(this,arguments),t.reduce(function(t,n){return t[n]=e[n],t},{}))}}(t);for(var h in d&&o.default.self(i,{mods:u(d,f,a.mods)}),n){var m=n[h];"function"==typeof m&&(n[h]=u(m,f,a[h]))}p&&(p.propTypes&&r(s,p.propTypes),p.defaultProps&&r(l,p.defaultProps)),o.default.self(i,n,p)}),r(i,{propTypes:s,defaultProps:l}),e.modDecls=null}return i&&e.declWrappers&&(e.wrappedCls=e.declWrappers.reduce(function(e,t){return t(e)},i),e.declWrappers=null),e.wrappedCls||i}function f(e){return a[e]||(a[e]={cls:null,base:null,decls:null,modDecls:null,applyDecls:l})}return t.prototype.__render=(0,i.default)(n),{decl:function(e,t,r,o){"function"==typeof e||Array.isArray(e)||(o=r,r=t,t=e,e=void 0),"function"==typeof r&&(o=r,r=void 0),p(s(t));var i=n.stringify(t.block,t.elem),a=f(i);if(e){if(a.base)throw new Error('BEM-entity "'+i+'" has multiple ancestors');a.base=e}return a.decls=a.decls||[],a.decls.push({fields:t,staticFields:r}),o&&(a.declWrappers||(a.declWrappers=[])).push(o),a},declMod:function(e,t,r){p(s(t));var o=f(n.stringify(t.block,t.elem));return o.modDecls=o.modDecls||[],o.modDecls.push({predicate:e,fields:t,staticFields:r}),o}}};var o=a(n(122)),i=a(n(145));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return function e(t,n){if(Array.isArray(n))n.forEach(function(n){return e(t,n)});else if(t.hasOwnProperty(n)){var r=t[n];"function"!=typeof r&&(t[n]=function(){return r})}return t}(e,["tag","attrs","content","mods","mix","cls"])}function u(e,t,n){return function(){var r=void 0;return t.call(this,this.props)?r=e:n&&n!==e&&(r=this.__base),r&&r.apply(this,arguments)}}function c(e){return"number"==typeof e?e.toString():e}var l={willMount:"componentWillMount",didMount:"componentDidMount",willReceiveProps:"componentWillReceiveProps",shouldUpdate:"shouldComponentUpdate",willUpdate:"componentWillUpdate",didUpdate:"componentDidUpdate",willUnmount:"componentWillUnmount"};function p(e){for(var t in l)e[t]&&(e[l[t]]=e[t],delete e[t]);return e}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(n(122));t.default=(0,o.default)(r.Component,{__constructor:function(){this.__base.apply(this,arguments),this.willInit(this.props)},addBemClassName:!0,willInit:function(){},tag:function(){return"div"},attrs:function(){return null},mods:function(){return null},cls:function(e){return e.cls},mix:function(e){return e.mix},render:function(){var e=this.props,t=this.__render(this.addBemClassName,this.tag(e),this.attrs(e),this.block,this.elem,this.mods(e),[e.mix,this.mix(e)],this.cls(e),this.content(e,e.children));return this.wrap?this.wrap(t):t},content:function(e,t){return t}})},function(e,t,n){"use strict";t.__esModule=!0;var r=n(269);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.b_=(0,r.B)(t)}return e.prototype.stringify=function(e,t,n,r,o){var i=this;return this.b_(e,t,n)+(r?" "+r.map(function(t){return t?i.b_(t.block||e,t.elem,t.mods):""}).join(" "):"")+(o?" "+o:"")},e.prototype.joinMixes=function(e,t){if(Array.isArray(e)&&(t=e[1],e=e[0]),e||t){var n=[];return e&&(n=[].concat(n,e)),t&&(n=[].concat(n,t)),n}},e}();t.default=o},function(e,t,n){!function(t,n){"use strict";e.exports=function(){function e(t){if(!(this instanceof e))return n(t);t=t||{},this.tailSpace=t.tailSpace||"",this.elementSeparator=t.elementSeparator||"__",this.modSeparator=t.modSeparator||"_",this.modValueSeparator=t.modValueSeparator||"_",this.classSeparator=t.classSeparator||" ",this.isFullModifier=void 0===t.isFullModifier||t.isFullModifier,this.isFullBoolValue=void 0!==t.isFullBoolValue&&t.isFullBoolValue}function t(e,t,n){return this.bind.apply(this,[null].concat(Array.prototype.slice.call(arguments)))}function n(n){var r=new e(n),o=r.stringify.bind(r);return o.with=o.lock=t,o}e.prototype={_stringifyModifier:function(e,t,n){var r="";return void 0===n?r:this.isFullBoolValue||!1!==n?(r+=this.classSeparator+e+this.modSeparator+t,(this.isFullBoolValue||!0!==n)&&(r+=this.modValueSeparator+String(n)),r):r},_stringifyModifiers:function(e,t){var n="";for(var r in this.isFullModifier||(e=""),t)t.hasOwnProperty(r)&&(n+=this._stringifyModifier(e,r,t[r]));return n},stringify:function(e,t,n){var r=String(e);return t&&"object"==typeof t&&void 0===n&&(n=t,t=null),t&&(r+=this.elementSeparator+String(t)),n&&(r+=this._stringifyModifiers(r,n)),r+this.tailSpace}};var r=n();return r.B=e,r}()}()},function(e,t,n){"use strict";t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){var t=(0,o.default)(e);return function(e){var n=e.addBemClassName,o=void 0===n||n,i=e.block,a=e.elem,s=e.mods,u=e.tag,c=void 0===u?"div":u,l=e.mix,p=e.attrs,f=e.cls,d=e.children,h=void 0===i?"undefined":r(i);return"object"===h?i=i.block:"function"===h&&(i=i.prototype.block),t(o,c,p,i,a,s,l,f,d)}};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(145))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),o=n(7);t.default=(0,o.declMod)({type:"check"},{block:"button2",onClick:function(e){this.__base.apply(this,arguments),this.setState({checked:!this.state.checked})}},{propTypes:{checked:r.default.bool,type:r.default.string}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),o=n(7);t.default=(0,o.declMod)({type:"radio"},{block:"button2",onClick:function(e){this.__base.apply(this,arguments),this.setState({checked:!0})}},{propTypes:{type:r.default.string}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7);t.default=(0,o.declMod)({type:"submit"},{block:"button2",attrs:function(){return r({},this.__base.apply(this,arguments),{type:"submit"})}})},function(e,t,n){"use strict";var r=n(275);e.exports=function(e){return r(e.delims&&e.delims.elem&&e.delims.mod,"@bem/sdk.naming.entity.stringify: convention should be an instance of BemNamingEntityConvention"),function(t){return function(e,t){if(!e||!e.block)return"";var n=e.block;e.elem&&(n+=t.elem+e.elem);var r=e.mod,o=("string"==typeof r?r:r&&r.name)||!e.__isBemEntityName__&&e.modName;if(o){var i=r&&r.hasOwnProperty("val")||e.hasOwnProperty("modVal"),a=r&&r.val||!e.__isBemEntityName__&&e.modVal;!a&&0!==a&&i||(n+=t.mod.name+o),a&&!0!==a&&(n+=t.mod.val+a)}return n}(t,e.delims)}}},function(e,t,n){var r=n(276),o=Array.prototype.slice,i=Object.prototype.hasOwnProperty,a=e.exports=l;function s(e,t){return r.isUndefined(t)?""+t:!r.isNumber(t)||!isNaN(t)&&isFinite(t)?r.isFunction(t)||r.isRegExp(t)?t.toString():t:t.toString()}function u(e,t){return r.isString(e)?e.length<t?e:e.slice(0,t):e}function c(e,t,n,r,o){throw new a.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:o})}function l(e,t){e||c(e,!0,t,"==",a.ok)}function p(e,t){if(e===t)return!0;if(r.isBuffer(e)&&r.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return r.isDate(e)&&r.isDate(t)?e.getTime()===t.getTime():r.isRegExp(e)&&r.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:r.isObject(e)||r.isObject(t)?function(e,t){if(r.isNullOrUndefined(e)||r.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(f(e))return!!f(t)&&(e=o.call(e),t=o.call(t),p(e,t));try{var n,i,a=m(e),s=m(t)}catch(e){return!1}if(a.length!=s.length)return!1;for(a.sort(),s.sort(),i=a.length-1;i>=0;i--)if(a[i]!=s[i])return!1;for(i=a.length-1;i>=0;i--)if(n=a[i],!p(e[n],t[n]))return!1;return!0}(e,t):e==t}function f(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function d(e,t){return!(!e||!t)&&("[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t||!0===t.call({},e))}function h(e,t,n,o){var i;r.isString(n)&&(o=n,n=null);try{t()}catch(e){i=e}if(o=(n&&n.name?" ("+n.name+").":".")+(o?" "+o:"."),e&&!i&&c(i,n,"Missing expected exception"+o),!e&&d(i,n)&&c(i,n,"Got unwanted exception"+o),e&&i&&n&&!d(i,n)||!e&&i)throw i}a.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return u(JSON.stringify(e.actual,s),128)+" "+e.operator+" "+u(JSON.stringify(e.expected,s),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||c;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,o=t.name,i=r.indexOf("\n"+o);if(i>=0){var a=r.indexOf("\n",i+1);r=r.substring(a+1)}this.stack=r}}},r.inherits(a.AssertionError,Error),a.fail=c,a.ok=l,a.equal=function(e,t,n){e!=t&&c(e,t,n,"==",a.equal)},a.notEqual=function(e,t,n){e==t&&c(e,t,n,"!=",a.notEqual)},a.deepEqual=function(e,t,n){p(e,t)||c(e,t,n,"deepEqual",a.deepEqual)},a.notDeepEqual=function(e,t,n){p(e,t)&&c(e,t,n,"notDeepEqual",a.notDeepEqual)},a.strictEqual=function(e,t,n){e!==t&&c(e,t,n,"===",a.strictEqual)},a.notStrictEqual=function(e,t,n){e===t&&c(e,t,n,"!==",a.notStrictEqual)},a.throws=function(e,t,n){h.apply(this,[!0].concat(o.call(arguments)))},a.doesNotThrow=function(e,t){h.apply(this,[!1].concat(o.call(arguments)))},a.ifError=function(e){if(e)throw e};var m=Object.keys||function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t}},function(e,t,n){(function(e,r){var o=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(o,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),u=r[n];n<i;u=r[++n])m(u)||!g(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(n,o){if(b(e.process))return function(){return t.deprecate(n,o).apply(this,arguments)};if(!0===r.noDeprecation)return n;var i=!1;return function(){if(!i){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),i=!0}return n.apply(this,arguments)}};var i,a={};function s(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,e,r.depth)}function u(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function c(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&E(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return v(o)||(o=l(e,o,r)),o}var i=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(y(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(i)return i;var a=Object.keys(n),s=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),w(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(n);if(0===a.length){if(E(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(_(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(O(n))return e.stylize(Date.prototype.toString.call(n),"date");if(w(n))return p(n)}var c,g="",k=!1,C=["{","}"];(d(n)&&(k=!0,C=["[","]"]),E(n))&&(g=" [Function"+(n.name?": "+n.name:"")+"]");return _(n)&&(g=" "+RegExp.prototype.toString.call(n)),O(n)&&(g=" "+Date.prototype.toUTCString.call(n)),w(n)&&(g=" "+p(n)),0!==a.length||k&&0!=n.length?r<0?_(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=k?function(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)T(t,String(a))?i.push(f(e,t,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(f(e,t,n,r,o,!0))}),i}(e,n,r,s,a):a.map(function(t){return f(e,n,r,s,t,k)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,g,C)):C[0]+g+C[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,o,i){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),T(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(u.value)<0?(s=m(n)?l(e,u.value,null):l(e,u.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),b(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function m(e){return null===e}function y(e){return"number"==typeof e}function v(e){return"string"==typeof e}function b(e){return void 0===e}function _(e){return g(e)&&"[object RegExp]"===k(e)}function g(e){return"object"==typeof e&&null!==e}function O(e){return g(e)&&"[object Date]"===k(e)}function w(e){return g(e)&&("[object Error]"===k(e)||e instanceof Error)}function E(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(b(i)&&(i=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(i)){var n=r.pid;a[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else a[e]=function(){};return a[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=h,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=y,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=b,t.isRegExp=_,t.isObject=g,t.isDate=O,t.isError=w,t.isFunction=E,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(278);var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),x[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=n(279),t._extend=function(e,t){if(!t||!g(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,n(64),n(277))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,p=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):p=-1,c.length&&d())}function d(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++p<t;)u&&u[p].run();p=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";e.exports={origin:n(281),react:n(282),"two-dashes":n(283)}},function(e,t,n){"use strict";e.exports={delims:{elem:"__",mod:{name:"_",val:"_"}},fs:{pattern:"${layer}.blocks/${entity}.${tech}",scheme:"nested"},wordPattern:"[a-zA-Z0-9]+(?:-[a-zA-Z0-9]+)*"}},function(e,t,n){"use strict";e.exports={delims:{elem:"-",mod:{name:"_",val:"_"}},fs:{delims:{elem:""},pattern:"${layer?${layer}.}blocks/${entity}.${tech}",scheme:"nested"},wordPattern:"[a-zA-Z0-9]+"}},function(e,t,n){"use strict";e.exports={delims:{elem:"__",mod:{name:"--",val:"_"}},fs:{pattern:"${layer}.blocks/${entity}.${tech}",scheme:"nested"},wordPattern:"[a-zA-Z0-9]+(?:-[a-zA-Z0-9]+)*"}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=h(o),a=h(n(1)),s=n(7),u=h(n(17)),c=h((n(33).default||n(33)).applyDecls()),l=h((n(46),(n(23).default||n(23)).applyDecls())),p=h((n(148).default||n(148)).applyDecls()),f=h((n(150).default||n(150)).applyDecls()),d=h((n(151).default||n(151)).applyDecls());function h(e){return e&&e.__esModule?e:{default:e}}var m=[c.default.LEFT,c.default.RIGHT,c.default.UP,c.default.DOWN];t.default=(0,s.decl)(l.default,{block:"tumbler",tag:"span",willInit:function(){this.__base.apply(this,arguments),this.onChange=this.onChange.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onClick=this.onClick.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this._getLabel=this._getLabel.bind(this),this._defineLabelAction=this._defineLabelAction.bind(this)},attrs:function(e){var t=e.disabled,n=e.attrs,o=e.title;return r({},this.__base.apply(this,arguments),n,{title:o,onMouseMove:t?"":this.onMouseMove})},_getControlAttrs:function(){return{}},mods:function(e){var t=e.view,n=e.theme,o=e.size,i=e.checked;return r({},this.__base.apply(this,arguments),{view:t,theme:n,size:o,checked:this.__self.bool2string(i)})},getChildContext:function(){return{getLabel:this._getLabel,defineLabelAction:this._defineLabelAction}},content:function(e){var t=this,n=e.id,o=void 0===n?this.generateId():n,a=e.view,s=e.name,c=e.checked,l=e.disabled,h=e.tabIndex,m=e.controlAttrs,y=e.onVal,v=e.offVal,b=e.children,_=l?void 0:this.onChange,g=this._setLabels(b),O=g.leftLabel,w=g.rightLabel;return[O&&i.default.createElement(d.default,{key:"leftLabel",side:"left",checked:c,onChange:_,id:"left"+o,text:O.props.text||O.props.children}),i.default.createElement(p.default,r({key:"box"},{view:a,id:o,onChange:_,ref:function(e){return t._box=u.default.findDOMNode(e)},checked:c,disabled:l,tabIndex:h,buttonRef:function(e){return t._button=u.default.findDOMNode(e)}})),i.default.createElement(f.default,r({key:"input"},{id:o,name:s,onVal:y,offVal:v,checked:c,disabled:l,onChange:_,attrs:m})),w&&i.default.createElement(d.default,{key:"rightLabel",side:"right",checked:c,onChange:_,id:"right"+o,text:w.props.text||w.props.children})]},onChange:function(e){this.props.onChange&&this.props.onChange(e)},onClick:function(e){e.target===this.DOMNode&&this.inputElement.click()},onKeyUp:function(e){e.which===c.default.SPACE&&this.setState({pressed:!1}),this.props.onKeyUp&&this.props.onKeyUp(e)},onKeyDown:function(e){e.which===c.default.SPACE&&this.setState({pressed:!0}),-1!==m.indexOf(e.which)&&e.preventDefault(),this.props.checked?c.default.is(e.which,"LEFT","DOWN")&&this.onChange(e):c.default.is(e.which,"RIGHT","UP")&&this.onChange(e),this.props.onKeyDown&&this.props.onKeyDown(e)},onMouseMove:function(e){"classic"===this.props.view?e.target!==this._button&&this._box.contains(e.target)?this.setState({hovered:!0}):this.setState({hovered:!1}):this.setState({hovered:!0})},_setLabels:function(e){if(2===o.Children.count(e))return{leftLabel:e[0],rightLabel:e[1]};if(o.Children.count(e)){var t=e.props.side;return"left"!==t&&t?{rightLabel:e}:{leftLabel:e}}return{}},_getLabel:function(e){var t=this.props,n=t.checked,r=t.children;if(2===o.Children.count(r))return n?"left"+e:"right"+e;if(o.Children.count(r)){var i=r.props.side;return"left"!==i&&i?"right"+e:"left"+e}},_defineLabelAction:function(e,t){var n=this.props,r=n.checked,i=n.children;return 2===o.Children.count(i)&&(t=r&&"left"!==e||!r&&"right"!==e?void 0:t),t}},{Option:d.default,On:d.default,Off:d.default,propTypes:{view:a.default.string,tone:a.default.oneOf(["default","red","grey","dark"]),size:a.default.oneOf(["xs","s","m","n"]),theme:a.default.oneOf(["normal","tiny"]),children:a.default.oneOfType([a.default.element,a.default.array])},defaultProps:{view:"classic"},childContextTypes:{getLabel:a.default.func,defineLabelAction:a.default.func}})},function(e,t,n){"use strict";e.exports={tumbler:{off:"",on:""}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZINDEX_GROUP_LEVEL=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=l(n(0)),i=n(17),a=n(7),s=l(a),u=l((n(51),(n(66).default||n(66)).applyDecls())),c=n(51);function l(e){return e&&e.__esModule?e:{default:e}}var p=t.ZINDEX_GROUP_LEVEL=20;t.default=(0,a.decl)(u.default,{block:"modal",willInit:function(e){var t=e.zIndexGroupLevel;this.__base.apply(this,arguments),this._zIndexGroupLevel=t||p},mix:function(e){var t=e.visible,n=e.autoclosable,r=e.direction,o=[].concat(this.__base.apply(this,arguments)||[]);return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o),[{block:"popup2",mods:{autoclosable:this.__self.bool2string(n),visible:this.__self.bool2string(t),direction:r}}])},mods:function(e){var t=e.autoclosable,n=e.theme,o=e.visible,i=this.__base.apply(this,arguments);return r({},i,{autoclosable:this.__self.bool2string(t),visible:this.__self.bool2string(o),theme:n})},redraw:function(e){return this.__base(r({},e,{children:this.content(e)}))},content:function(e){var t=this,n=e.children,r=e.verticalAlign;return o.default.createElement(s.default,{block:"modal",elem:"table"},o.default.createElement(s.default,{block:"modal",elem:"cell",attrs:{style:{verticalAlign:r}}},o.default.createElement(s.default,{block:"modal",elem:"content",attrs:{ref:function(e){return t._contentElement=(0,i.findDOMNode)(e)}}},n)))}},{defaultProps:{target:"position",position:{left:0,top:0},theme:"normal",directions:c.AVAILABLE_DIRECTIONS,mainOffset:0,secondaryOffset:0,viewportOffset:0,zIndexGroupLevel:0,onOutsideClick:function(){}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7);t.default=(0,o.declMod)({theme:"normal"},{block:"modal",mods:function(){return r({},this.__base.apply(this,arguments),{"has-animation":"yes"})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7);t.default=(0,o.declMod)({type:"option"},{block:"menu",elem:"item",attrs:function(){return r({},this.__base.apply(this,arguments),{role:"option"})},mods:function(e){var t=e.checked;return r({},this.__base.apply(this,arguments),{checked:this.__self.bool2string(t)})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7);t.default=(0,o.declMod)({type:"check"},{block:"menu",willInit:function(e){var t=e.val;this.__base.apply(this,arguments),this.state.val=this._prepareVal(t),this.onClick=this.onClick.bind(this)},attrs:function(e){var t=e.tabIndex,n=void 0===t?0:t;return r({},this.__base.apply(this,arguments),{"aria-multiselectable":"true",role:"listbox",tabIndex:n})},onClick:function(e,t){if(null!==t){var n=this.state.val,r=n.indexOf(t);-1===r?n.push(t):n.splice(r,1),this.setState({val:n})}this.props.onClick&&this.props.onClick(e,t)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7);t.default=(0,o.declMod)({type:"radiocheck"},{block:"menu",willInit:function(e){var t=e.val;this.__base.apply(this,arguments),this.state.val=void 0===t?[]:[Array.isArray(t)?t[0]:t],this.onClick=this.onClick.bind(this)},attrs:function(e){var t=e.tabIndex,n=void 0===t?0:t;return r({},this.__base.apply(this,arguments),{role:"listbox",tabIndex:n})},onClick:function(e,t){null!==t&&this.setState({val:t===this.state.val[0]?[]:[t]}),this.props.onClick&&this.props.onClick(e,t)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7);t.default=(0,o.declMod)({type:"radio"},{block:"menu",willInit:function(e){var t=e.val;this.__base.apply(this,arguments),this.state.val=void 0===t?[]:[Array.isArray(t)?t[0]:t],this.onClick=this.onClick.bind(this)},attrs:function(e){var t=e.tabIndex,n=void 0===t?0:t;return r({},this.__base.apply(this,arguments),{role:"listbox",tabIndex:n})},onClick:function(e,t){null!==t&&this.setState({val:[t]}),this.props.onClick&&this.props.onClick(e,t)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=f(n(0)),i=f(n(1)),a=n(7),s=f(a),u=f((n(51),n(66),n(125),n(164),(n(47).default||n(47)).applyDecls())),c=f((n(166).default||n(166)).applyDecls()),l=f((n(167).default||n(167)).applyDecls()),p=f((n(168).default||n(168)).applyDecls());function f(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.decl)({block:"tooltip",willInit:function(){this.__base.apply(this,arguments),this.state.hovered=!1,this.onMouseOver=this.onMouseOver.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this)},mods:function(e){var t=e.size,n=e.theme,o=e.view,i=e.tone,a=e.autoclosable;return r({},this.__base.apply(this,arguments),{size:t,view:o,tone:i,theme:n,autoclosable:a,hovered:this.__self.bool2string(this.state.hovered)})},render:function(){var e=this.block,t=this.props,n=t.anchor,r=t.autoclosable,i=t.visible,a=t.view,c=t.tone,l=t.theme,p=t.children,f=t.secondaryOffset,d=t.tailOffset,h=t.scope,m=t.tail,y=t.cls,v=t.onOutsideClick,b=t.zIndexGroupLevel,_=void 0===this.props.mainOffset?this.props.offset:this.props.mainOffset,g=[].concat(this.props.to).map(function(e){return e.indexOf("-")<0&&(e+="-center"),e});return o.default.createElement(u.default,{view:a,tone:c,mix:[].concat({block:e,mods:this.mods(this.props)},this.mix(this.props)||[]),cls:y,onMouseOver:this.onMouseOver,onMouseLeave:this.state.hovered?this.onMouseLeave:void 0,theme:"normal",target:"anchor",hasTail:m,onOutsideClick:v,visible:i,mainOffset:_,secondaryOffset:"promo"===l?-30:f,tailOffset:"promo"===l?30:d,directions:g,autoclosable:r,anchor:n,scope:h,zIndexGroupLevel:b},o.default.createElement(s.default,{block:"tooltip",elem:"content"},p))},onMouseOver:function(e){this.setState({hovered:!0}),this.props.onMouseOver&&this.props.onMouseOver(e)},onMouseLeave:function(e){this.setState({hovered:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e)}},{Corner:c.default,Description:l.default,Buttons:p.default,propTypes:{anchor:i.default.oneOfType([i.default.func,i.default.object]),autoclosable:i.default.bool,visible:i.default.bool,view:i.default.oneOf(["classic","default"]),tone:i.default.string,to:i.default.oneOfType([i.default.array,i.default.string]),offset:i.default.number,mainOffset:i.default.number,secondaryOffset:i.default.number,tailOffset:i.default.number,size:i.default.oneOf(["xs","s","m","l","n"]),theme:i.default.oneOf(["normal","error","success","white","promo"]),tail:i.default.bool,zIndexGroupLevel:i.default.number,onMouseOver:i.default.func,onMouseLeave:i.default.func,onOutsideClick:i.default.func,cls:i.default.string},defaultProps:{to:["right-center","bottom-center","top-center","left-center"],tail:!0,view:"classic"}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=u(n(1)),a=n(7),s=u((n(170).default||n(170)).applyDecls());function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.decl)({block:"radiobox",tag:"span",willInit:function(){this.__base.apply(this,arguments),this.onChange=this.onChange.bind(this)},attrs:function(e){var t=e.attrs;return r({},t)},mods:function(e){return{theme:e.theme,size:e.size,view:e.view,tone:e.tone}},content:function(e){var t=this,n=e.disabled,r=e.value,i=e.name,a=e.children;return o.Children.map(a,function(e,a){return"function"==typeof e.type?(0,o.cloneElement)(e,{name:i,key:a,mainValue:r,mainDisabled:n,onChange:n?void 0:t.onChange}):e})},onChange:function(e){this.props.onChange&&this.props.onChange(e)}},{Radio:s.default,propTypes:{theme:i.default.string,size:i.default.string,view:i.default.oneOf(["classic","default"]),tone:i.default.string,disabled:i.default.bool,value:i.default.oneOfType([i.default.string,i.default.number])},defaultProps:{view:"classic"}})},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){var r=n(178);e.exports=function(){return r.Date.now()}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(64))},function(e,t,n){var r=n(126),o=n(305),i=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return i;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=u.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):s.test(e)?i:+e}},function(e,t,n){var r=n(306),o=n(309),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||o(e)&&r(e)==i}},function(e,t,n){var r=n(179),o=n(307),i=n(308),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:u&&u in Object(e)?o(e):i(e)}},function(e,t,n){var r=n(179),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){var r;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(o,i,a,s){"use strict";var u,c=["","webkit","Moz","MS","ms","o"],l=i.createElement("div"),p="function",f=Math.round,d=Math.abs,h=Date.now;function m(e,t,n){return setTimeout(w(e,n),t)}function y(e,t,n){return!!Array.isArray(e)&&(v(e,n[t],n),!0)}function v(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function b(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,n),e.apply(this,arguments)}}u="function"!=typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}:Object.assign;var _=b(function(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;)(!n||n&&e[r[o]]===s)&&(e[r[o]]=t[r[o]]),o++;return e},"extend","Use `assign`."),g=b(function(e,t){return _(e,t,!0)},"merge","Use `assign`.");function O(e,t,n){var r,o=t.prototype;(r=e.prototype=Object.create(o)).constructor=e,r._super=o,n&&u(r,n)}function w(e,t){return function(){return e.apply(t,arguments)}}function E(e,t){return typeof e==p?e.apply(t&&t[0]||s,t):e}function k(e,t){return e===s?t:e}function C(e,t,n){v(P(t),function(t){e.addEventListener(t,n,!1)})}function x(e,t,n){v(P(t),function(t){e.removeEventListener(t,n,!1)})}function T(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function S(e,t){return e.indexOf(t)>-1}function P(e){return e.trim().split(/\s+/g)}function j(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function I(e){return Array.prototype.slice.call(e,0)}function R(e,t,n){for(var r=[],o=[],i=0;i<e.length;){var a=t?e[i][t]:e[i];j(o,a)<0&&r.push(e[i]),o[i]=a,i++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function M(e,t){for(var n,r,o=t[0].toUpperCase()+t.slice(1),i=0;i<c.length;){if((r=(n=c[i])?n+o:t)in e)return r;i++}return s}var D=1;function A(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||o}var L="ontouchstart"in o,N=M(o,"PointerEvent")!==s,z=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),U=25,V=1,B=2,F=4,H=8,W=1,G=2,q=4,K=8,Y=16,X=G|q,Z=K|Y,$=X|Z,J=["x","y"],Q=["clientX","clientY"];function ee(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){E(e.options.enable,[e])&&n.handler(t)},this.init()}function te(e,t,n){var r=n.pointers.length,o=n.changedPointers.length,i=t&V&&r-o==0,a=t&(F|H)&&r-o==0;n.isFirst=!!i,n.isFinal=!!a,i&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,o=r.length;n.firstInput||(n.firstInput=ne(t));o>1&&!n.firstMultiple?n.firstMultiple=ne(t):1===o&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,u=a?a.center:i.center,c=t.center=re(r);t.timeStamp=h(),t.deltaTime=t.timeStamp-i.timeStamp,t.angle=se(u,c),t.distance=ae(u,c),function(e,t){var n=t.center,r=e.offsetDelta||{},o=e.prevDelta||{},i=e.prevInput||{};t.eventType!==V&&i.eventType!==F||(o=e.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=o.x+(n.x-r.x),t.deltaY=o.y+(n.y-r.y)}(n,t),t.offsetDirection=ie(t.deltaX,t.deltaY);var l=oe(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=l.x,t.overallVelocityY=l.y,t.overallVelocity=d(l.x)>d(l.y)?l.x:l.y,t.scale=a?function(e,t){return ae(t[0],t[1],Q)/ae(e[0],e[1],Q)}(a.pointers,r):1,t.rotation=a?function(e,t){return se(t[1],t[0],Q)+se(e[1],e[0],Q)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,o,i,a=e.lastInterval||t,u=t.timeStamp-a.timeStamp;if(t.eventType!=H&&(u>U||a.velocity===s)){var c=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,p=oe(u,c,l);r=p.x,o=p.y,n=d(p.x)>d(p.y)?p.x:p.y,i=ie(c,l),e.lastInterval=t}else n=a.velocity,r=a.velocityX,o=a.velocityY,i=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=o,t.direction=i}(n,t);var p=e.element;T(t.srcEvent.target,p)&&(p=t.srcEvent.target);t.target=p}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function ne(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:f(e.pointers[n].clientX),clientY:f(e.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:t,center:re(t),deltaX:e.deltaX,deltaY:e.deltaY}}function re(e){var t=e.length;if(1===t)return{x:f(e[0].clientX),y:f(e[0].clientY)};for(var n=0,r=0,o=0;o<t;)n+=e[o].clientX,r+=e[o].clientY,o++;return{x:f(n/t),y:f(r/t)}}function oe(e,t,n){return{x:t/e||0,y:n/e||0}}function ie(e,t){return e===t?W:d(e)>=d(t)?e<0?G:q:t<0?K:Y}function ae(e,t,n){n||(n=J);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.sqrt(r*r+o*o)}function se(e,t,n){n||(n=J);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return 180*Math.atan2(o,r)/Math.PI}ee.prototype={handler:function(){},init:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(A(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(A(this.element),this.evWin,this.domHandler)}};var ue={mousedown:V,mousemove:B,mouseup:F},ce="mousedown",le="mousemove mouseup";function pe(){this.evEl=ce,this.evWin=le,this.pressed=!1,ee.apply(this,arguments)}O(pe,ee,{handler:function(e){var t=ue[e.type];t&V&&0===e.button&&(this.pressed=!0),t&B&&1!==e.which&&(t=F),this.pressed&&(t&F&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var fe={pointerdown:V,pointermove:B,pointerup:F,pointercancel:H,pointerout:H},de={2:"touch",3:"pen",4:"mouse",5:"kinect"},he="pointerdown",me="pointermove pointerup pointercancel";function ye(){this.evEl=he,this.evWin=me,ee.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(he="MSPointerDown",me="MSPointerMove MSPointerUp MSPointerCancel"),O(ye,ee,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),o=fe[r],i=de[e.pointerType]||e.pointerType,a="touch"==i,s=j(t,e.pointerId,"pointerId");o&V&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):o&(F|H)&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,o,{pointers:t,changedPointers:[e],pointerType:i,srcEvent:e}),n&&t.splice(s,1))}});var ve={touchstart:V,touchmove:B,touchend:F,touchcancel:H},be="touchstart",_e="touchstart touchmove touchend touchcancel";function ge(){this.evTarget=be,this.evWin=_e,this.started=!1,ee.apply(this,arguments)}O(ge,ee,{handler:function(e){var t=ve[e.type];if(t===V&&(this.started=!0),this.started){var n=function(e,t){var n=I(e.touches),r=I(e.changedTouches);t&(F|H)&&(n=R(n.concat(r),"identifier",!0));return[n,r]}.call(this,e,t);t&(F|H)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var Oe={touchstart:V,touchmove:B,touchend:F,touchcancel:H},we="touchstart touchmove touchend touchcancel";function Ee(){this.evTarget=we,this.targetIds={},ee.apply(this,arguments)}O(Ee,ee,{handler:function(e){var t=Oe[e.type],n=function(e,t){var n=I(e.touches),r=this.targetIds;if(t&(V|B)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,i,a=I(e.changedTouches),s=[],u=this.target;if(i=n.filter(function(e){return T(e.target,u)}),t===V)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;o=0;for(;o<a.length;)r[a[o].identifier]&&s.push(a[o]),t&(F|H)&&delete r[a[o].identifier],o++;if(!s.length)return;return[R(i.concat(s),"identifier",!0),s]}.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});var ke=2500,Ce=25;function xe(){ee.apply(this,arguments);var e=w(this.handler,this);this.touch=new Ee(this.manager,e),this.mouse=new pe(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Te(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)},ke)}}O(xe,ee,{handler:function(e,t,n){var r="touch"==n.pointerType,o="mouse"==n.pointerType;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)(function(e,t){e&V?(this.primaryTouch=t.changedPointers[0].identifier,Te.call(this,t)):e&(F|H)&&Te.call(this,t)}).call(this,t,n);else if(o&&function(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(t-o.x),a=Math.abs(n-o.y);if(i<=Ce&&a<=Ce)return!0}return!1}.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Se=M(l.style,"touchAction"),Pe=Se!==s,je="auto",Ie="manipulation",Re="none",Me="pan-x",De="pan-y",Ae=function(){if(!Pe)return!1;var e={},t=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||o.CSS.supports("touch-action",n)}),e}();function Le(e,t){this.manager=e,this.set(t)}Le.prototype={set:function(e){"compute"==e&&(e=this.compute()),Pe&&this.manager.element.style&&Ae[e]&&(this.manager.element.style[Se]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return v(this.manager.recognizers,function(t){E(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(S(e,Re))return Re;var t=S(e,Me),n=S(e,De);if(t&&n)return Re;if(t||n)return t?Me:De;if(S(e,Ie))return Ie;return je}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,o=S(r,Re)&&!Ae[Re],i=S(r,De)&&!Ae[De],a=S(r,Me)&&!Ae[Me];if(o){var s=1===e.pointers.length,u=e.distance<2,c=e.deltaTime<250;if(s&&u&&c)return}if(!a||!i)return o||i&&n&X||a&&n&Z?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Ne=1,ze=2,Ue=4,Ve=8,Be=Ve,Fe=16;function He(e){this.options=u({},this.defaults,e||{}),this.id=D++,this.manager=null,this.options.enable=k(this.options.enable,!0),this.state=Ne,this.simultaneous={},this.requireFail=[]}function We(e){return e&Fe?"cancel":e&Ve?"end":e&Ue?"move":e&ze?"start":""}function Ge(e){return e==Y?"down":e==K?"up":e==G?"left":e==q?"right":""}function qe(e,t){var n=t.manager;return n?n.get(e):e}function Ke(){He.apply(this,arguments)}function Ye(){Ke.apply(this,arguments),this.pX=null,this.pY=null}function Xe(){Ke.apply(this,arguments)}function Ze(){He.apply(this,arguments),this._timer=null,this._input=null}function $e(){Ke.apply(this,arguments)}function Je(){Ke.apply(this,arguments)}function Qe(){He.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function et(e,t){return(t=t||{}).recognizers=k(t.recognizers,et.defaults.preset),new tt(e,t)}He.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(y(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=qe(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return y(e,"dropRecognizeWith",this)?this:(e=qe(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(y(e,"requireFailure",this))return this;var t=this.requireFail;return-1===j(t,e=qe(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(y(e,"dropRequireFailure",this))return this;e=qe(e,this);var t=j(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<Ve&&r(t.options.event+We(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=Ve&&r(t.options.event+We(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|Ne)))return!1;e++}return!0},recognize:function(e){var t=u({},e);if(!E(this.options.enable,[this,t]))return this.reset(),void(this.state=32);this.state&(Be|Fe|32)&&(this.state=Ne),this.state=this.process(t),this.state&(ze|Ue|Ve|Fe)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},O(Ke,He,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(ze|Ue),o=this.attrTest(e);return r&&(n&H||!o)?t|Fe:r||o?n&F?t|Ve:t&ze?t|Ue:ze:32}}),O(Ye,Ke,{defaults:{event:"pan",threshold:10,pointers:1,direction:$},getTouchAction:function(){var e=this.options.direction,t=[];return e&X&&t.push(De),e&Z&&t.push(Me),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,o=e.direction,i=e.deltaX,a=e.deltaY;return o&t.direction||(t.direction&X?(o=0===i?W:i<0?G:q,n=i!=this.pX,r=Math.abs(e.deltaX)):(o=0===a?W:a<0?K:Y,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=o,n&&r>t.threshold&&o&t.direction},attrTest:function(e){return Ke.prototype.attrTest.call(this,e)&&(this.state&ze||!(this.state&ze)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Ge(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),O(Xe,Ke,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Re]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&ze)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),O(Ze,He,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[je]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(F|H)&&!o)this.reset();else if(e.eventType&V)this.reset(),this._timer=m(function(){this.state=Be,this.tryEmit()},t.time,this);else if(e.eventType&F)return Be;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===Be&&(e&&e.eventType&F?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),O($e,Ke,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Re]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&ze)}}),O(Je,Ke,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:X|Z,pointers:1},getTouchAction:function(){return Ye.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(X|Z)?t=e.overallVelocity:n&X?t=e.overallVelocityX:n&Z&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&d(t)>this.options.velocity&&e.eventType&F},emit:function(e){var t=Ge(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),O(Qe,He,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ie]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),e.eventType&V&&0===this.count)return this.failTimeout();if(r&&o&&n){if(e.eventType!=F)return this.failTimeout();var i=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||ae(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&i?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=m(function(){this.state=Be,this.tryEmit()},t.interval,this),ze):Be}return 32},failTimeout:function(){return this._timer=m(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Be&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),et.VERSION="2.0.7",et.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[$e,{enable:!1}],[Xe,{enable:!1},["rotate"]],[Je,{direction:X}],[Ye,{direction:X},["swipe"]],[Qe],[Qe,{event:"doubletap",taps:2},["tap"]],[Ze]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function tt(e,t){this.options=u({},et.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){var t=e.options.inputClass;return new(t||(N?ye:z?Ee:L?xe:pe))(e,te)}(this),this.touchAction=new Le(this,this.options.touchAction),nt(this,!0),v(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function nt(e,t){var n,r=e.element;r.style&&(v(e.options.cssProps,function(o,i){n=M(r.style,i),t?(e.oldCssProps[n]=r.style[n],r.style[n]=o):r.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}tt.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,o=t.curRecognizer;(!o||o&&o.state&Be)&&(o=t.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],2===t.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(e),!o&&n.state&(ze|Ue|Ve)&&(o=t.curRecognizer=n),i++}},get:function(e){if(e instanceof He)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(y(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(y(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=j(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return v(P(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==s){var n=this.handlers;return v(P(e),function(e){t?n[e]&&n[e].splice(j(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=i.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&nt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(et,{INPUT_START:V,INPUT_MOVE:B,INPUT_END:F,INPUT_CANCEL:H,STATE_POSSIBLE:Ne,STATE_BEGAN:ze,STATE_CHANGED:Ue,STATE_ENDED:Ve,STATE_RECOGNIZED:Be,STATE_CANCELLED:Fe,STATE_FAILED:32,DIRECTION_NONE:W,DIRECTION_LEFT:G,DIRECTION_RIGHT:q,DIRECTION_UP:K,DIRECTION_DOWN:Y,DIRECTION_HORIZONTAL:X,DIRECTION_VERTICAL:Z,DIRECTION_ALL:$,Manager:tt,Input:ee,TouchAction:Le,TouchInput:Ee,MouseInput:pe,PointerEventInput:ye,TouchMouseInput:xe,SingleTouchInput:ge,Recognizer:He,AttrRecognizer:Ke,Tap:Qe,Pan:Ye,Swipe:Je,Pinch:Xe,Rotate:$e,Press:Ze,on:C,off:x,each:v,merge:g,extend:_,assign:u,inherit:O,bindFn:w,prefixed:M}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=et,(r=function(){return et}.call(t,n,t,e))===s||(e.exports=r)}(window,document)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=f(n(0)),i=f(n(1)),a=f(n(17)),s=n(7),u=f((n(46),(n(23).default||n(23)).applyDecls())),c=f((n(183).default||n(183)).applyDecls()),l=f((n(184).default||n(184)).applyDecls()),p=f((n(185).default||n(185)).applyDecls());function f(e){return e&&e.__esModule?e:{default:e}}t.default=(0,s.decl)(u.default,{block:"textarea",tag:"span",willInit:function(){this.__base.apply(this,arguments),this._onChange=this._onChange.bind(this)},attrs:function(e){var t=e.style,n=e.controlAttrs,o=e.attrs,i=this.__base.apply(this,arguments);return n&&Object.keys(n).forEach(function(e){return delete i[e]}),r({},i,o,{style:t})},mods:function(e){e.type;var t=e.theme,n=e.size;e.pin,e.iconLeft,e.iconRight;return r({},this.__base.apply(this,arguments),{theme:t,size:n})},content:function(e){var t=this,n=this.state.disabled;return[o.default.createElement(c.default,{key:"wrap"},o.default.createElement(l.default,r({id:e.id,name:e.name,value:e.text||"",tabIndex:e.tabIndex,cols:e.cols,rows:e.rows,disabled:n,ref:function(e){return t._control=a.default.findDOMNode(e)},placeholder:e.placeholder,autoComplete:!1===e.autocomplete?"off":void 0,onChange:n?void 0:this._onChange},e.controlAttrs))),o.default.createElement(p.default,{key:"box"})]},_onChange:function(e){this.props.onChange&&this.props.onChange(e.target.value,this.props)}},{propTypes:{theme:i.default.string.isRequired,size:i.default.oneOf(["xs","s","m"]),id:i.default.string,name:i.default.string,tabIndex:i.default.string,text:i.default.string,placeholder:i.default.string,autocomplete:i.default.bool,onChange:i.default.func},defaultProps:{cols:10,rows:10}})},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=(n(355),n(15)),a=n(2),s=n.n(a),u=function(){return s()()("awaps")};t.default=function(e){var t=e.type,n=e.src,r=e.link,a=e.bnCounts,s=[];return"banner"===t&&s.push(o.a.createElement(i.a,{key:"link",cls:u().e("banner"),url:r,target:"_blank",theme:"normal",style:{backgroundImage:'url("'+n+'")'}})),(a||[]).forEach(function(e,t){s.push(o.a.createElement("img",{key:"pixel-"+t,className:u().e("pixel"),src:e}))}),s.length?o.a.createElement("span",null,s):null}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),o=s(n(1)),i=n(7),a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.decl)({block:"user-pic",content:function(e){var t=e.host,n=e.avatarId,o=e.children;if(o)return o;var i=this.getAvatarURL(t,n),s=i.lodpiUrl,u=i.hidpiUrl;return[r.default.createElement(a.default,{key:"lodpi",block:"user-pic",elem:"image",mods:{lodpi:"yes"},attrs:{style:{backgroundImage:"url("+s+")"}}}),r.default.createElement(a.default,{key:"hidpi",block:"user-pic",elem:"image",mods:{hidpi:"yes"},attrs:{style:{backgroundImage:"url("+u+")"}}})]},getAvatarURL:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://avatars.mds.yandex.net",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0/0-0";return{lodpiUrl:e+"/get-yapic/"+t+"/islands-middle",hidpiUrl:e+"/get-yapic/"+t+"/islands-retina-middle"}}},{propTypes:{provider:o.default.oneOf(["yandex-team"]),host:o.default.string,avatarId:o.default.string}})},function(e,t,n){"use strict";e.exports={ticker__text:{notifications:""}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(1)),i=n(7),a=s((n(123),n(79),(n(80).default||n(80)).applyDecls()));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.decl)(a.default,{block:"user2",elem:"menu-item",mix:function(e){e.action;return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.__base.apply(this,arguments)||[]),[{block:"menu",elem:"item",mods:{type:"link",hovered:this.__self.bool2string(this.state.hovered)}}])},attrs:function(e){var t=e.onClick;return r({},this.__base.apply(this,arguments),{onClick:t,href:this.url,tabIndex:"0"})}},{propTypes:{action:o.default.string,type:o.default.string,isNavigation:o.default.bool},defaultProps:{isNavigation:!0,type:"link"}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7),i=s((n(29).default||n(29)).applyDecls()),a=s(n(28)().decl(n(37))("user2"));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.declMod)({action:"disk"},{block:"user2",elem:"menu-item",attrs:function(e){var t=e.contentRegion;return r({},this.__base.apply(this,arguments),{href:i.default.serviceUrl("disk",t)+"?source=main-loginmenu"})},content:function(){return(0,a.default)("upload_files")}})},function(e,t,n){"use strict";e.exports={"i-services":{404:"404",adresa:"",advertising:"",afisha:"",all:"",api:"API",appmetrica:"AppMetrica",appsearch:"",audience:"",auto:"",autoru:".",avia:"",aziada:"",ba:"",backapv:" .",balance:"",bar:"","bar-ie":"","bar-ie9":"9",bayan:" ",blogs:"",books:"",browser:"",calendar:"",captcha:"...",catalogwdgt:" ",chrome:"   ",city:"",cityday:" ",clickhouse:"ClickHouse",collection:"",company:"",contest:"Contest",delivery:"",desktop:" ",direct:"","direct.market":"",disk:"",display:"",ege:"",expert:"",feedback:" ",feedback2:" ",ff:"  ",fotki:"",fresh:"",games:"",geocontext:"",goroda:"",help:"",i:"",ie:"  ",images:"","images-com":"",interests:"",internet:"",kassa:"",keyboard:"",kraski:"",kuda:"",large:"  ",legal:" ",lenta:"",libra:"",literacy:"   ",local:"",lost:"",love:"13",mail:"",maps:"","maps-wiki":" ",market:"","market.advertising":"",master:"",metrika:"",metro:"",mobile:"",moikrug:"",money:"",museums:"",music:"","music-partner":": ",nahodki:"",nano:"",newhire:"",news:"",notifications:" ",oauth:"",online:"",openid:"OpenID",opera:"Opera Software",opinion:"",partners:"",partnersearch:"  ",passport:"",pdd:"  ",peoplesearch:"",perevod:"",probki:"",pulse:": ",punto:"Puntoswitcher",pvo:"",rabota:"",radar:"",ramazan:"",rasp:"",realty:"",referats:"",rk:"?",root:".  Unix ",school:"",search:"",server:"",shtrafi:"",site:"",slovari:"",so:"",social:"",soft:"",sport:"",sprav:"",start:" ",stat:"",subs:"",taxi:"",telephony:"",terms:"",tests:"  ",tickets:"",time:".",toloka:".",toster:"",translate:"",tune:"",tv:"",uslugi:"",video:"","video-com":"",vno:"",wdgt:"",weather:"",webmaster:"","webmaster-api":"API ",widgets:"",wordstat:"",wow:".",www:"",xmlsearch:"XML",yaca:"",yamb:" ",zakladki:""}}},function(e,t){e.exports=function(e){var t=isNaN(parseInt(e.count))?0:e.count,n=t%10,r=t%100;return 0===t?e.none:1==n&&11!=r?e.one:n>1&&n<5&&(r<10||r>20)?e.some:e.many}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7),i=function(e){return e&&e.__esModule?e:{default:e}}(n(28)().decl(n(37))("user2"));t.default=(0,o.declMod)({action:"edit-accounts"},{block:"user2",elem:"menu-item",attrs:function(e){var t=e.passportHost,n=e.retpathEncoded;return r({},this.__base.apply(this,arguments),{href:t+"/auth?mode=edit&retpath="+n})},content:function(){return(0,i.default)("edit-accounts")}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7),i=function(e){return e&&e.__esModule?e:{default:e}}(n(28)().decl(n(37))("user2"));t.default=(0,o.declMod)({action:"exit"},{block:"user2",elem:"menu-item",willInit:function(){this.__base.apply(this,arguments),this._processClick=this._processClick.bind(this)},attrs:function(e){var t=e.exitUrl;e.onClick;return r({},this.__base.apply(this,arguments),{onClick:this._processClick,href:t})},content:function(){return(0,i.default)("exit")},_processClick:function(e){this.props.onClick&&this.props.onClick(e),this.props.onLogout&&this.props.onLogout(e)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7),i=s((n(29).default||n(29)).applyDecls()),a=s(n(28)().decl(n(37))("user2"));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.declMod)({action:"mail-compose"},{block:"user2",elem:"menu-item",attrs:function(e){e.contentRegion;return r({},this.__base.apply(this,arguments),{href:i.default.serviceUrl("mail")+"/compose"})},content:function(){return(0,a.default)("mail_compose")}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7),i=function(e){return e&&e.__esModule?e:{default:e}}((n(29).default||n(29)).applyDecls());t.default=(0,o.declMod)({action:"mail"},{block:"user2",elem:"menu-item",content:function(e){var t=e.contentRegion;return i.default.serviceName("mail",t)},attrs:function(e){var t=e.contentRegion;return r({},this.__base.apply(this,arguments),{href:i.default.serviceUrl("mail",t)})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7),i=function(e){return e&&e.__esModule?e:{default:e}}(n(28)().decl(n(37))("user2"));t.default=(0,o.declMod)({action:"passport"},{block:"user2",elem:"menu-item",attrs:function(e){var t=e.passportHost;return r({},this.__base.apply(this,arguments),{href:t})},content:function(){return(0,i.default)("passport")}})},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(11),a=n(9),s=(n(382),n(15)),u=n(55),c=n(2),l=n.n(c),p=n(8),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var d=function(e,t){return Object(p.f)("smart banner",e?"open":"install",t)},h=function(){return l()()("banner")},m=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onLinkClick=i._onLinkClick.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),f(t,[{key:"componentDidMount",value:function(){d(this._useDeepLink(),"show")}},{key:"_useDeepLink",value:function(){return this.props.isSupportedAndroid&&!["/mail/","/public/nda/"].includes(this.props.pathname)}},{key:"_onLinkClick",value:function(){var e=this._useDeepLink();d(e,"click");var t=void 0;e?t="https://redirect.appmetrica.yandex.com/serve/385561687492737009?public_link="+encodeURIComponent(location.href):t="https://appmetrica.yandex.ru/serve/"+("Android"===this.props.OSFamily?"11718107456729729427":"1168735115035726045")+"?action=click&app_id=ru.yandex.disk&site_id=touch&creative_id=gradient";window.open(t,"_blank")}},{key:"render",value:function(){if(!["iOS","Android"].includes(this.props.OSFamily))return null;var e=this._useDeepLink(),t=e?o.a.createElement(i.a,{keyset:"view-public",loc:"ufo_open_in_app"}):o.a.createElement(i.a,{keyset:"view-public",loc:"ufo_install_app"});return o.a.createElement(s.a,{cls:h().m(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e?"open":"install",!0)),theme:"notheme",onClick:this._onLinkClick},o.a.createElement(u.a,{cls:h().e("icon")}),t)}}]),t}();t.default=Object(a.b)(function(e){var t=e.ua;return{OSFamily:t.OSFamily,isSupportedAndroid:t.isSupportedAndroid,pathname:e.url.pathname}})(m)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(9),o=n(0),i=n.n(o),a=n(1),s=n.n(a),u=n(91),c=n(32),l=(n(384),n(2)),p=n.n(l),f=function(e){var t=e.visible;return e.enabled?i.a.createElement("div",{className:p()()("mobile-bottom-direct").m({visible:t})},i.a.createElement(u.default,{position:"bottom"})):null};f.propTypes={enabled:s.a.bool,visible:s.a.bool},t.default=Object(r.b)(function(e){return{enabled:Object(c.a)(e),visible:Object(c.b)(e)}})(f)},function(e,t,n){},function(e,t,n){(function(e){!function(){var t=t||{};t.tanker=t.tanker||{},t.tanker.dynamic={gender:function(e){return function(e){return e[e.gender]}(e)},plural:function(e){return function(e){var t=isNaN(parseInt(e.count))?0:e.count,n=t%10,r=t%100;return 1==n&&11!=r?e.one:n>1&&n<5&&(r<10||r>20)?e.some:e.many}(e)},plural_adv:function(e){return function(e){return 0===(isNaN(parseInt(e.count))?0:e.count)?e.none:t.tanker.dynamic.plural({count:e.count,one:e.one,some:e.some,many:e.many})}(e)},toggle:function(e){return function(e){return Boolean(e.condition)?e.true:e.false}(e)}},t.yandex_disk_web=t.yandex_disk_web||{},t.yandex_disk_web.actions={ufo_cancel:function(e){return""},ufo_close:function(e){return""},ufo_download:function(e){return""},ufo_download_all:function(e){return" "},ufo_enter:function(e){return""},ufo_open:function(e){return""},ufo_open_with:function(e){return"  "},ufo_open_yadisk_after_save:function(e){return"  ."},ufo_resource_view:function(e){return""},ufo_save_and_download_yadisk:function(e){return"    ."},ufo_save_yadisk:function(e){return"  ."},ufo_send_file_mail_body:function(e){return"    "+e.name+""},ufo_send_file_mail_subject:function(e){return"   "+e.name+"  ."},ufo_send_folder_mail_body:function(e){return"    "+e.name+""},ufo_send_folder_mail_subject:function(e){return"   "+e.name+"  ."},ufo_share_link:function(e){return" "},ufo_view_and_download_from_disk:function(e){return"    ."}},t.yandex_disk_web.comments={"ufo-comments_comment-deleted":function(e){return" "},"ufo-comments_error_comment-add":function(e){return"  .  .\n"},"ufo-comments_error_comment-add-forbidden":function(e){return"  .  ."},"ufo-comments_error_comment-add-not-found-file":function(e){return"  .  ."},"ufo-comments_error_reply-add":function(e){return"  .  . "},"ufo-comments_error_reply-add-forbidden":function(e){return"  .  ."},"ufo-comments_error_reply-add-not-found-comment":function(e){return"  .  ."},"ufo-comments_n-replies":function(e){return e.count+" "+t.tanker.dynamic.plural({count:" "+e.count+" ",one:"",some:"",many:""})},"ufo-comments_reply":function(e){return""},"ufo-comments_reply-deleted":function(e){return" "},"ufo-comments_restore":function(e){return""},"ufo-comments_title":function(e){return""},"ufo-comments_view-more-comments":function(e){return"  "},"ufo-comments_write-comment":function(e){return" "}},t.yandex_disk_web.entities={info_about_file:function(e){return"  "},info_about_folder:function(e){return"  "},ufo_copy_link:function(e){return" "},ufo_copy_link_failed:function(e){return"  "},ufo_copy_link_success:function(e){return" "},ufo_copyright:function(e){return" 2012<x-current-copyright-year/> <x-portal-link/>"},ufo_disk:function(e){return""},ufo_downloads:function(e){return""},ufo_error:function(e){return""},"ufo_format_date-month-time":function(e){return"D mmmm HH:mm"},"ufo_format_date-month-year":function(e){return"DD.MM.YYYY"},"ufo_format_date-month-year-time":function(e){return"DD.MM.YYYY HH:mm"},"ufo_format_hour-minute":function(e){return"H:mm"},"ufo_format_yesterday-time":function(e){return" "+e.time},"ufo_just-now":function(e){return" "},"ufo_n_hours-ago":function(e){return t.tanker.dynamic.toggle({condition:e.isOne,true:"",false:e.n})+"\n"+t.tanker.dynamic.plural({count:"\n        "+e.n+"\n    ",one:"",some:"",many:""})+"\n"},"ufo_n_minutes-ago":function(e){return t.tanker.dynamic.toggle({condition:e.isOne,true:"",false:e.n})+"\n"+t.tanker.dynamic.plural({count:"\n        "+e.n+"\n    ",one:"",some:"",many:""})+"\n"},ufo_n_times:function(e){return e.count+" "+t.tanker.dynamic.plural({count:" "+e.count+" ",one:"",some:"",many:""})},ufo_number_separator:function(e){return","},ufo_owner:function(e){return""},ufo_service_afisha:function(e){return""},ufo_service_all:function(e){return" "},ufo_service_browser:function(e){return""},ufo_service_calendar:function(e){return""},ufo_service_direct:function(e){return""},ufo_service_images:function(e){return""},ufo_service_mail:function(e){return""},ufo_service_maps:function(e){return""},ufo_service_market:function(e){return""},ufo_service_metrika:function(e){return""},ufo_service_money:function(e){return""},ufo_service_music:function(e){return""},ufo_service_news:function(e){return""},ufo_service_pogoda:function(e){return""},ufo_service_search:function(e){return""},ufo_service_tv:function(e){return""},ufo_yadisk:function(e){return"."},ufo_yadisk_for_mobile:function(e){return".  :"},ufo_yandex:function(e){return""}},t.yandex_disk_web["entity-resource"]={ufo_folder__property_mtime:function(e){return""},ufo_resource__full_size:function(e){return" "},ufo_resource__name:function(e){return""},ufo_resource__property_download_file:function(e){return""},ufo_resource__property_download_folder:function(e){return""},ufo_resource__property_mtime:function(e){return""},ufo_resource__property_size:function(e){return""},ufo_resource__virused:function(e){return"     "}},t.yandex_disk_web.lists={months_genitive:function(e){return"|||||||||||"},months_nominative:function(e){return"|||||||||||"},sizes:function(e){return"||||"}},t.yandex_disk_web["public-error-pages"]={ufo_blocked__caption:function(e){return" "},ufo_blocked__description:function(e){return"    ,\n"},ufo_error_server:function(e){return"  ,\n"},ufo_not_found__caption:function(e){return"  "},ufo_not_found__description:function(e){return"       \n   ."}},t.yandex_disk_web["view-aside-public"]={ufo_aside_public_blocked_about:function(e){return""},ufo_aside_public_buy_tariff:function(e){return" <x-tariff-size/>  <x-tariff-price/>  "},ufo_aside_public_save_async:function(e){return" .     ."},ufo_aside_public_save_failed:function(e){return"<x-resource-name/>\n    ."},ufo_aside_public_save_failed_nospace_2:function(e){return"    "},ufo_aside_public_saved:function(e){return"<x-resource-name/>\n  <x-downloads/>"},ufo_aside_public_warning_download_blocked:function(e){return"  "},ufo_cant_download:function(e){return"   .  ."},ufo_drweb_ok:function(e){return"  "},ufo_warning_download_blocked:function(e){return"  ,      ."}},t.yandex_disk_web["view-aside"]={ufo_aside__files_count:function(e){return" "},ufo_aside__install_disk_for:function(e){return"   "+e.platform},ufo_aside__install_disk_for_tooltip:function(e){return"       .\n    .  "+e.platform+"."}},t.yandex_disk_web["view-confirmation"]={ufo_conf_download_virused_file:function(e){return"     .     ?"},ufo_conf_virused_file_title:function(e){return" "}},t.yandex_disk_web["view-direct"]={ufo_remove_ads:function(e){return" "}},t.yandex_disk_web["view-footer"]={ufo_footer__link_abuse:function(e){return""},ufo_footer__link_help:function(e){return""}},t.yandex_disk_web["view-notification"]={ufo_notification_play_file_failed:function(e){return"   "}},t.yandex_disk_web["view-public"]={ufo_goto:function(e){return""},ufo_install_app:function(e){return" "},ufo_open_in_app:function(e){return"  "},ufo_open_in_browser:function(e){return"  "},ufo_save_error:function(e){return"  "},ufo_save_success:function(e){return"  "},ufo_saving_progress:function(e){return"   ..."},ufo_views:function(e){return""}},t.yandex_disk_web["view-toolset"]={ufo_toolset_icons_touch:function(e){return""},ufo_toolset_list_touch:function(e){return""},ufo_toolset_tiles_touch:function(e){return" "}},e&&e.exports?e.exports=t:(window.i18n=window.i18n||{},window.i18n.ru=t)}()}).call(this,n(386)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){!function(){"use strict";var e,t=[];function n(){var n=Ya.Rum.getSetting("clck"),r=t.join("\r\n");if((t=[],e=null,n)&&!(navigator.sendBeacon&&Ya.Rum.getSetting("beacon")&&navigator.sendBeacon(n,r))){var o=new XMLHttpRequest;o.open("POST",n),o.send(r)}}Ya.Rum.send=function(r,o,i,a,s,u,c){clearTimeout(e);var l=function(e,t,n,r,o,i){var a=Ya.Rum.getSetting("slots");return[i?"/"+i.join("/"):"","/path="+t,a?"/slots="+a.join(";"):"",n?"/vars="+n:"","/cts="+(new Date).getTime(),"/*"]}(0,o,i,0,0,c);t.push("/reqid="+Ya.Rum.getSetting("reqid")+l.join("")),t.length<42?e=setTimeout(n,15):n()}}()},function(e,t){!function(){"use strict";var e=Ya.Rum;if(!e)throw new Error("Rum: interface is not included");!function(){if(!e.enabled){var t=function(){};return e.getSetting=function(){return""},e.getVarsList=function(){return[]},e.getResourceTimings=t,e.pushConnectionTypeTo=t,e.pushTimingTo=t,e.normalize=t,e.sendCounter=t,e.sendDelta=t,e.sendTimeMark=t,e.sendResTiming=t,e.sendTTI=t,e.makeSubPage=t,e.sendFirstPaint=t,void(e.sendHeroElement=t)}e.getSetting=function(t){return e._settings[t]||""},e.getVarsList=function(){var t=e._vars;return Object.keys(t).map(function(e){return e+"="+t[e]})};var n="690.1033",r="690.2096.207",o="690.2096.2877",i="690.2096.2044",a="690.2096.2748",s="690.2096.2335.1822",u=10,c=3e3,l=2e4,p={connectEnd:2116,connectStart:2114,decodedBodySize:2886,domComplete:2124,domContentLoadedEventEnd:2131,domContentLoadedEventStart:2123,domInteractive:2770,domLoading:2769,domainLookupEnd:2113,domainLookupStart:2112,duration:2136,encodedBodySize:2887,entryType:2888,fetchStart:2111,initiatorType:2889,loadEventEnd:2126,loadEventStart:2125,nextHopProtocol:2890,redirectCount:1385,redirectEnd:2110,redirectStart:2109,requestStart:2117,responseEnd:2120,responseStart:2119,secureConnectionStart:2115,startTime:2322,transferSize:2323,type:76,unloadEventEnd:2128,unloadEventStart:2127,workerStart:2137},f={visible:1,hidden:2,prerender:3},d={bluetooth:2064,cellular:2065,ethernet:2066,none:1229,wifi:2067,wimax:2068,other:861,unknown:836,0:836,1:2066,2:2067,3:2070,4:2071,5:2768},h={"first-paint":2793,"first-contentful-paint":2794},m=e.getTime,y=window.performance||{},v=y.timing||{},b=y.navigation||{},_=navigator.connection,g={},O=e._deltaMarks,w=document.createElement("link"),E="function"==typeof y.getEntriesByType,k=v.navigationStart,C=v.responseStart-k,x=v.domainLookupStart-k,T=e.getVarsList().concat("1042="+encodeURIComponent(navigator.userAgent)),S=T.concat(["143.2129="+k,"143.2112="+x,"143.2119="+C]);if(e.ajaxStart=0,e.ajaxComplete=0,window.PerformanceObserver)try{new PerformanceObserver(function(e,t){var n=e.getEntriesByType("navigation")[0];if(n){t.disconnect();var r=[];B(r,n),z(r),H("690.2096.2892",T.concat(r))}}).observe({entryTypes:["navigation"]})}catch(e){}function P(){removeEventListener("DOMContentLoaded",P),removeEventListener("load",P),k&&setTimeout(function(){e.sendTimeMark=I,e.sendResTiming=A,e.timeEnd=M;for(var t=e._defRes;t.length;){var n=t.shift();A(n[0],n[1])}for(var r=e._defTimes;r.length;){var o=r.shift();I(o[0],o[1],!1,o[2])}Object.keys(O).forEach(D),j(),function(){if(!E||e.isVisibilityChanged())return;for(var t=y.getEntriesByType("paint"),n=0;n<t.length;n++){var r=t[n],o=h[r.name];o&&I("1926."+o,r.startTime)}}(),function(){var e=document.createElement("script");e.src="https://yastatic.net/nearest.js",e.async=!0,e.crossOrigin="",e.onload=function(){var e=window.YaStaticRegion;e&&H(s,T.concat("1822="+e))},document.head.appendChild(e)}(),N(),E&&("complete"===document.readyState?L():addEventListener("load",L))},0)}function j(){var t=v.domContentLoadedEventStart,r=v.domContentLoadedEventEnd;if(0!==t||0!==r){var o=function(){if(e.isVisibilityChanged())return;if(window.chrome&&"function"==typeof window.chrome.loadTimes)return 1e3*window.chrome.loadTimes().firstPaintTime;if(v.msFirstPaint)return v.msFirstPaint}(),i=T.concat(["2129="+k,"1036="+(v.domainLookupStart-k),"1037="+(v.domainLookupEnd-v.domainLookupStart),"1038="+(v.connectEnd-v.connectStart),v.secureConnectionStart&&"1383="+(v.connectEnd-v.secureConnectionStart),"1039="+(v.responseStart-v.connectEnd),"1040="+(v.responseEnd-v.responseStart),"1040.906="+(v.responseEnd-v.domainLookupStart),"1310.2084="+(v.domLoading-v.responseStart),"1310.2085="+(v.domInteractive-v.responseStart),"1310.1309="+(r-t),"1310.1007="+(t-v.responseStart),"2299="+history.length]);e.mark("1039 ttfb",v.responseStart-v.connectEnd),e.mark("1310.1007 dom.loaded",v.domContentLoadedEventStart-v.responseStart),o&&(i.push("2130="+(o-k),"1041="+(o-v.responseStart),"1041.906="+(o-v.domainLookupStart)),e.mark("1041.906 ttfp",o-v.domainLookupStart)),Object.keys(p).forEach(function(e){e in v&&v[e]&&i.push(p[e]+"="+F(v[e],k))}),e.vsStart&&(i.push("1484="+(f[e.vsStart]||2771)),e.vsChanged&&i.push("1484.719=1")),b&&(b.redirectCount&&i.push("1384.1385="+b.redirectCount),1!==b.type&&2!==b.type||i.push("770.76="+b.type)),z(i),H(n,i,["dtype=stred","pid=1","cid=72202"])}else setTimeout(j,50)}function I(t,n,o,i){void 0===n&&(n=m()),void 0!==o&&!0!==o||e.mark(t,n);var a=V(t);a.push("207="+F(n)),R(a,i)&&(H(r,a),g[t]=g[t]||[],g[t].push(n))}function R(e,t){if(t){if(t.isCanceled&&t.isCanceled())return!1;Object.keys(t).forEach(function(n){"function"!=typeof t[n]&&e.push(n+"="+t[n])})}return!0}function M(e){var t=O[e];t&&0!==t.length&&(t.push(m()),D(e))}function D(t,n,r){var i,a,s=O[t];if(void 0!==n){var u=e.getTime();i=u-n,a=u}else s&&(i=s[0],a=s[1]);if(void 0!==i&&void 0!==a){var c=V(t);c.push("207.2154="+F(i),"207.1428="+F(a),"2877="+F(a-i)),R(c,r)&&(H(o,c),delete O[t])}}function A(e,t){U(t,function(t){if(t){var n=V(e);B(n,t[0]),H(i,n)}})}function L(){if(removeEventListener("load",L),E){var e=y.getEntriesByType("resource").reduce(function(e,t){var n,r=t.name.match(/^https?:\/\/([^\/?#]+)(?:[\/?#]|$)/i);return r&&((n=r[1])in e||(e[n]={count:0,size:0}),e[n].count++,t.transferSize&&(e[n].size+=t.transferSize)),e},{}),t="2748=";Object.keys(e).forEach(function(n){t+=n+"!"+e[n].count+"!"+(e[n].size||"")+";"}),H(a,T.concat(t))}}function N(t,n,r){if(e._tti){var o=m(),i=function(e,t,i){var a={2796.2797:function(e,t){return e=e||[],t=t||0,e.filter(function(e){return e.startTime-t>=-50}).map(function(e){var t=e.name?e.name.split("-").map(function(e){return e[0]}).join(""):"u",n=Math.floor(e.startTime);return t+"-"+n+"-"+Math.floor(n+e.duration)}).join(".")}(i,n),689.2322:F(o)};r&&Object.keys(r).forEach(function(e){a[e]=r[e]}),I(e||"2795",t,!0,a)},a=function(){var r,s=n||o,u=m(),p=e._tti.events||[],f=p.length;0!==f&&(r=p[f-1],s=Math.max(s,Math.floor(r.startTime+r.duration))),u-s>=c?i(t,s,p):u-s>=l?i(t,(n||o)+l,p):setTimeout(a,1e3)};a()}}function z(e){_&&e.push("2437="+(d[_.type]||2771),_.downlinkMax&&"2439="+_.downlinkMax,_.effectiveType&&"2870="+_.effectiveType)}function U(e,t){if(!E)return t(null);w.href=e;var n=w.href,r=0,o=100;setTimeout(function e(){var i=y.getEntriesByName(n);if(i.length)return t(i);r++<u?(setTimeout(e,o),o+=o):t(null)},0)}function V(t){return S.concat(["1701="+t,e.ajaxStart&&"1201.2154="+F(e.ajaxStart),e.ajaxComplete&&"1201.2052="+F(e.ajaxComplete)])}function B(e,t){Object.keys(p).forEach(function(n){if(n in t){var r=t[n];(r||0===r)&&e.push(p[n]+"="+F(r))}})}function F(e,t){return"string"==typeof e?encodeURIComponent(e):Math.round(1e3*(e-(t||0)))/1e3}function H(t,n,r,o){var i=n.filter(Boolean).join(","),a=o?{href:o}:null;e.send(a,t,i,null,null,null,r)}"loading"===document.readyState?(addEventListener("DOMContentLoaded",P),addEventListener("load",P)):P(),e.getTimeMarks=function(){return g},e.sendTTI=N,e.sendFirstPaint=function(e){window.requestAnimationFrame?requestAnimationFrame(function(){I("2130",e)}):I("2130",e)},e.sendHeroElement=function(e){I("2876",e)},e._subpages={},e.makeSubPage=function(t){var n=e._subpages[t];e._subpages[t]=void 0===n?n=0:++n;var r=!1;return{689.2322:F(Ya.Rum.getTime()),2924:t,2925:n,isCanceled:function(){return r},cancel:function(){r=!0}}},e.getResourceTimings=U,e.pushConnectionTypeTo=z,e.pushTimingTo=B,e.normalize=F,e.sendCounter=H,e.sendDelta=D}()}()},function(e,t){Ya.Rum.enabled&&addEventListener("load",function e(){removeEventListener("load",e),Ya.Rum.sendTimeMark("1724");for(var t=document.querySelectorAll("script[data-rCid], div[data-rCid]"),n=0,r=t.length;n<r;n++){var o=t[n],i=o.src;if(!i){var a=getComputedStyle(o).backgroundImage;if(a){var s=a.match(/^url\(["']?(.*?)["']?\)$/);s&&(i=s[1])}}i&&Ya.Rum.sendResTiming(o.getAttribute("data-rCid"),i)}})},function(e,t,n){"use strict";n.r(t);n(218),n(219),n(220),n(231),n(236),n(237),n(240),n(242),n(257),n(259),n(260);var r=n(0),o=n.n(r),i=n(17),a=n.n(i),s=n(9),u=n(393).default,c=n(2),l=n.n(c),p=(n(312),function(e){var t=e.name;return o.a.createElement("div",{className:l()()("file-name")},t)}),f=n(102),d=n.n(f),h=n(1),m=n.n(h),y=function(e){var t=e.name,n=e.cls;return o.a.createElement("div",{className:l()()("resource-name").mix(n)},t)},v=n(54),b=n(14),_=n(103),g=n(10),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g["a"]),O(t,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return o.a.createElement("path",{fill:"currentColor",d:"M4 2h5v20H4V2zm11 0h5v20h-5V2z"})}}]),t}(),E=n(132),k=n.n(E),C=n(52),x={DESKTOP:{start:"mousedown",move:"mousemove",end:"mouseup"},TOUCH:{start:"touchstart",move:"touchmove",end:"touchend"}},T=function(e){var t=e.scope?e.scope:e.scopeSelector?document.querySelector(e.scopeSelector):document,n=e.isTouch?x.TOUCH:x.DESKTOP,r=e.scrollBorder||{width:0,height:0},o=void 0,i=void 0,a=!1,s=function(t){return e.isTouch?{x:t.touches[0].pageX,y:t.touches[0].pageY,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:{x:t.pageX,y:t.pageY,clientX:t.clientX,clientY:t.clientY}},u=function(t){(function(t){if(!e.isTouch&&2===t.button||e.isTouch&&1!==t.touches.length)return!0})(t)||e.startFilter&&e.startFilter(t)||(document.addEventListener(n.move,p,e.isTouch&&{passive:!1}),!e.isTouch&&document.addEventListener("scroll",f),document.addEventListener(n.end,c),o=s(t),e.onBeforeStart&&e.onBeforeStart(o,t),document.body.classList.add("no-user-select"))},c=function t(r,o){document.body.classList.remove("no-user-select"),document.removeEventListener(n.move,p),!e.isTouch&&document.removeEventListener("scroll",f),document.removeEventListener(n.end,t),a&&e.onEnd&&e.onEnd(r,o),a=!1},l=function(t,n){if(!a){if(e.startThreshold){var s=t.x-o.x,u=t.y-o.y;Math.sqrt(s*s+u*u)>e.startThreshold&&(a=!0)}else a=!0;a&&e.onStart&&e.onStart(o)}if(a){if(e.scroll){var c=document.scrollingElement||document.documentElement;if(t.x=Math.min(t.x,c.scrollWidth-r.width),t.y=Math.min(t.y,c.scrollHeight-r.height),t.clientY<0)window.scrollBy(0,t.clientY);else{var l=window.innerHeight-t.clientY;l<0&&window.scrollBy(0,-l)}}e.onMove&&e.onMove(o,t,n)}i=t},p=function(e){e.preventDefault(),l(s(e),e)},f=function(e){var t=Object.assign({},i);t.x=window.window.pageXOffset+t.clientX,t.y=window.window.pageYOffset+t.clientY,l(t,e)};return t.addEventListener(n.start,u),{clearListeners:function(){t.removeEventListener(n.start,u),document.body.classList.remove("no-user-select")},cancel:function(){a&&c({},!0)}}},S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var P=function(){return l()()("audio-player")},j=null,I=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i.state={isPlaying:!1,requestingUrl:!1,isReady:!1,error:!1,hidePlayButton:!1,canPlay:!i.props.detectPlayability,currentTime:0},i._onPlayPauseButtonClick=i._onPlayPauseButtonClick.bind(i),i._onAudioCanPlay=i._onAudioCanPlay.bind(i),i._onAudioTimeUpdate=i._onAudioTimeUpdate.bind(i),i._onAudioEnded=i._onAudioEnded.bind(i),i._onProgressDown=i._onProgressDown.bind(i),i._onProgressMove=i._onProgressMove.bind(i),i._onError=i._onError.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),S(t,[{key:"componentDidMount",value:function(){if(this.props.detectPlayability){var e=Boolean(Object(C.a)(this.props.mimetype));if(this.setState({canPlay:e}),!e)return}this._audioElement=document.createElement("AUDIO"),this._audioElement.className=P().e("audio-element"),document.body.appendChild(this._audioElement),this._audioElement.addEventListener("canplay",this._onAudioCanPlay),this._audioElement.addEventListener("timeupdate",this._onAudioTimeUpdate),this._audioElement.addEventListener("ended",this._onAudioEnded),this._audioElement.addEventListener("error",this._onError),this._documentPointerListener=T({isTouch:this.props.isTouch,scope:this._progress,onBeforeStart:this._onProgressDown,onMove:this._onProgressMove}),this.props.autoplay?this._requestAndPlay():this.props.preloadMeta&&(this._audioElement.preload="metadata",this._updateUrl())}},{key:"componentDidUpdate",value:function(e){this.state.isPlaying||(this.props.autoplay&&!e.autoplay?this._requestAndPlay():this.props.preloadMeta&&!e.preloadMeta&&(this._audioElement.preload="metadata",this._updateUrl()))}},{key:"componentWillUnmount",value:function(){this._audioElement&&(this._pause(),document.body.removeChild(this._audioElement),this._documentPointerListener.clearListeners(),this._audioElement.removeEventListener("canplay",this._onAudioCanPlay),this._audioElement.removeEventListener("timeupdate",this._onAudioTimeUpdate),this._audioElement.removeEventListener("ended",this._onAudioEnded),this._audioElement.removeEventListener("error",this._onError))}},{key:"toggleIsPlaying",value:function(e){void 0===e&&(e=!this.state.isPlaying),this.state.isPlaying!==e&&(this.props.onPlayStateChange({isPlaying:e}),e?this._audioUrl?this._play():this._requestAndPlay():(this._pause(),this._playOnReady=!1))}},{key:"resetCurrentTime",value:function(){this._audioElement.currentTime=0,this.setState({currentTime:0})}},{key:"_setCurrentTimeFromPoint",value:function(e){var t=Math.max(this._progressRect.left,e.clientX);t=Math.min(this._progressRect.right,t);var n=(t-=this._progressRect.left)/this._progressRect.width*this._audioElement.duration;this._audioElement.currentTime=n,this.setState({currentTime:n})}},{key:"_onProgressDown",value:function(e){this._progressRect=this._progress.getBoundingClientRect(),this._setCurrentTimeFromPoint(e)}},{key:"_onProgressMove",value:function(e,t){this._setCurrentTimeFromPoint(t)}},{key:"_onAudioCanPlay",value:function(){this.setState({isReady:!0,requestingUrl:!1}),this._playOnReady&&this.toggleIsPlaying(!0)}},{key:"_onAudioTimeUpdate",value:function(){this.setState({currentTime:this._audioElement.currentTime})}},{key:"_onAudioEnded",value:function(){this.setState({isPlaying:!1}),this.props.onAudioEnded()}},{key:"_onError",value:function(){this.setState({error:!0}),this.props.preloadMeta||(this.setState({isPlaying:!1,canPlay:!1,hidePlayButton:!0}),this.props.onPlayError())}},{key:"_updateUrl",value:function(){var e=this;return this.props.requestAudioUrl().then(function(t){e._audioUrl=t,e._audioElement.src=t})}},{key:"_requestAndPlay",value:function(){var e=this;this.setState({requestingUrl:!0}),this._updateUrl().then(function(){e._audioElement.load(),e._playOnReady=!0})}},{key:"_onPlayPauseButtonClick",value:function(){this.state.hidePlayButton||this.toggleIsPlaying(!this.state.isPlaying)}},{key:"_play",value:function(){if(this.state.error)return this.setState({isPlaying:!1,canPlay:!1,hidePlayButton:!0}),void this.props.onPlayError();this.setState({isPlaying:!0}),j&&j!==this&&j.toggleIsPlaying(!1),j=this,this._audioElement.play()}},{key:"_pause",value:function(){this.setState({isPlaying:!1}),this._audioElement.pause(),j===this&&(j=null)}},{key:"_getTimeLine",value:function(){var e=this,t=this._audioElement&&isFinite(this._audioElement.duration),n=t?this.state.currentTime/this._audioElement.duration*100:0;return o.a.createElement("div",{className:P().e("time-line")},o.a.createElement("div",{className:P().e("time").m({current:!0})},k()(Math.round(this.state.currentTime))),o.a.createElement("div",{className:P().e("progress"),ref:function(t){e._progress=t}},o.a.createElement("div",{className:P().e("progress-percent"),style:{width:n.toFixed(2)+"%"}})),o.a.createElement("div",{className:P().e("time").m({duration:!0})},t&&k()(Math.round(this._audioElement.duration))))}},{key:"render",value:function(){return o.a.createElement("div",{className:P().m({ready:this.state.isReady,play:this.state.isPlaying,preload:this.props.preloadMeta,"hide-play":this.state.hidePlayButton,"detect-playability":this.props.detectPlayability,"can-play":this.state.canPlay,theme:this.props.theme})},o.a.createElement("div",{className:P().e("resource"),onClick:this._onPlayPauseButtonClick},o.a.createElement(v.a,{cls:P().e("resource-icon"),size:"l",mediatype:"audio",shadow:!0}),o.a.createElement(b.a,{view:"default",tone:"dark",theme:"normal",pin:"circle-circle",size:"ufo-xxl",cls:P().e("play-pause-button")},this.state.isPlaying||this.state.requestingUrl?o.a.createElement(w,null):o.a.createElement(_.a,null))),o.a.createElement(y,{name:this.props.resourceName,cls:P().e("resource-name")}),this._getTimeLine())}}]),t}();I.propTypes={autoplay:m.a.bool,theme:m.a.string,resourceName:m.a.string.isRequired,requestAudioUrl:m.a.func.isRequired,isTouch:m.a.bool,preloadMeta:m.a.bool,detectPlayability:m.a.bool,mimetype:m.a.string,onPlayStateChange:m.a.func,onPlayError:m.a.func,onAudioEnded:m.a.func};var R=function(){};I.defaultProps={isTouch:!1,theme:"light",preloadMeta:!1,onPlayStateChange:R,onPlayError:R,onAudioEnded:R};var M=I,D=(n(128),n(50),n(78),n(314),M),A=n(5),L=n(16),N=n(21),z=n(22),U=n(6),V=n(3),B=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var F=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onPlayStateChange=i._onPlayStateChange.bind(i),i._onAudioEnded=i._onAudioEnded.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),B(t,[{key:"componentDidMount",value:function(){this.props.countMetrika("show")}},{key:"componentWillUpdate",value:function(e){!e.isVisible&&this.props.isVisible&&(this._preventUpdateEnvironment=!0,this._audioPlayer.toggleIsPlaying(!1),this._preventUpdateEnvironment=!1)}},{key:"_onPlayStateChange",value:function(e){var t=e.isPlaying;this.props.isVisible&&(t&&this.props.countMetrika("play"),this._preventUpdateEnvironment||this.props.updateEnvironment({autoplayAudio:t}))}},{key:"_onAudioEnded",value:function(){this.props.playNextAudio()}},{key:"render",value:function(){var e=this,t=this.props,n=t.resourceName,r=t.resourceId,i=t.mimetype,a=t.detectPlayability,s=t.theme,u=t.isMobile,c=t.autoplay,l=t.getDownloadUrl,p=t.notify,f=t.isVisible;return o.a.createElement(D,{ref:function(t){e._audioPlayer=t},resourceName:n,requestAudioUrl:function(){return l(r)},theme:s,isTouch:u,onPlayStateChange:this._onPlayStateChange,preloadMeta:f,detectPlayability:a,mimetype:i,onPlayError:function(){return p({mode:V.c.ERROR_TEXT,text:Object(U.i18n)("ru","view-notification","ufo_notification_play_file_failed")})},autoplay:c&&f,onAudioEnded:this._onAudioEnded})}}]),t}();F.defaultProps={isVisible:!0};var H=Object(s.b)(function(e,t){var n=e.resources,r=e.ua.isMobile,o=e.environment.autoplayAudio,i=t.resourceId,a=n[i];return{resourceId:i,resourceName:a&&a.name,mimetype:a&&a.meta.mimetype,isMobile:r,autoplay:o}},{getDownloadUrl:L.b,playNextAudio:N.f,updateEnvironment:A.D,notify:z.c})(F),W=n(15),G=v.a,q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Y=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onImageLoadError=i._onImageLoadError.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),K(t,[{key:"componentDidMount",value:function(){if(this._previewNode)if(this._previewNode.complete&&0===this._previewNode.naturalWidth)this._onImageLoadError();else if("MSIE"===this.props.ua.BrowserName){var e=new Image;e.addEventListener("error",this._onImageLoadError),e.src=this.props.src}}},{key:"_onImageLoadError",value:function(){this.props.updateOneResource(this.props.resource.id,{meta:{previewLoadFailed:!0}})}},{key:"render",value:function(){var e=this,t=this.props.resource.meta,n=t.previewLoadFailed,r=t.mediatype,i=t.ext;if(n)return o.a.createElement(G,{ext:i,mediatype:r,shadow:!0,size:"l"});var a=Object.assign({},this.props);return delete a.resource,delete a.updateOneResource,delete a.resourceId,delete a.ua,o.a.createElement("img",q({},a,{ref:function(t){e._previewNode=t},onError:this._onImageLoadError}))}}]),t}(),X=Object(s.b)(function(e,t){var n=e.resources;return{ua:e.ua,resource:n[t.resourceId]}},{updateOneResource:A.E})(Y),Z=(n(315),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var $=function(){return l()()("document-preview")},J=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onClick=i._onClick.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Z(t,[{key:"_onClick",value:function(){this.props.openDocument(this.props.resource.id)}},{key:"render",value:function(){var e=this.props.resource,t=e.id,n=e.meta,r=n.ext,i=n.mediatype,a=n.defaultPreview,s=e.dvSearch,u=e.virus,c=a&&!u?o.a.createElement(X,{resourceId:t,className:$().m({image:!0}),src:a+"&size=400x400"}):o.a.createElement(G,{cls:$().m({icon:!0}),ext:r,mediatype:i,shadow:!0,size:"l",type:u?"virus":""});return s?o.a.createElement(W.a,{onClick:this._onClick,theme:"normal"},c):c}}]),t}(),Q=Object(s.b)(function(e,t){return{resource:e.resources[t.resourceId]}},{openDocument:A.o})(J),ee=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var te=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g["a"]),ee(t,[{key:"getContentSVG",value:function(){return o.a.createElement("path",{d:"M4.667 7.8l-3.334 3.9V13h13.334v-1.3L10 6.5l-3.296 3.57L4.667 7.8zm.666-1.3c.737 0 1.334-.582 1.334-1.3 0-.718-.597-1.3-1.334-1.3C4.597 3.9 4 4.482 4 5.2c0 .718.597 1.3 1.333 1.3z",fill:"currentColor"})}}]),t}(),ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var oe=function(){return l()()("scalable-preview")},ie=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),re(t,[{key:"_getPreviewSrc",value:function(e){var t=this.props,n=t.previewBaseUrl,r=t.originalUrl,o=t.width,i=t.height;if(!o||!i)return r;var a=window.devicePixelRatio||1,s=o*a,u=i*a;return n+"&"+e.replace("{{width}}",Math.floor(s)).replace("{{height}}",Math.floor(u))}},{key:"_getSizeFormat",value:function(){return this.context.sizeFormat||"size={{width}}x{{height}}"}},{key:"_getPreview",value:function(){var e=this.props,t=e.onLoad,n=e.active,r=e.previewBaseUrl,i=e.nonce,a={onLoad:t,className:oe().e("image")};return"undefined"==typeof window?[o.a.createElement("img",ne({key:"image",src:""},a)),n?o.a.createElement("script",{key:"script",nonce:i,dangerouslySetInnerHTML:{__html:function(e,t){return"\nvar preview = document.querySelector('.scalable-preview_active .scalable-preview__image');\nif (preview) {\n  var drp = window.devicePixelRatio || 1;\n  var width = document.documentElement.clientWidth * drp;\n  var height = document.documentElement.clientHeight * drp;\n  preview.src = '"+e+"&' + '"+t+"'.replace('{{width}}', Math.floor(width)).replace('{{height}}', Math.floor(height));\n}"}(r,this._getSizeFormat())}}):null]:o.a.createElement("img",ne({src:this._getPreviewSrc(this._getSizeFormat())},a))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.withStub,r=e.onClick,i=e.active;return o.a.createElement("div",{className:oe().m({"with-stub":n,active:i}).mix(t),onClick:r},n?o.a.createElement(te,{cls:oe().e("icon")}):null,this._getPreview())}}]),t}();ie.propTypes={previewBaseUrl:m.a.string,width:m.a.number,height:m.a.number,withStub:m.a.bool,onLoad:m.a.func},ie.defaultProps={onLoad:function(){}},ie.contextTypes={sizeFormat:m.a.string};var ae=ie,se=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ue=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),se(t,[{key:"_getItems",value:function(){var e=this.props,t=e.limit,n=e.activeItemIndex,r=e.items,o=e.createItem,i=Math.floor(t/2),a=Math.max(n-i,0),s=Math.min(n+i,r.length-1);return r.map(function(e,t){return o(t,t>=a&&t<=s)}).filter(Boolean)}},{key:"render",value:function(){return o.a.createElement("div",{className:this.props.className,ref:this.props.itemsListRef},this._getItems())}}]),t}();ue.propTypes={limit:m.a.number.isRequired,items:m.a.array.isRequired,activeItemIndex:m.a.number.isRequired,createItem:m.a.func.isRequired,itemsListRef:m.a.func};var ce=ue,le=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var pe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g["a"]),le(t,[{key:"getContentSVG",value:function(){return o.a.createElement("path",{d:"M9.6 4l-4 4 4 4 .8-.8L7.2 8l3.2-3.2z",fill:"currentColor"})}}]),t}(),fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var de={left:pe,right:function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g["a"]),fe(t,[{key:"getContentSVG",value:function(){return o.a.createElement("path",{d:"M6.4 12l4-4-4-4-.8.8L8.8 8l-3.2 3.2z",fill:"currentColor"})}}]),t}()},he=function(e){var t=e.direction,n=e.onClick,r=de[t];return o.a.createElement(b.a,{size:"ufo-xxxl",theme:"clear",cls:l()()("switch-arrow-button").m(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,!0)),onClick:n},o.a.createElement(r,{iconSize:"xxl"}))},me=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ye="keyboard",ve="button",be=["input","textarea","select","option"],_e=function(e){var t=function(t){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(r)));return i._onPreviousArrowClick=i._onPreviousArrowClick.bind(i),i._onNextArrowClick=i._onNextArrowClick.bind(i),i._onKeyDown=i._onKeyDown.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r.Component),me(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this._onKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._onKeyDown)}},{key:"_canUseArrows",value:function(){return!(!this.props.enableKeyboardControl||this.props.disabledOnFormControls&&document.activeElement&&be.includes(document.activeElement.nodeName.toLowerCase()))}},{key:"_onKeyDown",value:function(e){if(this._canUseArrows())switch(e.keyCode){case 37:case 38:this.props.onPrevious(ye),e.preventDefault();break;case 39:case 40:case 32:this.props.onNext(ye),e.preventDefault()}}},{key:"_onPreviousArrowClick",value:function(){this.props.onPrevious(ve)}},{key:"_onNextArrowClick",value:function(){this.props.onNext(ve)}},{key:"render",value:function(){var t=Object.assign({},this.props),n=(t.children||[]).slice();return t.showArrowLeft&&n.push(o.a.createElement(he,{direction:"left",key:"previous",onClick:this._onPreviousArrowClick})),t.showArrowRight&&n.push(o.a.createElement(he,{direction:"right",key:"next",onClick:this._onNextArrowClick})),delete t.children,delete t.showArrowLeft,delete t.showArrowRight,delete t.onPrevious,delete t.onNext,o.a.createElement(e,t,n)}}]),n}();return t.propTypes={enableKeyboardControl:m.a.bool,onPrevious:m.a.func,onNext:m.a.func,showArrowLeft:m.a.bool,showArrowRight:m.a.bool,disabledOnFormControls:m.a.bool},t.defaultProps={enableKeyboardControl:!0,disabledOnFormControls:!0},t},ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ke(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ce=function(){return l()()("slider")};function xe(e){e.preventDefault()}function Te(e){return e.resources.indexOf(e.activeResource)}var Se=_e(function(e){function t(){var e;we(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=Ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i.state={itemsLimit:1},i._getSliderItem=i._getSliderItem.bind(i),i._onFirstActivePreviewLoad=i._onFirstActivePreviewLoad.bind(i),i._onKeyDown=i._onKeyDown.bind(i),i}return ke(t,r["PureComponent"]),Oe(t,[{key:"componentWillMount",value:function(){this._itemsRefs=[],this._isFirstPreviewLoaded=!1}},{key:"componentDidMount",value:function(){window.addEventListener("keydown",this._onKeyDown),this.props.activeResource.content&&this._onFirstActivePreviewLoad(),this.props.containerRef&&this.props.containerRef(this._rootRef),this.props.itemsContainerRef&&this.props.itemsContainerRef(this._itemsContainerRef),this.props.itemsRefs&&this.props.itemsRefs(this._itemsRefs)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._onKeyDown),this.props.setRef&&this.props.setRef(null)}},{key:"_getSliderItems",value:function(){var e=this;return o.a.createElement(ce,{className:Ce().e("items"),itemsListRef:function(t){e._itemsContainerRef=t},limit:this.state.itemsLimit,items:this.props.resources,activeItemIndex:Te(this.props),createItem:this._getSliderItem})}},{key:"_onFirstActivePreviewLoad",value:function(){this.setState({itemsLimit:5})}},{key:"_getPreview",value:function(e){var t=this.props.resources[e],n=t===this.props.activeResource;if(t.content)return o.a.createElement("div",{className:Ce().e("content")},t.content);var r={className:Ce().e("preview"),active:n,nonce:this.props.nonce};if(n&&this.state.isZoomed)r.previewBaseUrl=r.originalUrl=t.originalUrl;else{var i=this.props.viewportSize,a=i.width,s=i.height;Object.assign(r,{originalUrl:t.originalUrl,previewBaseUrl:t.previewBaseUrl,width:a,height:s})}return!this._isFirstPreviewLoaded&&n&&(r.onLoad=this._onFirstActivePreviewLoad),o.a.createElement(ae,r)}},{key:"_getSliderItem",value:function(e,t){var n=this,r=this.props.resources[e]===this.props.activeResource;return o.a.createElement("div",{className:Ce().e("item").m({active:r}),key:e,ref:function(t){n._itemsRefs[e]=t}},r||t?this._getPreview(e):null)}},{key:"_getToolbar",value:function(){return this.props.toolbarChildren?o.a.createElement("div",{className:Ce().e("toolbar").m({visible:this.props.toolbarVisible}),onTouchMove:xe},o.a.createElement("div",{className:Ce().e("gradient")}),this.props.toolbarChildren):null}},{key:"_onKeyDown",value:function(e){this.props.enableKeyboardControl&&27===e.keyCode&&this.props.onClose(ye)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:Ce().m({zoomed:this.state.isZoomed}).mix(this.props.cls),ref:function(t){e._rootRef=t}},this._getSliderItems(),this._getToolbar(),this.props.children)}}]),t}()),Pe=function(e){function t(){var e;we(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=Ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._switchToPrevious=i._switchToPrevious.bind(i),i._switchToNext=i._switchToNext.bind(i),i}return ke(t,r["PureComponent"]),Oe(t,[{key:"_switchToPrevious",value:function(e){var t=Te(this.props);t>0&&this.props.onActiveResourceChange(this.props.resources[t-1],-1,e)}},{key:"_switchToNext",value:function(e){var t=Te(this.props);t<this.props.resources.length-1&&this.props.onActiveResourceChange(this.props.resources[t+1],1,e)}},{key:"render",value:function(){var e=Te(this.props),t=this.props.showSwitchArrows&&this.props.toolbarVisible;return o.a.createElement(Se,ge({showArrowLeft:t&&e>0,showArrowRight:t&&e<this.props.resources.length-1,onPrevious:this._switchToPrevious,onNext:this._switchToNext},this.props))}}]),t}();Pe.propTypes={cls:m.a.oneOfType([m.a.object,m.a.string]),showSwitchArrows:m.a.bool,resources:m.a.array.isRequired,toolbarChildren:m.a.node,activeResource:m.a.object,enableKeyboardControl:m.a.bool,viewportSize:m.a.shape({width:m.a.number,height:m.a.number}).isRequired,onActiveResourceChange:m.a.func,onClose:m.a.func,toolbarVisible:m.a.bool};var je=function(){};Pe.defaultProps={enableKeyboardControl:!0,onActiveResourceChange:je,onClose:je,toolbarVisible:!0},Pe.ToolbarLeft=function(e){return o.a.createElement("div",{className:Ce().e("toolbar-left")},e.children)},Pe.ToolbarRight=function(e){return o.a.createElement("div",{className:Ce().e("toolbar-right")},e.children)};var Ie=Pe;var Re=function(e,t){Object.keys(t).forEach(function(n){"x"!==n&&"y"!==n&&"scale"!==n&&(e.style[n]=t[n])});var n="";void 0===t.x&&void 0===t.y||(n+="translate3d("+(t.x||0)+"px, "+(t.y||0)+"px, 0)"),void 0!==t.scale&&(n+=" scale("+t.scale+")"),n&&(e.style.webkitTransform=e.style.transform=n)},Me=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var De=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._viewportSize=t,this._elements=n,this._elementsSize=r}return Me(e,[{key:"start",value:function(e,t){this._initialData=t,this._currentData=this._extractTransformData(e),this._toggleElementsTransform(!0)}},{key:"move",value:function(e){this._currentData=this._extractTransformData(e),this._onMove(),this._applyChangesToElements(this._currentData)}},{key:"end",value:function(){var e=this,t=this._isTransformComplete(),n=t?this._getCompleteTransformValues():this._getInitialTransformValues(),r=Object.keys(this._currentData).some(function(t){return e._currentData[t]!==n[t]})?200:void 0;return Promise.resolve(this._applyChangesToElements(n,r)).then(function(){return e._finishTransform(t),t?e._getTransformResult():Promise.reject(!1)})}},{key:"_onMove",value:function(){}},{key:"_extractTransformData",value:function(e){}},{key:"isExternalFinishTransform",value:function(){return!1}},{key:"_finishTransform",value:function(){this.isExternalFinishTransform()||this._toggleElementsTransform(!1)}},{key:"finishTransform",value:function(){this._toggleElementsTransform(!1)}},{key:"_getCompleteTransformValues",value:function(){}},{key:"_getInitialTransformValues",value:function(){return{}}},{key:"_getTransformResult",value:function(){}},{key:"_isTransformComplete",value:function(){}},{key:"_calculateElementStyles",value:function(e){}},{key:"_applyChangesToElements",value:function(e,t){var n=this,r=void 0;if(this._eachElement(function(o){var i=n._setStylesToElement(o,n._calculateElementStyles(e),t);t&&(r=r||[]).push(i)}),t)return Promise.all(r)}},{key:"_setStylesToElement",value:function(e,t,n){if(n)return new Promise(function(r){var o=function t(){r(),e.removeEventListener("transitionend",t),e.removeEventListener("webkitTransitionEnd",t),Re(e,{transition:""})},i=Object.assign({},t,{transition:n+"ms ease"});e.addEventListener("transitionend",o),e.addEventListener("webkitTransitionEnd",o),Re(e,i)});Re(e,t)}},{key:"_toggleElementsTransform",value:function(e){this._eachElement(function(t){t.classList.toggle("new-composite-layer",e),e||(t.style.transform="",t.style.opacity="")})}},{key:"_eachElement",value:function(e){var t=this;this._elements instanceof Element?e.call(this,this._elements):Object.keys(this._elements).forEach(function(n){t._elements[n]&&e.call(t,t._elements[n],n)})}}]),e}(),Ae=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Le=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,De),Ae(t,[{key:"isExternalFinishTransform",value:function(){return!0}},{key:"_extractTransformData",value:function(e){return{deltaX:e.deltaX}}},{key:"_isTransformComplete",value:function(){var e=Math.abs(this._currentData.deltaX)/this._viewportSize.width;return Boolean(e>.3&&this._elements[this._neighbourName])}},{key:"_getCompleteTransformValues",value:function(){return{deltaX:this._viewportSize.width*Math.sign(this._currentData.deltaX)}}},{key:"_getInitialTransformValues",value:function(){return{deltaX:0}}},{key:"_onMove",value:function(){this._neighbourName=this._currentData.deltaX<0?"next":"prev"}},{key:"_applyChangesToElements",value:function(e,t){var n=[this._setStylesToElement(this._elements.current,this._calculateMainItemStyles(e),t)];if(this._elements[this._neighbourName]){var r=this._setStylesToElement(this._elements[this._neighbourName],this._calculateNeighbourItemStyles(e),t);n.push(r)}return Promise.all(n)}},{key:"_getTransformResult",value:function(){return-Math.sign(this._currentData.deltaX)}},{key:"_calculateMainItemStyles",value:function(e){var t=Math.abs(e.deltaX)/this._viewportSize.width;return 0===e.deltaX?{x:0,opacity:1,scale:1}:e.deltaX<0?{x:e.deltaX,opacity:1-t,scale:1}:{x:0,opacity:1-t,scale:1-.2*t}}},{key:"_calculateNeighbourItemStyles",value:function(e){var t=Math.abs(e.deltaX)/this._viewportSize.width;return{x:"prev"===this._neighbourName?e.deltaX-this._viewportSize.width:0,opacity:t,scale:.8+.2*t}}}]),t}(),Ne=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ze=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,De),Ne(t,[{key:"isExternalFinishTransform",value:function(){return!0}},{key:"_extractTransformData",value:function(e){return{deltaY:e.deltaY}}},{key:"_getTransformResult",value:function(){return!0}},{key:"_getInitialTransformValues",value:function(){return{deltaY:0}}},{key:"_getCompleteTransformValues",value:function(){return{deltaY:Math.sign(this._currentData.deltaY)*this._viewportSize.height}}},{key:"_isTransformComplete",value:function(){return Math.abs(this._currentData.deltaY/this._viewportSize.height)>.2}},{key:"_calculateElementStyles",value:function(e){var t=Math.abs(e.deltaY/this._viewportSize.height);return{y:e.deltaY,opacity:1-t}}}]),t}(),Ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ve=function(e,t,n,r,o){return(Math.min(Math.max(r,e),t)-e-n/2)*o},Be=function(e,t,n,r,o){return(Math.min(Math.max(r,e),t)-e-n/2)*o},Fe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,De),Ue(t,[{key:"_extractTransformData",value:function(e){var t=this._currentData||this._initialData;this.dx=this.dx||0,this.dy=this.dy||0;var n=Math.min(e.scale*this._initialData.scale,10),r=n/t.scale-1,o=t.scale/this._initialData.scale,i=o*this._elementsSize.width,a=o*this._elementsSize.height,s=this._elementsSize.left+(this._elementsSize.width-i)/2-this.dx,u=this._elementsSize.top+(this._elementsSize.height-a)/2-this.dy,c=Ve(s,s+i,i,e.center.x,r),l=Be(u,u+a,a,e.center.y,r);return this.dx+=c,this.dy+=l,{scale:n,x:t.x-c,y:t.y-l}}},{key:"_calculateElementStyles",value:function(e){return e}}]),t}(),He=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var We=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,De),He(t,[{key:"_extractTransformData",value:function(e){return{velocityX:e.velocityX,velocityY:e.velocityY,x:this._initialData.x+e.deltaX,y:this._initialData.y+e.deltaY,scale:this._initialData.scale}}},{key:"_calculateElementStyles",value:function(e){return e}}]),t}(),Ge=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var qe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Fe),Ge(t,[{key:"start",value:function(e,n){this._reset=n.scale>1,n.scale>1?this._currentData={x:0,y:0,scale:1}:(e=Object.assign({},e,{scale:5}),function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"start",this).call(this,e,n))}},{key:"end",value:function(){var e=this;return this._applyChangesToElements(this._currentData,200).then(function(){return e._currentData})}}]),t}();var Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ye=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze=null;function $e(e){e instanceof Error&&setTimeout(function(){throw e},0)}function Je(e){e.preventDefault()}function Qe(e){return e.resources.indexOf(e.activeResource)}"undefined"!=typeof window&&(Ze=n(316));var et={SWIPE_TO_CLOSE:"SWIPE_TO_CLOSE",SWIPE_TO_CHANGE:"SWIPE_TO_CHANGE",DOUBLE_TAP_TO_ZOOM:"DOUBLE_TAP_TO_ZOOM",PINCH_TO_ZOOM:"PINCH_TO_ZOOM",MOVE_ZOOMED:"MOVE_ZOOMED",WHEEL_TO_ZOOM:"WHEEL_TO_ZOOM"},tt=Object.assign({GESTURE:"gesture"},Ie.ACTION_SOURCE),nt=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i.state={isZoomed:!1,toolbarVisible:!0},i._onPanH=i._onPanH.bind(i),i._onPanV=i._onPanV.bind(i),i._onPinch=i._onPinch.bind(i),i._onPan=i._onPan.bind(i),i._onDbTap=i._onDbTap.bind(i),i._onTap=i._onTap.bind(i),i._onWheel=i._onWheel.bind(i),i._setZoomedState=i._setZoomedState.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Ye(t,[{key:"setState",value:function(e,n){var r=this.state.toolbarVisible;(function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setState",this).call(this,e,n),"boolean"==typeof e.toolbarVisible&&e.toolbarVisible!==r&&this.props.onToolbarVisibilityChange(e.toolbarVisible)}},{key:"componentDidMount",value:function(){this._bindGestures(),this._resetZoomedState()}},{key:"componentWillUnmount",value:function(){this._unbindGestures()}},{key:"componentDidUpdate",value:function(e){var t=this.props.activeResource||{},n=e.activeResource||{},r=t.id!==n.id,o=this._itemsRefs[Qe(this.props)];r&&(this._toggleZoomGestures(!this.props.activeResource.content),this._currentTransform&&this._currentTransform.isExternalFinishTransform()&&(this._currentTransform._elements.next===o||this._currentTransform._elements.prev===o)&&this._currentTransform.finishTransform())}},{key:"_getActiveImageRef",value:function(){return this._getItemImageRef(Qe(this.props))}},{key:"_getItemImageRef",value:function(e){return this._itemsRefs[e].querySelector("img")}},{key:"_bindGestures",value:function(){var e;this._hammerManager=new Ze.Manager(this._itemsContainerRef),this._hammerRecognisers={horizontalPan:new Ze.Pan({event:"panh",direction:Ze.DIRECTION_HORIZONTAL}),verticalPan:new Ze.Pan({event:"panv",threshold:20,direction:Ze.DIRECTION_VERTICAL}),pinch:new Ze.Pinch,pan:new Ze.Pan({enable:!1}),dbtap:new Ze.Tap({event:"dbtap",taps:2,threshold:20,posThreshold:20}),tap:new Ze.Tap},this._hammerManager.add([this._hammerRecognisers.pinch,this._hammerRecognisers.horizontalPan,this._hammerRecognisers.verticalPan,this._hammerRecognisers.pan,this._hammerRecognisers.dbtap,this._hammerRecognisers.tap]),this._hammerRecognisers.verticalPan.requireFailure(this._hammerRecognisers.pinch),this._hammerRecognisers.horizontalPan.requireFailure(this._hammerRecognisers.pinch),this._hammerManager.on("panhstart panhmove panhend panhcancel",this._onPanH),this._hammerManager.on("panvstart panvmove panvend panvcancel",this._onPanV),this._hammerManager.on("pinchstart pinchmove pinchend pinchcancel",this._onPinch),this._hammerManager.on("panstart panmove panend pancancel",this._onPan),this._hammerManager.on("dbtap",this._onDbTap),this._gesturesToRecognizers=(Xe(e={},et.SWIPE_TO_CLOSE,"verticalPan"),Xe(e,et.SWIPE_TO_CHANGE,"horizontalPan"),Xe(e,et.DOUBLE_TAP_TO_ZOOM,"dbtap"),Xe(e,et.PINCH_TO_ZOOM,"pinch"),Xe(e,et.MOVE_ZOOMED,"pan"),e),this._hammerRecognisers.tap.requireFailure(this._hammerRecognisers.dbtap),this._hammerManager.on("tap",this._onTap),this._toggleGestures(Object.values(et),!0),this._toggleZoomGestures(!this.props.activeResource.content),this._itemsContainerRef.addEventListener("dragstart",Je)}},{key:"_unbindGestures",value:function(){this._hammerManager.destroy(),this._itemsContainerRef.removeEventListener("touchstart",Je),this._itemsContainerRef.removeEventListener("wheel",this._onWheel),this._itemsContainerRef.removeEventListener("dragstart",Je)}},{key:"_onWheel",value:function(e){var t=this;Je(e);var n=e.wheelDeltaY||e.wheelDelta||-120*Math.sign(e.deltaY)||0;if(0!==n){var r=n/1e3,o=this._getActiveImageRef();if(o){var i=o.getBoundingClientRect(),a=this._zoomedValues.scale,s=a+r;s=Math.max(s,1);var u=(s=Math.min(s,10))/a-1,c=Ve(i.left,i.right,i.width,e.clientX,u),l=Be(i.top,i.bottom,i.height,e.clientY,u);this._setZoomedState({scale:s,x:this._zoomedValues.x-c,y:this._zoomedValues.y-l}),Re(o,this._zoomedValues),clearTimeout(this._timer),this._timer=setTimeout(function(){return t._resetImagePosition()},200)}}}},{key:"_resetImagePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._getActiveImageRef();if(t){if(this._zoomedValues.scale>1&&!e){var n=t.getBoundingClientRect(),r=window.innerHeight-n.bottom,o=window.innerWidth-n.right,i=!0;if(n.height<innerHeight?this._zoomedValues.y=0:n.top>0?this._zoomedValues.y-=n.top:r>0?this._zoomedValues.y+=r:i=!1,n.width<innerWidth?(this._zoomedValues.x=0,i=!0):n.left>0?(this._zoomedValues.x-=n.left,i=!0):o>0&&(this._zoomedValues.x+=o,i=!0),!i)return}else this._resetZoomedState();!function(e,t,n){if(n)return new Promise(function(r){var o=function t(){r(),e.removeEventListener("transitionend",t),e.removeEventListener("webkitTransitionEnd",t),Re(e,{transition:"all 0s ease 0s"})},i=Object.assign({},t,{transition:n+"ms ease"});e.addEventListener("transitionend",o),e.addEventListener("webkitTransitionEnd",o),Re(e,i)});Re(e,t)}(t,this._zoomedValues,200)}}},{key:"_toggleZoomGestures",value:function(e){this._toggleGestures([et.PINCH_TO_ZOOM,et.DOUBLE_TAP_TO_ZOOM],e),this._toggleGestures([et.MOVE_ZOOMED],this.state.isZoomed&&e);var t=this.props.enabledGestures.includes(et.WHEEL_TO_ZOOM);e?(this._itemsContainerRef.addEventListener("touchstart",Je),t&&this._itemsContainerRef.addEventListener("wheel",this._onWheel)):(this._itemsContainerRef.removeEventListener("touchstart",Je),t&&this._itemsContainerRef.removeEventListener("wheel",this._onWheel))}},{key:"_onActiveResourceChange",value:function(e,t,n){var r=!this.props.activeResource.content,o=!e.content;r!==o&&this._toggleZoomGestures(o),this.props.onActiveResourceChange(e,t,n)}},{key:"_toggleGestures",value:function(e,t){var n=this;e.forEach(function(e){var r=n._gesturesToRecognizers[e];if(r){var o=n.props.enabledGestures.includes(e);n._hammerRecognisers[r].set({enable:t&&o})}})}},{key:"_setZoomedState",value:function(e){this.props.onZoomStateChange(e),this._zoomedValues=e;var t=e.scale>1;this._toggleIsZoomed(t),this.setState({toolbarVisible:!t}),this._toggleGestures([et.SWIPE_TO_CHANGE,et.SWIPE_TO_CLOSE],!t),this._toggleGestures([et.MOVE_ZOOMED],t)}},{key:"_resetZoomedState",value:function(){this._setZoomedState({scale:1,x:0,y:0})}},{key:"_toggleIsZoomed",value:function(e){e=void 0===e?!this.state.isZoomed:e,this.setState({isZoomed:e})}},{key:"_onPanH",value:function(e){var t=this;if("panhstart"===e.type||this._currentTransform instanceof Le){var n=Qe(this.props);if("panhstart"===e.type){var r={current:this._itemsRefs[n],next:n<this._itemsRefs.length-1?this._itemsRefs[n+1]:null,prev:n>0?this._itemsRefs[n-1]:null};this._currentTransform=new Le(this.props.viewportSize,r),this._currentTransform.start(e)}else"panhmove"===e.type||"panhcancel"===e.type?this._currentTransform.move(e):"panhend"===e.type&&this._currentTransform.end().then(function(e){t._onActiveResourceChange(t.props.resources[n+e],e,tt.GESTURE)}).catch($e)}}},{key:"_onPanV",value:function(e){var t=this;if("panvstart"===e.type||this._currentTransform instanceof ze)switch(e.type){case"panvstart":this._currentTransform=new ze(this.props.viewportSize,this._container),this._currentTransform.start(e);break;case"panvmove":this._currentTransform.move(e);break;case"panvend":case"panvcancel":this._currentTransform.end().then(function(){t.props.onClose(tt.GESTURE)}).catch($e)}}},{key:"_onPinch",value:function(e){switch(e.type){case"pinchstart":var t=this._getActiveImageRef();if(!t)return;var n=t.getBoundingClientRect();this._currentTransform=new Fe(this.props.viewportSize,t,n),this._currentTransform.start(e,this._zoomedValues),this._setZoomedState(this._currentTransform._extractTransformData(e));break;case"pinchmove":this._currentTransform.move(e);break;case"pinchend":case"pinchcancel":this._setZoomedState(this._currentTransform._currentData),this._resetImagePosition()}}},{key:"_onPan",value:function(e){var t=Qe(this.props);switch(e.type){case"panstart":var n=this._getItemImageRef(t),r=n.getBoundingClientRect();this._currentTransform=new We(this.props.viewportSize,n,{width:r.width,height:r.height}),this._currentTransform.start(e,this._zoomedValues);break;case"panmove":this._currentTransform.move(e);break;case"panend":case"pancancel":this._setZoomedState(this._currentTransform._currentData),this._resetImagePosition()}}},{key:"_onDbTap",value:function(e){var t=this._getActiveImageRef();if(t){var n=t.getBoundingClientRect();this._currentTransform=new qe(this.props.viewportSize,t,n),this._currentTransform.start(e,this._zoomedValues),this._currentTransform.end(),this._setZoomedState(this._currentTransform._currentData)}}},{key:"_onTap",value:function(){this.setState({toolbarVisible:!this.state.toolbarVisible})}},{key:"render",value:function(){var e=this;return o.a.createElement(Ie,Ke({},this.props,{toolbarVisible:this.state.toolbarVisible,containerRef:function(t){e._container=t},itemsContainerRef:function(t){e._itemsContainerRef=t},itemsRefs:function(t){e._itemsRefs=t}}))}}]),t}();nt.propTypes=Object.assign({enabledGestures:m.a.arrayOf(m.a.oneOf([et.SWIPE_TO_CLOSE,et.SWIPE_TO_CHANGE,et.DOUBLE_TAP_TO_ZOOM,et.PINCH_TO_ZOOM,et.MOVE_ZOOMED,et.WHEEL_TO_ZOOM])),onZoomStateChange:m.a.func,onToolbarVisibilityChange:m.a.func},Ie.propTypes);var rt=function(){};nt.defaultProps=Object.assign({enabledGestures:[et.SWIPE_TO_CLOSE,et.SWIPE_TO_CHANGE,et.DOUBLE_TAP_TO_ZOOM,et.PINCH_TO_ZOOM,et.MOVE_ZOOMED,et.WHEEL_TO_ZOOM],onZoomStateChange:rt,onToolbarVisibilityChange:rt},Ie.defaultProps),nt.ToolbarLeft=Ie.ToolbarLeft,nt.ToolbarRight=Ie.ToolbarRight;var ot=nt,it=(n(317),ot),at=n(13),st=n(11),ut=n(38),ct=(n(318),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var lt={xs:"xs",s:"xs",m:"s",n:"xs",l:"m",head:"m","ufo-xl":"l"},pt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g["a"]),ct(t,[{key:"getContent",value:function(){return o.a.createElement(ut.a,{size:lt[this.props.size],progress:!0,cls:l()()("spin-wrapper").m({white:this.props.white})})}}]),t}(),ft=n(55),dt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ht=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g["a"]),dt(t,[{key:"getContentSVG",value:function(){return o.a.createElement("g",null,o.a.createElement("path",{fill:"#6C6",fillRule:"evenodd",d:"M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16zM6.74 9.42L4.65 7.58a.95.95 0 0 0-1.3.04l.02-.02a.87.87 0 0 0 .01 1.25l3.36 3.2L12.24 6a.87.87 0 0 0-.08-1.25l-.1-.09a.9.9 0 0 0-1.27.1L6.74 9.41z"}))}}]),t}(),mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var vt=function(){return l()()("save-button")},bt=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onSaveButtonClick=i._onSaveButtonClick.bind(i),i._onOpenFileButtonClick=i._onOpenFileButtonClick.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),yt(t,[{key:"_onSaveButtonClick",value:function(){this.props.save(this.props.resourceId,this.props.isFrom===V.a.SLIDER),this.props.onSaveClick()}},{key:"_onOpenFileButtonClick",value:function(){this.props.openFileInDisk(this.props.resourceId),this.props.onOpenFileClick()}},{key:"render",value:function(){var e=this.props,t=e.resourceId,n=e.operations,r=(e.isDir,e.antiFileSharing),i=(e.sliderResourceId,e.isSaveButtonHidden,e.virus),a=e.hasIcon,s=e.hasText,u=e.cls,c=e.theme,l=e.size,p=e.view,f=e.toneOpen,d=e.isMobile,h=e.isFrom,m=i?"default":this.props.toneSave,y={size:l,theme:c,view:p,disabled:i,pale:i};switch((n.save&&n.save[t]||{}).state){case V.e.DONE:return r&&!d&&this.props.redirectToResourceAndDownload(t),h===V.a.RESOURCES_ACTION_BAR&&d?null:o.a.createElement(at.a,mt({},y,{cls:vt().m({open:!0}).mix(u),tone:f,onClick:this._onOpenFileButtonClick}),a?o.a.createElement(ht,{iconSize:"m"}):null,o.a.createElement(st.a,{keyset:"actions",loc:"ufo_open_yadisk_after_save"}));case V.e.IN_PROGRESS:case V.e.WAITING_AUTH:y.progress=!0}var v=[];return y.progress&&(h===V.a.SLIDER||h===V.a.RESOURCES_ACTION_BAR&&!s)?v.push(o.a.createElement(pt,{white:!0,key:"spin"})):(a&&v.push(o.a.createElement(ft.a,{key:"icon",iconSize:"m"})),s&&v.push(r?o.a.createElement(st.a,{key:"text",keyset:"actions",loc:"ufo_save_and_download_yadisk"}):o.a.createElement(st.a,{key:"text",keyset:"actions",loc:"ufo_save_yadisk"}))),o.a.createElement(at.a,mt({},y,{cls:vt().m({"save-and-download":r,save:!r}).mix(u),tone:m,action:!0,onClick:this._onSaveButtonClick}),v)}}]),t}();bt.defaultProps={hasText:!0};var _t=Object(s.b)(function(e,t){var n=e.rootResourceId,r=e.resources,o=e.operations,i=e.overlays,a=i.sliderResourceId,s=i.isActionBarsHidden,u=e.ua.isMobile,c=e.environment.antiFileSharing,l=t.resourceId;return{resourceId:l,isDir:"dir"===r[n].type,virus:r[l].virus,antiFileSharing:c,operations:o,sliderResourceId:a,isSaveButtonHidden:Boolean(s),isMobile:u}},{save:L.g,openFileInDisk:A.q,redirectToResourceAndDownload:A.v})(bt),gt=n(100),Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Et=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return function(n){function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(n)));return o._onClick=o._onClick.bind(o),o.state={disabled:!1},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,r.Component),wt(i,[{key:"componentWillUnmount",value:function(){clearTimeout(this._timerId)}},{key:"_onClick",value:function(){var e,n=this;this.setState({disabled:!0}),this._timerId=setTimeout(function(){n.setState({disabled:!1})},t),(e=this.props).onClick.apply(e,arguments)}},{key:"render",value:function(){return o.a.createElement(e,Ot({},this.props,{disabled:this.state.disabled,onClick:this._onClick}))}}]),i}()},kt=(n(319),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var Ct=Et(at.a,3e4),xt=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onClick=i._onClick.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),kt(t,[{key:"_onClick",value:function(){this.props.virus?this.props.openDownloadVirusDialog(this.props.resourceId):(this.props.download(this.props.resourceId),this.props.onClick())}},{key:"_buttonText",value:function(){return this.props.isDir?Object(U.i18n)("ru","actions","ufo_download_all"):Object(U.i18n)("ru","actions","ufo_download")}},{key:"render",value:function(){if(this.props.antiFileSharing)return null;var e=this.props,t=e.resourceId,n=e.isDir,r=e.operations,i=e.hasIcon,a=e.hasText,s=e.theme,u=e.size,c=e.view,p=e.tone,f=e.cls,d=e.isFrom,h=(r.download&&r.download[t]||{}).state===V.e.IN_PROGRESS,m=n?Ct:at.a,y=[];return!a&&h&&d===V.a.RESOURCES_ACTION_BAR?y.push(o.a.createElement(pt,{white:!0,key:"spin"})):(i&&y.push(o.a.createElement(gt.a,{key:"icon",iconSize:"m"})),a&&y.push(this._buttonText())),o.a.createElement(m,{key:t,theme:s,size:u,view:c,tone:p,onClick:this._onClick,disabled:h,cls:l()()("download-button").m({"without-text":!a}).mix(f)},y)}}]),t}();xt.defaultProps={hasIcon:!1,hasText:!0,onClick:function(){}};var Tt=Object(s.b)(function(e,t){var n=e.resources,r=e.operations,o=e.environment.antiFileSharing,i=t.resourceId,a=n[i],s=a.type;return{virus:a.virus,resourceId:i,isDir:"dir"===s,operations:r,antiFileSharing:o}},{download:L.a,openDownloadVirusDialog:A.p})(xt),St=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Pt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g["a"]),St(t,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return o.a.createElement("path",{fill:"currentColor",d:"M21 5.421L19.579 4 12.5 11.079 5.421 4 4 5.421l7.079 7.079L4 19.579 5.421 21l7.079-7.079L19.579 21 21 19.579 13.921 12.5z"})}}]),t}(),jt=n(95),It=n(105),Rt=n(101),Mt=n.n(Rt),Dt=(n(127),Mt.a),At=(n(320),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var Lt=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onClick=i._onClick.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),At(t,[{key:"_onClick",value:function(){this.props.openDocument(this.props.resourceId)}},{key:"render",value:function(){var e=this.props.cls;return o.a.createElement(at.a,{type:"link",target:"_blank",size:"n",theme:"clear-inverse",view:"default",tone:"transparent",onClick:this._onClick,cls:l()()("open-button").mix(e)},Object(U.i18n)("ru","actions","ufo_open"))}}]),t}();Lt.propTypes={resourceId:m.a.string.isRequired};var Nt=Object(s.b)(void 0,{openDocument:A.o})(Lt),zt=n(19),Ut=n(8),Vt=n(130),Bt=n.n(Vt),Ft=(n(321),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var Ht=function(){return l()()("slider")},Wt=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},Gt=function(e){return Object(Ut.i)("video player",e)},qt=function(e){return Object(Ut.i)("audio player",e)},Kt=function(){return Object(Ut.i)("save")},Yt=function(){return Object(Ut.i)("goto Disk")},Xt=function(){return Object(Ut.i)("download")},Zt=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i.state={viewport:Wt(),menu:!1},i._updateViewport=Bt()(function(){i.setState({viewport:Wt()})},250),i._onMoreClick=i._onMoreClick.bind(i),i._changeActive=i._changeActive.bind(i),i._onSliderToolbarVisibilityChange=i._onSliderToolbarVisibilityChange.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Ft(t,[{key:"componentDidMount",value:function(){window.addEventListener("orientationchange",this._updateViewport),window.addEventListener("resize",this._updateViewport)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.sliderResourceId,r=t.sliderResourceView,o=t.resources;if(n&&n!==e.sliderResourceId){var i=o[n].meta.mediatype;Object(Ut.i)("show",i),r===V.f.VIDEO&&Gt("show")}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("orientationchange",this._updateViewport),window.removeEventListener("resize",this._updateViewport)}},{key:"_mapSliderResource",value:function(e){var t=e.id,n=e.name,r=e.meta.mediatype,i=e.virus,a=e.dvSearch,s=Object(zt.a)(e),u=t===this.props.sliderResourceId,c={id:t,mediatype:r};switch(s){case V.f.IMAGE:c.previewBaseUrl=e.meta.defaultPreview,c.originalUrl=e.meta.xxxlPreview;break;case V.f.VIDEO:c.content=o.a.createElement(d.a,{isVisible:u,fitTo:"height",displayType:this.props.isMobile?"preview":"player",resourceId:t,onPlaybackStateChange:function(e){e&&Gt("play")},autoplay:!0});break;case V.f.AUDIO:c.content=o.a.createElement(H,{isVisible:u,resourceId:t,theme:"dark",countMetrika:qt});break;default:var l=!i&&Boolean(a);c.content=o.a.createElement("div",null,o.a.createElement(Q,{resourceId:t}),o.a.createElement(p,{name:n}),l&&o.a.createElement(Nt,{cls:Ht().e("open-button"),resourceId:t}))}return c}},{key:"_onSliderToolbarVisibilityChange",value:function(e){this.props.setActionBarsVisibility(e)}},{key:"_onMoreClick",value:function(){this.setState({menu:!this.state.menu}),Object(Ut.j)(this.state.menu?"close menu":"open menu")}},{key:"_changeActive",value:function(e,t){this.props.openSlider(e.id),Object(Ut.i)(t>0?"next":"prev")}},{key:"render",value:function(){var e=this,t=this.props,n=t.sliderResourceId,r=t.sliderResourceView,i=t.closeSlider,a=t.resources,s=t.currentResourceId,u=t.rootResourceId,c=t.getVideoStreams,l=t.enabledGestures,p=t.isMobile,f=function(){i(),Object(Ut.i)("close")};if(!n)return null;if(!a[n]){var d={content:o.a.createElement(Dt,{size:"m",progress:!0})};return o.a.createElement(it,{showSwitchArrows:!p,resources:[d],activeResource:d,onClose:f,viewportSize:this.state.viewport,enabledGestures:l})}var h=void 0,m=a[u];"dir"===m.type?h=a[s].children.map(function(e){return a[e]}).filter(function(e){return"file"===e.type}).map(this._mapSliderResource,this):h=[m].map(this._mapSliderResource,this);var y=h.filter(function(e){return e.id===n})[0];r===V.f.VIDEO&&c(y.id);var v=function(t){return function(){e.setState({menu:!1}),t&&Object(Ut.j)("close menu")}},b=null,_=function(e){return o.a.createElement(at.a,{size:"m",cls:Ht().e("button").m({close:!0,touch:e}),theme:"clear-inverse",onClick:f},o.a.createElement(Pt,{cls:"js-test__close-slider"}))};return b=[o.a.createElement(it.ToolbarLeft,{key:"left"},_(!0)),o.a.createElement(it.ToolbarRight,{key:"right"},o.a.createElement(_t,{resourceId:this.props.sliderResourceId,size:"m",cls:Ht().e("button").m({save:!0}),theme:"clear-inverse",onSaveClick:Kt,onOpenFileClick:Yt,hasIcon:!0,isFrom:V.a.SLIDER}),p?null:o.a.createElement(Tt,{resourceId:n,size:"m",cls:Ht().e("button").m({download:!0}),theme:"clear-inverse",onClick:Xt,hasIcon:!0,isFrom:V.a.SLIDER}),o.a.createElement(at.a,{size:"m",cls:Ht().e("button"),theme:"clear-inverse",onClick:this._onMoreClick,ref:function(t){e._infoButton=t}},o.a.createElement(jt.a,null)),_()),o.a.createElement(It.a,{key:"info-popup",visible:this.state.menu,resourceId:n,onOutsideClick:v(!0),anchor:this._infoButton,closeMenu:v(),countMenuFn:Ut.j})],o.a.createElement(it,{showSwitchArrows:!p,nonce:this.props.nonce,resources:h,activeResource:y,onActiveResourceChange:this._changeActive,toolbarChildren:b,onClose:f,viewportSize:this.state.viewport,enabledGestures:l,onToolbarVisibilityChange:void 0})}}]),t}(),$t=Object(s.b)(function(e){var t=e.ua.isMobile,n=e.currentResourceId,r=e.rootResourceId,o=e.resources,i=e.operations,a=e.overlays.sliderResourceId,s=e.environment.nonce;return{isMobile:t,resources:o,currentResourceId:n,rootResourceId:r,operations:i,sliderResourceId:a,sliderResourceView:Object(zt.a)(o[a]),nonce:s}},{getVideoStreams:L.d,openSlider:A.u,closeSlider:A.j,setActionBarsVisibility:A.x})(Zt),Jt=n(20),Qt=(n(322),n(323),Jt.c),en=n(71),tn=n(69),nn=n.n(tn),rn=(n(83),n(324),nn.a),on=(n(325),n(40)),an=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var sn=function(){return l()()("action-buttons")},un=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onSaveButtonClick=i._onSaveButtonClick.bind(i),i._onOpenInDiskClick=i._onOpenInDiskClick.bind(i),i._onDownloadButtonClick=i._onDownloadButtonClick.bind(i),i.state={antiFileSharingTooltipVisible:!1},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),an(t,[{key:"_onSaveButtonClick",value:function(){this.setState({antiFileSharingTooltipVisible:!1}),Object(Ut.f)("save")}},{key:"_onOpenInDiskClick",value:function(){Object(Ut.f)("save status","goto Disk","from button")}},{key:"_onDownloadButtonClick",value:function(){Object(Ut.f)("download")}},{key:"_getSaveButton",value:function(){var e=this;return o.a.createElement(_t,{resourceId:this.props.resourceId,size:"n",theme:"raised",view:"default",toneOpen:"default",toneSave:this.props.isYellow?"default":"grey-blue",ref:function(t){e._saveButtonRef=t},hasIcon:this.props.hasIcons,cls:sn().e("button").m({save:!0}),onSaveClick:this._onSaveButtonClick,onOpenFileClick:this._onOpenInDiskClick})}},{key:"_getAntiFileSharingTooltip",value:function(){return this.state.antiFileSharingTooltipVisible&&o.a.createElement(rn,{theme:"normal",size:"s",cls:String(sn().e("antifo-tooltip")),anchor:this._saveButtonRef,to:["right"],visible:!0,zIndexGroupLevel:-1,mainOffset:20},o.a.createElement(st.a,{className:sn().e("antifo-tooltip-text"),keyset:"view-aside-public",loc:"ufo_warning_download_blocked"}))}},{key:"_getDownloadButton",value:function(){return o.a.createElement(Tt,{resourceId:this.props.resourceId,size:"n",theme:"raised",view:"default",tone:"default",hasIcon:this.props.hasIcons,cls:sn().e("button").m({download:!0}),onClick:this._onDownloadButtonClick})}},{key:"componentDidMount",value:function(){this.setState({antiFileSharingTooltipVisible:this.props.showAntiFileSharingTooltip})}},{key:"render",value:function(){return this.props.hideOnSliderOrPaneOpen&&(this.props.activePaneType||this.props.sliderResourceId)?null:o.a.createElement("div",{className:sn()},this._getSaveButton(),this._getAntiFileSharingTooltip(),this._getDownloadButton())}}]),t}();un.propTypes={activePaneType:m.a.string,hasIcons:m.a.bool,resourceId:m.a.string,showAntiFileSharingTooltip:m.a.bool,hideOnSliderOrPaneOpen:m.a.bool,isYellow:m.a.bool};var cn=Object(s.b)(function(e,t){var n=t.hasAntiFileSharingTooltip,r=e.ua.isSmartphone,o=e.rootResourceId,i=e.overlays,a=i.activePane,s=i.sliderResourceId,u=e.environment.antiFileSharing;return{showAntiFileSharingTooltip:n&&u&&!r,resourceId:o,activePaneType:a.type,sliderResourceId:s,isYellow:Object(on.a)(e)}})(un),ln=n(104),pn=n.n(ln),fn=n(35),dn=n.n(fn),hn=(n(326),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),mn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var yn=function(){return l()()("public-listing")},vn=function(e){return Object(Ut.b)("click",e)},bn=function(){},_n=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onListingTypeChange=i._onListingTypeChange.bind(i),i._onBackClick=i._onBackClick.bind(i),i._onResourceOpen=i._onResourceOpen.bind(i),i._requestFetchNext=i._requestFetchNext.bind(i),i._prepareResource=i._prepareResource.bind(i),i._onSelectionChanged=i._onSelectionChanged.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),mn(t,[{key:"componentDidMount",value:function(){Object(Ut.b)("show",this.props.listingType),this.props.isMsieOrEdge&&this._listing.setScrollingElement(a.a.findDOMNode(this._listing))}},{key:"componentDidUpdate",value:function(e){if(this.props.sliderResourceId&&this.props.sliderResourceId!==e.sliderResourceId){var t=this._listing.getItemRef(this.props.sliderResourceId);window.scrollTo(0,window.pageYOffset+t.getBoundingClientRect().top+0)}}},{key:"_onListingTypeChange",value:function(e){this.props.setListingType(e),Object(Ut.b)("change view",e)}},{key:"_requestFetchNext",value:function(){this.props.fetchNextPortion(this.props.resource.id)}},{key:"_onBackClick",value:function(){this.props.setCurrentResource(this.props.resource.parent),vn("back")}},{key:"_onResourceOpen",value:function(e){var t=this.props.resources.find(function(t){return t.id===e}),n=this.props.isMobile;"dir"===t.type?this.props.setCurrentResource(e):!n&&t.dvSearch&&Object(zt.a)(t)!==V.f.IMAGE?this.props.openDV(e):this.props.openSlider(e),vn("dir"===t.type?"folder":"file")}},{key:"_onSelectionChanged",value:function(e){this.props.setSelectedResources(e)}},{key:"_prepareResource",value:function(e){var t={title:e.name,id:e.id,type:e.type,parent:e.parent};if("file"===e.type){var n=Object(U.i18n)("ru","lists","sizes").split("|"),r=pn.a.getSpaceString(e.meta.size,n,Object(U.i18n)("ru","entities","ufo_number_separator"));t.mediatype=e.meta.mediatype,t.defaultPreview=e.meta.defaultPreview,t.canPlayVideo=Object(zt.a)(e)===V.f.VIDEO;var o=1e3*e.modified,i=dn()(o,Object(U.i18n)("ru","entities","ufo_format_date-month-year")),a=dn()(o,Object(U.i18n)("ru","entities","ufo_format_hour-minute"));t.additionalFields=[{type:"date",themes:["row"],content:i},{type:"time",themes:["row"],content:a},{type:"size",themes:["row"],content:r}]}return t}},{key:"render",value:function(){var e=this,t=this.props,n=t.resources,r=t.resource,i=t.isRoot,a=t.selectedResources,s=t.isMobile,c=t.OSFamily,l=t.isMsieOrEdge,p=t.listingType,f=n.map(this._prepareResource),d=this._prepareResource(r),h=!i;d.iconType=h?"back":"gray",d.onSelect=h?this._onBackClick:bn,d.onOpen=h?this._onBackClick:bn;var m=void 0;switch(p){case"tile":m={theme:"tile",size:"l"};break;case"icons":m={theme:"tile",size:"m"};break;default:m={titleOverflow:"clamp",theme:"row"}}var y=Object.assign({onResourceOpen:this._onResourceOpen,onSelectionChanged:this._onSelectionChanged,isSelectable:!0,isMultiSelectable:!1,selectedResources:a,isTouch:s,OSFamily:c,requestFetchNext:this._requestFetchNext,loading:r.loading,completed:r.completed,resources:f,onPlayVideoClick:this._onResourceOpen,shouldListenWindowScroll:!l,ref:function(t){e._listing=t}},m);return o.a.createElement("div",{className:yn()},o.a.createElement("div",{className:yn().e("header")},o.a.createElement(u,{listingType:p,onListingTypeChange:this._onListingTypeChange}),o.a.createElement(en.a,hn({cls:yn().e("current").m({root:Boolean(i)}),modifier:"current",theme:"row",resourceRef:bn},d)),o.a.createElement(cn,{hasIcons:!0,hasAntiFileSharingTooltip:!0})),o.a.createElement("div",{className:yn().e("header-shadow")}),o.a.createElement("div",{className:yn().e("header-shadow-overlay")}),o.a.createElement(Qt,y))}}]),t}(),gn=Object(s.b)(function(e){var t=e.resources,n=e.selectedResources,r=e.currentResourceId,o=e.rootResourceId,i=e.overlays.sliderResourceId,a=e.ua,s=a.isMobile,u=a.OSFamily,c=a.BrowserName,l=e.listingType,p=t[r];return{isRoot:r===o,sliderResourceId:i,resources:p.children.map(function(e){return t[e]}),selectedResources:n,resource:p,isMobile:s,OSFamily:u,isMsieOrEdge:["MSIE","Edge"].includes(c),listingType:l}},{openSlider:A.u,openDV:A.n,fetchNextPortion:N.d,setCurrentResource:N.g,setSelectedResources:A.z,setListingType:A.y})(_n),On=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var wn=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i.state={contextMenu:{resourceId:i.props.resourceId,visible:!1}},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),On(t,[{key:"render",value:function(){return o.a.createElement("div",{className:this.props.cls||""},o.a.createElement(gn,null),o.a.createElement($t,{enabledGestures:this.props.isMobile?[et.SWIPE_TO_CLOSE,et.SWIPE_TO_CHANGE,et.DOUBLE_TAP_TO_ZOOM,et.PINCH_TO_ZOOM,et.MOVE_ZOOMED]:[et.MOVE_ZOOMED,et.WHEEL_TO_ZOOM]}))}}]),t}(),En=Object(s.b)(function(e){var t=e.ua.isMobile,n=e.resources;return{isMobile:t,resourceId:e.rootResourceId,allResources:n}})(wn),kn=n(32),Cn=(n(327),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var xn=function(){return l()()("content")},Tn=function(e){return Object(Ut.f)("audio player",e)},Sn=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(o)));return a.state={hideToolbar:!1,slider:!1},a._onVideoPlaybackStateChange=a._onVideoPlaybackStateChange.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Cn(t,[{key:"componentDidMount",value:function(){this.props.view===V.f.VIDEO&&Object(Ut.m)("show"),this.props.virus&&this.props.notify({mode:V.c.ERROR_TEXT,text:Object(U.i18n)("ru","entity-resource","ufo_resource__virused")})}},{key:"render",value:function(){switch(this.props.view){case V.f.DIR:return o.a.createElement(En,{cls:xn().m({other:!0,dir:!0,"with-mobile-bottom-direct":this.props.withMobileBottomDirect})});case V.f.VIDEO:return this._getVideo();case V.f.IMAGE:return this._getImage();default:return this._getAudioOrDocument()}}},{key:"_getPreviewAndName",value:function(){var e=this.props,t=e.isMobile,n=e.name,r=e.resourceId,i=e.canOpenInDV,a=e.openDV,s=!t&&i,u=function(){Object(Ut.f)("open in DV"),a(r)};return[s?o.a.createElement(W.a,{cls:xn().e("hover"),target:"_blank",theme:"normal",onClick:u,key:"hover"}):null,o.a.createElement("div",{className:xn().e("preview-wrapper"),key:"preview"},s?o.a.createElement(at.a,{theme:"raised",size:"n",view:"default",tone:"default",pin:"circle-circle",cls:xn().e("view-button"),onClick:u},o.a.createElement(st.a,{keyset:"actions",loc:"ufo_resource_view"})):null,o.a.createElement(Q,{resourceId:r})),o.a.createElement(p,{name:n,key:"filename"})]}},{key:"_getAudioOrDocument",value:function(){var e=this.props,t=e.view,n=e.resourceId;return o.a.createElement("div",{className:xn().m({other:!0,"with-mobile-bottom-direct":this.props.withMobileBottomDirect})},o.a.createElement(u,null),o.a.createElement("div",{className:xn().e("centered")},o.a.createElement("div",{className:xn().e("hover-wrapper")},"audio"===t?o.a.createElement(H,{resourceId:n,detectPlayability:!0,countMetrika:Tn}):this._getPreviewAndName()),o.a.createElement(cn,{hasIcons:!0,hasAntiFileSharingTooltip:!0})))}},{key:"_getImage",value:function(){var e=void 0,t=this.props,n=t.isMobile,r=t.resourceId,i=t.xxxlPreview,a=t.defaultPreview,s=t.previewLoadFailed,c=t.openSlider,l=t.name,f=function(){return c(r)};return e=[o.a.createElement("div",{className:xn().e("image-wrapper").m({"preview-failed":s}),key:"preview"},o.a.createElement("div",{className:xn().e("gradient"),onClick:f}),o.a.createElement(X,{resourceId:r,className:xn().e("image-preview"),src:n?i:a+"&size=2048x2048",onClick:f}),o.a.createElement(u,null)),o.a.createElement(p,{key:"filename",name:l}),o.a.createElement(cn,{hasIcons:!0,key:"action-buttons",hasAntiFileSharingTooltip:!0}),this._getSingleResourceSlider()],o.a.createElement("div",{className:xn().m({image:!0,"with-mobile-bottom-direct":this.props.withMobileBottomDirect})},e)}},{key:"_getVideo",value:function(){var e=this.props,t=e.resourceId,n=e.name,r=void 0,i=e.isSmartphone?"width":"height";return r=[o.a.createElement(d.a,{key:"video",fitTo:i,cls:xn().e("video-player").m({"fit-to":i}),resourceId:t,onPlaybackStateChange:this._onVideoPlaybackStateChange,toolbar:[o.a.createElement("div",{key:"gradient",className:xn().e("gradient")}),o.a.createElement(u,{key:"toolbar"})],displayType:"preview"}),o.a.createElement(p,{key:"filename",name:n}),o.a.createElement(cn,{hasIcons:!0,key:"action-buttons",hasAntiFileSharingTooltip:!0})],o.a.createElement("div",{className:xn().m({video:!0,"hide-toolbar":this.state.hideToolbar,"with-mobile-bottom-direct":this.props.withMobileBottomDirect})},r)}},{key:"_getSingleResourceSlider",value:function(){var e=this.props.isMobile,t={key:"slider",enabledGestures:e?[et.DOUBLE_TAP_TO_ZOOM,et.PINCH_TO_ZOOM,et.MOVE_ZOOMED]:[et.MOVE_ZOOMED,et.WHEEL_TO_ZOOM]};return e&&t.enabledGestures.push(et.SWIPE_TO_CLOSE),o.a.createElement($t,t)}},{key:"_onVideoPlaybackStateChange",value:function(e){this.state.hideToolbar!==e&&this.setState({hideToolbar:e}),e&&Object(Ut.m)("play")}}]),t}(),Pn=Object(s.b)(function(e){var t=e.resources,n=e.rootResourceId,r=e.ua,o=r.isMobile,i=r.isSmartphone,a=t[n],s=a.meta,u=s.xxxlPreview,c=s.defaultPreview,l=s.previewLoadFailed,p=a.name,f=a.dvSearch,d=a.virus;return{isMobile:o,isSmartphone:i,resourceId:n,view:Object(zt.a)(a),withMobileBottomDirect:Object(kn.a)(e)&&Object(kn.b)(e),virus:d,xxxlPreview:u,defaultPreview:c,previewLoadFailed:l,canOpenInDV:!!f,name:p}},{openSlider:A.u,openDV:A.n,notify:z.c})(Sn),jn=(n(328),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var In=function(){return l()()("error")},Rn=n(91).default,Mn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),jn(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.errorCode,n=e.blocked?"blocked":404===t?"removed":t;Object(Ut.f)("error",n)}},{key:"render",value:function(){var e=this.props,t=e.errorCode,n=e.blocked,r=e.legal,i=e.noAdv,a=e.isMobile,s=null,u=null,c=404===t;return n?(s=o.a.createElement(st.a,{keyset:"public-error-pages",loc:"ufo_blocked__caption"}),u=o.a.createElement(st.a,{keyset:"public-error-pages",loc:"ufo_blocked__description"})):c?(s=o.a.createElement(st.a,{keyset:"public-error-pages",loc:"ufo_not_found__caption"}),u=o.a.createElement(st.a,{keyset:"public-error-pages",loc:"ufo_not_found__description"})):u=o.a.createElement(st.a,{keyset:"public-error-pages",loc:"ufo_error_server"}),o.a.createElement("div",{className:In()},o.a.createElement("div",{className:In().e("icon").m({blocked:n,"broken-link":c,warning:!(n||c)})}),s?o.a.createElement("div",{className:In().e("title")},s):null,o.a.createElement("div",{className:In().e("description")},u),n?o.a.createElement(W.a,{target:"_blank",theme:"normal",url:r+"/ugc_takedown/"},o.a.createElement(st.a,{keyset:"view-aside-public",loc:"ufo_aside_public_blocked_about"})):null,i||a?null:o.a.createElement(Rn,{position:"bottom"}))}}]),t}(),Dn=Object(s.b)(function(e){var t=e.resources,n=e.rootResourceId,r=e.services.legal,o=e.environment.noAdv,i=e.ua.isMobile,a=t[n];return{errorCode:a.errorCode,blocked:a.blocked,legal:r,noAdv:o,isMobile:i}})(Mn),An=(n(331),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var Ln=function(){return l()()("pane")},Nn=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._pane=null,i._callOpenOnTransitionEnd=!1,i._callCloseOnTransitionEnd=!1,i._onTransitionEnd=i._onTransitionEnd.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),An(t,[{key:"componentWillReceiveProps",value:function(e){e.active!==this.props.active&&(e.active?this._callOpenOnTransitionEnd=!0:this._callCloseOnTransitionEnd=!0)}},{key:"_onTransitionEnd",value:function(e){e.target===this._pane&&(this._callOpenOnTransitionEnd&&(this.props.onOpen(),this._callOpenOnTransitionEnd=!1),this._callCloseOnTransitionEnd&&(this.props.onClose(),this._callCloseOnTransitionEnd=!1))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:Ln().m({type:this.props.type,active:this.props.active,scrollable:this.props.scrollable}),onTransitionEnd:this._onTransitionEnd,ref:function(t){e._pane=t}},"open-app"===this.props.type?null:o.a.createElement("div",{className:Ln().e("head")},o.a.createElement("div",{className:Ln().e("title")},this.props.title),o.a.createElement(at.a,{cls:Ln().e("close-button"),theme:"clear",size:"m",onClick:this.props.requestClose},o.a.createElement(Pt,null))),o.a.createElement("div",{className:Ln().e("content")},this.props.children))}}]),t}(),zn=(n(332),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var Un=function(){return l()()("info-pane")},Vn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),zn(t,[{key:"componentDidMount",value:function(){Object(Ut.e)("show")}},{key:"componentWillUnmount",value:function(){Object(Ut.e)("close")}},{key:"render",value:function(){var e=this.props,t=e.isMobile,n=e.resource,r=e.owner,i=e.isFromTopbar,a=n.name,s=n.modified,u=n.type,c=n.meta,l=c.size,p=c.files_count,f=c.views_counter,d=c.download_counter,h=c.drweb,m="dir"===u,y=Object(U.i18n)("ru","lists","sizes").split("|"),v=pn.a.getSpaceString(l,y,Object(U.i18n)("ru","entities","ufo_number_separator")),b=dn()(1e3*s,Object(U.i18n)("ru","entities","ufo_format_date-month-year-time"));return o.a.createElement("div",{className:Un().m({tooltip:i&&!t})},i&&t&&o.a.createElement("div",{className:Un().e("title")},m?Object(U.i18n)("ru","entities","info_about_folder"):Object(U.i18n)("ru","entities","info_about_file")),o.a.createElement("div",{className:Un().e("row").m({name:!0})},o.a.createElement(st.a,{keyset:"entity-resource",loc:"ufo_resource__name"}),":",o.a.createElement("span",{className:Un().e("value")},a)),r?o.a.createElement("div",{className:Un().e("row").m({owner:!0})},o.a.createElement(st.a,{keyset:"entities",loc:"ufo_owner"}),":",o.a.createElement("span",{className:Un().e("value")},r)):null,l||0===l?o.a.createElement("div",{className:Un().e("row").m({size:!0})},o.a.createElement(st.a,{keyset:"entity-resource",loc:"ufo_resource__property_size"}),":",o.a.createElement("span",{className:Un().e("value")},v)):null,p||0===p?o.a.createElement("div",{className:Un().e("row").m({"file-count":!0})},o.a.createElement(st.a,{keyset:"view-aside",loc:"ufo_aside__files_count"}),":",o.a.createElement("span",{className:Un().e("value")},p)):null,o.a.createElement("div",{className:Un().e("row").m({modified:!0})},m?o.a.createElement(st.a,{keyset:"entity-resource",loc:"ufo_folder__property_mtime"}):o.a.createElement(st.a,{keyset:"entity-resource",loc:"ufo_resource__property_mtime"}),":",o.a.createElement("span",{className:Un().e("value")},b)),f||0===f?o.a.createElement("div",{className:Un().e("row").m({views:!0})},o.a.createElement(st.a,{keyset:"view-public",loc:"ufo_views"}),":",o.a.createElement("span",{className:Un().e("value")},f)):null,d||0===d?o.a.createElement("div",{className:Un().e("row").m({downloads:!0})},m?o.a.createElement(st.a,{keyset:"entity-resource",loc:"ufo_resource__property_download_folder"}):o.a.createElement(st.a,{keyset:"entity-resource",loc:"ufo_resource__property_download_file"}),":",o.a.createElement("span",{className:Un().e("value")},o.a.createElement(st.a,{keyset:"entities",loc:"ufo_n_times",count:d}))):null,1===h?o.a.createElement("div",{className:Un().e("row").m({virus:!0})},o.a.createElement(st.a,{keyset:"view-aside-public",loc:"ufo_drweb_ok"})):null)}}]),t}(),Bn=Object(s.b)(function(e,t){var n=e.ua.isMobile,r=e.rootResourceId,o=e.resources,i=e.users,a=t.resourceId,s=o[a];return{isMobile:n,resource:s,owner:r===a?i[s.uid].displayName:""}})(Vn),Fn=n(26),Hn=n(56),Wn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Gn=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._scrollTo=i._scrollTo.bind(i),i._onScroll=i._onScroll.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Wn(t,[{key:"getChildContext",value:function(){return{scrollTo:this._scrollTo}}},{key:"componentDidMount",value:function(){this.props.onScroll&&this._container.addEventListener("scroll",this._onScroll)}},{key:"componentWillUnmount",value:function(){this._container.removeEventListener("scroll",this._onScroll)}},{key:"_onScroll",value:function(e){this.props.onScroll(e,this._container.scrollTop)}},{key:"_scrollTo",value:function(e){return e.scrollIntoView(),Promise.resolve()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:l()()("scrollable"),ref:function(t){e._container=t}},this.props.children)}}]),t}();Gn.childContextTypes={scrollTo:m.a.func};var qn=Gn,Kn=(n(333),qn),Yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Zn=function(e){var t=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r.Component),Xn(n,[{key:"componentDidUpdate",value:function(e){var t=this;!e.scrollToNode&&this.props.scrollToNode&&setTimeout(function(){t.context.scrollTo(t._node).then(function(){t.props.onScrollComplete()})},0)}},{key:"render",value:function(){var t=this;return o.a.createElement(e,Yn({},this.props,{ref:function(e){t._node=e&&a.a.findDOMNode(e)}}))}}]),n}();return t.propTypes={scrollToNode:m.a.bool,onScrollComplete:m.a.func},t.defaultProps={onScrollComplete:function(){}},t.contextTypes={scrollTo:m.a.func},t},$n=n(214),Jn=n.n($n).a,Qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},er=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var tr=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._updateHeight=i._updateHeight.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),er(t,[{key:"_updateHeight",value:function(){this._textarea.style.height="0px",this._textarea.style.height=this._textarea.scrollHeight+2+"px"}},{key:"componentDidMount",value:function(){this._updateHeight(),window.addEventListener("resize",this._updateHeight)}},{key:"componentDidUpdate",value:function(e){e.text!==this.props.text&&this._updateHeight()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._updateHeight)}},{key:"getTextareaRef",value:function(){return this._textarea}},{key:"render",value:function(){var e=this,t=Object.assign(this.props.controlAttrs||{},{cols:"auto",rows:"auto"}),n=["dynamic-textarea"];return this.props.cls&&n.push(this.props.cls),o.a.createElement(Jn,Qn({},this.props,{cls:n.join(" "),controlAttrs:t,ref:function(t){e._textarea=t&&t._control}}))}}]),t}(),nr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var rr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),nr(t,[{key:"render",value:function(){var e=Number(this.props.size),t="avatar",n={};return this.props.url&&(n.backgroundImage="url("+this.props.url+")"),isNaN(e)?t+=" avatar_size_"+this.props.size:(n.width=e+"px",n.height=e+"px"),this.props.cls&&(t+=" "+this.props.cls),o.a.createElement("div",{className:t,style:n})}}]),t}();rr.propTypes={size:m.a.oneOfType([m.a.number,m.a.oneOf(["xxs","xs","s","m","l","xl"])]),url:m.a.string},rr.defaultProps={size:"m"};var or=rr,ir=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ar=function(){return l()()("comment-form")},sr=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i.state={commentText:i.props.value,errorText:""},i._onTexareaChange=i._onTexareaChange.bind(i),i._onTextareaKeyPress=i._onTextareaKeyPress.bind(i),i._onSubmit=i._onSubmit.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ir(t,[{key:"componentWillReceiveProps",value:function(e){"progress"===this.props.submitingState&&"success"===e.submitingState&&this.setState({commentText:""}),"progress"===this.props.submitingState&&"error"===e.submitingState&&this.setState({errorText:e.errorText})}},{key:"focusTextarea",value:function(){var e=this;this._textarea.focus(),this.props.scrollOnFocus&&"function"==typeof this._form.scrollIntoView&&setTimeout(function(){e._form.scrollIntoView()},500)}},{key:"_onTexareaChange",value:function(e){this.setState({commentText:e,errorText:""}),this.props.onChange(e)}},{key:"_onTextareaKeyPress",value:function(e){e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||"Enter"!==e.key||(e.preventDefault(),this._submit())}},{key:"_onSubmit",value:function(e){e.preventDefault(),this._submit()}},{key:"_submit",value:function(){var e=this.state.commentText;e&&e.trim()&&this.props.onSubmit(e)}},{key:"render",value:function(){var e=this,t=Boolean(this.state.errorText);return o.a.createElement("form",{ref:function(t){e._form=t},className:ar().m({reply:this.props.isReply}),onSubmit:this._onSubmit},o.a.createElement(or,{size:this.props.isReply?"xs":"m",cls:ar().e("avatar"),url:this.props.avatarUrl}),o.a.createElement("div",{className:ar().e("input")},o.a.createElement(tr,{cls:ar().e("textarea").m({error:t}),ref:function(t){e._textarea=t&&t.getTextareaRef()},disabled:"progress"===this.props.submitingState,theme:"normal",size:"s",placeholder:this.props.i18n.placeholder,onChange:this._onTexareaChange,controlAttrs:{onKeyPress:this._onTextareaKeyPress},text:this.state.commentText})))}}]),t}();sr.propTypes={onChange:m.a.func,onSubmit:m.a.func},sr.defaultProps={onChange:function(){},onSubmit:function(){}};var ur=sr,cr=n(18),lr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var pr=function(){return l()()("comments")},fr=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i.state={isFormVisible:!1,isCommentsVisible:!0},i.toggleCommentForm=i.toggleCommentForm.bind(i),i._onLoadBeforeClick=i._onLoadBeforeClick.bind(i),i._onLoadAfterClick=i._onLoadAfterClick.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),lr(t,[{key:"getChildContext",value:function(){return{toggleCommentForm:this.toggleCommentForm}}},{key:"componentDidMount",value:function(){this.props.isReplies&&this.context.setChildComments(this)}},{key:"componentDidUpdate",value:function(){this._focusOnUpdate&&this._form&&this._form.focusTextarea(),this._focusOnUpdate=!1}},{key:"toggleCommentForm",value:function(){var e=!this.state.isFormVisible;this.setState({isFormVisible:e}),e&&(this._focusOnUpdate=!0)}},{key:"toggleComments",value:function(){this.setState({isCommentsVisible:!this.state.isCommentsVisible})}},{key:"_getForm",value:function(){var e=this;return!(!this.props.onFormSubmit||this.props.isReplies&&!this.state.isFormVisible)&&o.a.createElement(ur,{ref:function(t){e._form=t},scrollOnFocus:this.props.scrollOnFocus,submitingState:this.props.addingCommentState,errorText:this.props.addingCommentErrorText,isReply:this.props.isReplies,avatarUrl:this.props.authorAvatarUrl,onSubmit:function(t){return e.props.onFormSubmit(t)},onChange:this.props.onFormChange,value:this.props.formValue,i18n:this.props.i18n.form})}},{key:"_onLoadBeforeClick",value:function(){this.props.onLoadMoreClick("before")}},{key:"_onLoadAfterClick",value:function(){this.props.onLoadMoreClick("after")}},{key:"_getLoadMore",value:function(e){var t="before"===e?this._onLoadBeforeClick:this._onLoadAfterClick,n=this.props.isReplies&&this.props.i18n.loadMoreReplies||this.props.i18n.loadMore;return o.a.createElement("div",{key:"load-more-"+e,className:pr().e("load-more")},o.a.createElement(cr.a,{theme:"normal",onClick:t},n),o.a.createElement(ut.a,{progress:this.props.loadMoreState===e,cls:pr().e("load-more-spin"),size:"xxs"}))}},{key:"_getComments",value:function(){if(this.state.isCommentsVisible){var e=[];return this.props.hasItemsBefore&&e.push(this._getLoadMore("before")),e=e.concat(this.props.children),this.props.hasItemsAfter&&e.push(this._getLoadMore("after")),e}}},{key:"render",value:function(){return o.a.createElement("div",{className:pr().m({replies:this.props.isReplies})},this._getComments(),this._getForm())}}]),t}();fr.propTypes={isReplies:m.a.bool,hasItemsBefore:m.a.bool,hasItemsAfter:m.a.bool,loadMoreState:m.a.string,onLoadMoreClick:m.a.func,onFormSubmit:m.a.func,onFormChange:m.a.func,formValue:m.a.string,addingCommentState:m.a.oneOf(["","progress","error","success"]),addingCommentErrorText:m.a.string},fr.defaultProps={onLoadMoreClick:function(){},onFormChange:function(){}},fr.childContextTypes={toggleCommentForm:m.a.func},fr.contextTypes={setChildComments:m.a.func};var dr=fr,hr=(n(335),n(87),n(336),dr),mr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var yr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g["a"]),mr(t,[{key:"getContentSVG",value:function(){return o.a.createElement("path",{d:"m3.7 3.7 8.5 8.5m-8.5 0 8.5-8.5",strokeWidth:"2",stroke:"currentColor"})}}]),t}(),vr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var br=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g["a"]),vr(t,[{key:"getContentSVG",value:function(){return o.a.createElement("path",{d:"M8.504 9.002s2.28-.17 3.97 1.164c1.623 1.28 1.54 3.347 1.54 3.347V14H16v-.486s-.085-3.417-2.464-5.072c-2.38-1.654-5.032-1.435-5.032-1.435H3.76l4.584-4.59L6.93 1 1.423 6.515 0 7.92l1.414 1.434L7.068 15l1.414-1.416-4.575-4.582h4.597z",fill:"currentColor"})}}]),t}(),_r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var gr=[{match:function(e,t){return t-e<5e4},template:function(e){return e.justNow},timeout:6e4},{match:function(e,t){return t-e<36e5},template:function(e,t,n){return e.nMinutesAgo(Math.round(n/6e4))},timeout:6e4},{match:function(e,t){return t-e<216e5},template:function(e,t,n){return e.nHoursAgo(Math.round(n/36e5))},timeout:36e5},{match:function(e,t){return function(e,t){return e.toDateString()===t.toDateString()}(e,t)},template:function(e,t){return dn()(t,e.formatHourMinute,e.monthsNominative,e.monthsGenitive)},timeout:36e5},{match:function(e){var t=function(e,t){return new Date(new Date(e).setDate(e.getDate()-t))}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,1);return e.toDateString()===t.toDateString()},template:function(e,t){return e.formatYesterdayTime(dn()(t,e.formatHourMinute,e.monthsNominative,e.monthsGenitive))},timeout:36e5},{match:function(e,t){return e.getFullYear()===t.getFullYear()},template:function(e,t){return dn()(t,e.formatDateMonthTime,e.monthsNominative,e.monthsGenitive)}},{match:function(){return!0},template:function(e,t){return dn()(t,e.formatDateMonthYearTime,e.monthsNominative,e.monthsGenitive)}}],Or=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i.state=Object.assign(i.getState(),{fullDate:gr[gr.length-1].template(i.props.i18n,new Date(i.props.time))}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),_r(t,[{key:"componentDidMount",value:function(){this.initUpdate()}},{key:"componentWillReceiveProps",value:function(e){var t=e.time;t!==this.props.time&&(this.clearTimeout(),this.setState(this.getState(t)))}},{key:"componentDidUpdate",value:function(){this.initUpdate()}},{key:"componentWillUnmount",value:function(){this.clearTimeout()}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){clearTimeout(this._ticking),this._ticking=!1})},{key:"initUpdate",value:function(){var e=this;!this._ticking&&this.state.timeout&&(this._ticking=setTimeout(function(){e._ticking=!1,e.setState(e.getState())},this.state.timeout))}},{key:"getState",value:function(e){var t=this,n=new Date(e||this.props.time),r=new Date,o=null,i=null;return gr.some(function(e){return!!e.match(n,r)&&(o=e.template(t.props.i18n,n,r-n),i=e.timeout,!0)}),{date:o,timeout:i}}},{key:"render",value:function(){return o.a.createElement("span",{className:"relative-date",title:this.state.fullDate},this.state.date)}}]),t}(),wr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Er=function(){return l()()("comment")},kr=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onRepliesTogglerClick=i._onRepliesTogglerClick.bind(i),i._setChildComments=i._setChildComments.bind(i),i._onReplyClick=i._onReplyClick.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),wr(t,[{key:"getChildContext",value:function(){return{setChildComments:this._setChildComments}}},{key:"_setChildComments",value:function(e){this._childComments=e}},{key:"_getDeleteButton",value:function(){return this.props.onDeleteComment?o.a.createElement(b.a,{size:"s",theme:"clear",cls:Er().e("delete"),onClick:this.props.onDeleteComment},o.a.createElement(yr,null)):null}},{key:"_onReplyClick",value:function(){this.props.isReply?this.context.toggleCommentForm():this._childComments.toggleCommentForm(),this.props.onReplyClick()}},{key:"_onRepliesTogglerClick",value:function(){this._childComments.toggleComments()}},{key:"_getRepliesToggler",value:function(){return this.props.isReply||!this.props.replies_count?null:o.a.createElement("div",{className:Er().e("replies-toggler-wrapper")},o.a.createElement(cr.a,{theme:"normal",onClick:this._onRepliesTogglerClick},this.props.i18n.repliesCount(this.props.replies_count)))}},{key:"_getComment",value:function(){return o.a.createElement("div",{className:Er().m({reply:this.props.isReply})},o.a.createElement("div",{className:Er().e("comment").m({selected:this.props.selected})},o.a.createElement("div",{className:Er().e("avatar")},o.a.createElement(or,{url:this.props.avatarUrl,size:this.props.isReply?"xs":"m"})),o.a.createElement("div",{className:Er().e("body")},o.a.createElement("div",{className:Er().e("head")},this._getDeleteButton(),o.a.createElement("span",{className:Er().e("author")},this.props.username),o.a.createElement(cr.a,{theme:"normal",cls:Er().e("time"),onClick:this.props.onSelect},o.a.createElement(Or,{time:this.props.date,i18n:this.props.i18n.relativeDate}))),o.a.createElement("div",{className:Er().e("text")},this.props.text),o.a.createElement("div",{className:Er().e("foot")},o.a.createElement("div",{className:Er().e("attitudes")},this.props.attitudes),o.a.createElement("div",{className:Er().e("controls")},o.a.createElement(b.a,{cls:Er().e("reply-button"),theme:"clear",size:"s",onClick:this._onReplyClick},o.a.createElement(br,null),this.props.i18n.replyLabel))),this._getRepliesToggler())),this.props.children)}},{key:"_getDeletedComment",value:function(){return o.a.createElement("div",{className:Er().m({deleted:!0,reply:this.props.isReply})},o.a.createElement("span",{className:Er().e("label-deleted")},this.props.isReply?this.props.i18n.deletedReplyLabel:this.props.i18n.deletedCommentLabel),o.a.createElement(cr.a,{theme:"normal",onClick:this.props.onRestoreComment},this.props.i18n.restoreLabel))}},{key:"render",value:function(){return this.props.isDeleted?this._getDeletedComment():this._getComment()}}]),t}();kr.propTypes={attitudes:m.a.element,onReplyClick:m.a.func},kr.defaultProps={onReplyClick:function(){}},kr.contextTypes={toggleCommentForm:m.a.func},kr.childContextTypes={setChildComments:m.a.func};var Cr=kr,xr=(n(337),Cr),Tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Pr=function(e){var t=function(t){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(r)));return i._onLikeButtonClick=i._onLikeButtonClick.bind(i),i._onDislikeButtonClick=i._onDislikeButtonClick.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r.Component),Sr(n,[{key:"_toggleValue",value:function(e){e===this.props.value?this.props.onChange(""):this.props.onChange(e)}},{key:"_onLikeButtonClick",value:function(){this._toggleValue("like")}},{key:"_onDislikeButtonClick",value:function(){this._toggleValue("dislike")}},{key:"render",value:function(){var t=Object.assign({},this.props);return delete t.value,delete t.onChange,delete t.likesCount,delete t.dislikesCount,delete t.actors,o.a.createElement("div",{className:l()()("attitudes")},o.a.createElement(e,Tr({type:"like",checked:"like"===this.props.value,count:this.props.likesCount,onClick:this._onLikeButtonClick,actors:this.props.actors&&this.props.actors.like},t)),o.a.createElement(e,Tr({type:"dislike",checked:"dislike"===this.props.value,count:this.props.dislikesCount,onClick:this._onDislikeButtonClick,actors:this.props.actors&&this.props.actors.dislike},t)))}}]),n}();return t.propTypes={theme:m.a.oneOf(["normal","clear"]),size:m.a.string,likesCount:m.a.number,dislikesCount:m.a.number,value:m.a.oneOf(["like","dislike",""]),onChange:m.a.func},t.defaultProps={likesCount:0,dislikesCount:0,onChange:function(){}},t},jr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ir=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g["a"]),jr(t,[{key:"getClassName",value:function(e){var t=this.props.type||"like";return e.m(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,!0))}},{key:"getContentSVG",value:function(){return"dislike"===this.props.type?o.a.createElement("path",{d:"M14.273 8.563c.106-.854-.42-1.244-.42-1.604 0-.592.557-1.28.388-1.98-.107-.447-1.012-.852-1.324-1.042-.335-.205-.4-.75-.416-1.146-.03-.75-.812-.685-1.242-1.464-.168-.306-.22-.804-.784-1.15C10.058-.076 8.71-.01 7.178.085 4.412.257 1.85 1.848 0 1.848v6.165h3.388c.287 0 .45.348.75 1.027.473 1.065 1.22 1.537 1.655 2.1.433.564.802 1.21.983 1.692.324.858.53 1.605.683 2.604.14.92 1.442.71 1.85-.35.35-.907.305-1.916.048-2.947-.273-1.09-.468-1.318-.356-2.14 1.126 0 1.685-.02 3.206-.02 1.25 0 1.955-.528 2.065-1.417z",fill:"currentColor",fillRule:"evenodd"}):o.a.createElement("path",{d:"M14.273 7.455c.106.854-.42 1.244-.42 1.604 0 .59.557 1.28.388 1.98-.107.445-1.012.85-1.324 1.04-.335.205-.4.75-.416 1.146-.03.75-.812.685-1.242 1.464-.168.306-.22.804-.784 1.15-.416.254-1.764.188-3.296.093C4.412 15.76 1.85 14.17 0 14.17V8.005h3.388c.287 0 .45-.348.75-1.027.473-1.065 1.22-1.537 1.655-2.1.433-.564.802-1.21.983-1.692.324-.858.53-1.605.683-2.604.14-.92 1.442-.71 1.85.35.35.907.305 1.916.048 2.947-.273 1.09-.468 1.316-.356 2.14 1.126 0 1.685.02 3.206.02 1.25 0 1.955.526 2.065 1.415z",fill:"currentColor",fillRule:"evenodd"})}}]),t}();Ir.propTypes={type:m.a.oneOf(["like","dislike"])};var Rr=Ir,Mr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Dr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Mr(t,[{key:"render",value:function(){var e=Object.assign({},this.props);return delete e.type,delete e.count,"normal"===e.theme&&(e.pin="like"===this.props.type?"round-brick":"clear-round",e.view="default",e.tone="default"),e.type="check",e.cls=l()()("attitude-button").m({type:this.props.type}),o.a.createElement(b.a,e,o.a.createElement(Rr,{type:this.props.type}),String(this.props.count))}}]),t}();Dr.propTypes={type:m.a.oneOf(["like","dislike"]),count:m.a.number,theme:m.a.string,size:m.a.string},Dr.defaultProps={theme:"normal",size:"s"};var Ar=Dr,Lr=(n(338),Ar),Nr=n(109),zr=n.n(Nr),Ur=(n(339),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var Vr=function(){return l()()("comments-wrapper")},Br=Pr(Lr),Fr=Zn(xr),Hr=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onScroll=i._onScroll.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Ur(t,[{key:"componentDidMount",value:function(){var e=this;this.props.fetchComments({entityId:this.props.entityId,reset:!0}).then(function(){e.props.selectedComment&&(e.props.selectComment(e.props.selectedComment),e.props.scrollToComment(e.props.selectedComment))}),Object(Ut.a)("show")}},{key:"_getComment",value:function(e,t){var n=this,r=o.a.createElement(Br,{size:"xs",theme:"clear",value:e.my_attitude,likesCount:e.likes_count,dislikesCount:e.dislikes_count,onChange:function(r){n.props.setAttitude(n.props.entityId,e.comment_id,r,e.my_attitude),r?Object(Ut.a)(r+" on",t?"reply":"comment"):Object(Ut.a)(e.my_attitude+" off",t?"reply":"comment")}}),i={key:e.comment_id,avatarUrl:e.user.avatarUrl,username:e.user.display_name,text:e.text,date:e.created,attitudes:r,isReply:t,replies_count:e.replies_count,selected:e.selected,onSelect:function(){n.props.selectComment(e.comment_id),Object(Ut.a)("click on time",t?"reply":"comment")},scrollToNode:e.scrollToNode,onReplyClick:function(){Object(Ut.a)("click reply link",t?"reply":"comment")},i18n:zr()().comment},a=e.author_id===parseInt(this.props.user.id,10);(this.props.entity.actions.includes("clean")||a)&&Object.assign(i,{isDeleted:e.deleted,onRestoreComment:function(){n.props.restoreComment(n.props.entityId,e.comment_id),Object(Ut.a)("restore",t?"reply":"comment")},onDeleteComment:function(){n.props.deleteComment(n.props.entityId,e.comment_id),Object(Ut.a)("delete",t?"reply":"comment")}});var s=null;return e.replies&&(s=this._getComments(e,e.replies)),o.a.createElement(Fr,i,s)}},{key:"_getEntityAttitudes",value:function(){var e=this,t=this.props.entity;return o.a.createElement("div",{key:"attitudes",className:Vr().e("entity-attitudes")},o.a.createElement(Br,{size:"s",theme:"normal",value:t.my_attitude,likesCount:t.likes_count,dislikesCount:t.dislikes_count,onChange:function(n){e.props.setAttitude(e.props.entityId,0,n,t.my_attitude),n?Object(Ut.a)(n+" on","public link"):Object(Ut.a)(t.my_attitude+" off","public link")}}))}},{key:"_getComments",value:function(e,t){var n=this,r=e.comment_id||0,i=Boolean(r),a={isReplies:i,hasItemsBefore:e.has_items_before,hasItemsAfter:e.has_items_after,loadMoreState:e.loadMoreState,onLoadMoreClick:function(e){n.props.loadMore(n.props.entityId,r,e);var t={before:"previous",after:"more"}[e];Object(Ut.a)("show "+t,r?"replies":"comments")},i18n:zr()()};return i&&Object.assign(a,{scrollOnFocus:this.props.scrollOnFocus},this._getCommentFormProps(e)),o.a.createElement(hr,a,t.map(function(e){return n._getComment(e,Boolean(r))}))}},{key:"_getCommentFormProps",value:function(e){var t=this,n=e.comment_id||0,r=Boolean(n);return{authorAvatarUrl:this.props.yapicOrigin+"/get/"+this.props.user.id+"/islands-middle",addingCommentState:e.addingCommentState,addingCommentErrorText:e.addingCommentError,onFormSubmit:function(e){t.props.addComment(t.props.entityId,n,e).then(function(e){e&&e.noScroll||t.props.scrollOnCommentSent&&t.props.scrollToComment(t.props.lastAddedCommentId)}),Object(Ut.a)("send",r?"reply":"comments")},formValue:this.props.storedData[n],onFormChange:function(e){t.props.saveTextareaValue(n,e)}}}},{key:"_onScroll",value:function(e,t){this._container.closest(".pane").classList.toggle("pane_scrolled",Boolean(t))}},{key:"render",value:function(){var e=this,t=void 0,n=this.props.root.fetchingComments||!this.props.readyForRender;if(n)t=o.a.createElement(Dt,{cls:Vr().e("spin"),size:"m",progress:!0});else{var r=this._getCommentFormProps(this.props.root);t=[o.a.createElement("div",{key:"comments",className:Vr().e("comments"),ref:function(t){e._container=t}},o.a.createElement(Kn,{onScroll:this._onScroll},this._getEntityAttitudes(),this._getComments(this.props.root,this.props.comments))),o.a.createElement("div",{key:"form",className:Vr().e("form")},o.a.createElement(ur,{submitingState:r.addingCommentState,isReply:!1,avatarUrl:r.authorAvatarUrl,onSubmit:r.onFormSubmit,onChange:r.onFormChange,value:r.formValue,i18n:zr()().form}))]}return o.a.createElement("div",{className:Vr().m({loading:n})},t)}}]),t}();Hr.contextTypes={scrollTo:m.a.func};var Wr={fetchComments:Fn.c,addComment:Fn.a,deleteComment:Fn.b,restoreComment:Fn.e,loadMore:Fn.d,setAttitude:Fn.j,selectComment:Fn.i,scrollToComment:Fn.h,saveTextareaValue:Fn.g},Gr=Object(s.b)(function(e){return{entityId:e.resources[e.rootResourceId].meta.comment_ids.public_resource,selectedComment:e.environment.selectedComment,comments:Object(Hn.b)(e),root:e.comments.root,entity:e.comments.entity,lastAddedCommentId:e.comments.lastAddedCommentId,storedData:e.comments.storedData,scrollOnFocus:e.ua.isMobile&&-1===e.ua.BrowserName.indexOf("Safari"),scrollOnCommentSent:e.ua.isMobile,yapicOrigin:e.environment.yapicOrigin,user:e.user}},Wr)(Hr),qr=(n(188),n(340),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var Kr=function(){return l()()("open-app")},Yr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),qr(t,[{key:"componentDidMount",value:function(){Object(Ut.h)("show")}},{key:"render",value:function(){var e=this.props,t=e.resourceId,n=e.isYellow,r=e.closePane,i=e.openFileInDiskApp,a=e.openFileInDiskBrowser,s=function(e){return function(){e?i(t):a(t),Object(Ut.h)("click",e?"application":"web"),r()}};return o.a.createElement("div",{className:Kr()},o.a.createElement(at.a,{theme:"raised",action:!0,tone:n?"default":"grey-blue",view:"default",size:"n",cls:Kr().e("button").m({"open-in-app":!0}),centeredIcon:!0,onClick:s(!0)},o.a.createElement(ft.a,null),o.a.createElement(st.a,{keyset:"view-public",loc:"ufo_open_in_app"})),o.a.createElement(at.a,{theme:"clear",size:"n",cls:Kr().e("button").m({"open-in-browser":!0}),onClick:s()},o.a.createElement(st.a,{keyset:"view-public",loc:"ufo_open_in_browser"})))}}]),t}(),Xr=Object(s.b)(function(e){return{resourceId:e.overlays.activePane.resourceId,isYellow:Object(on.a)(e)}},{closePane:A.i,openFileInDiskApp:A.r,openFileInDiskBrowser:A.s})(Yr),Zr=(n(341),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var $r=function(){return l()()("panes")},Jr={CLOSED:"CLOSED",OPENING:"OPENING",OPENED:"OPENED",CLOSING:"CLOSING"},Qr={"file-info":{title:function(e){return e&&"dir"===e.type?Object(U.i18n)("ru","entities","info_about_folder"):Object(U.i18n)("ru","entities","info_about_file")},scrollable:!0,content:function(e,t){return o.a.createElement(Bn,{resourceId:t.id})}},comments:{title:function(){return Object(U.i18n)("ru","comments","ufo-comments_title")},content:function(e){return o.a.createElement(Gr,{readyForRender:[Jr.OPENED,Jr.CLOSING].includes(e)})},onClose:function(e){return e.removeQueryParams(["cid"])}},"open-app":{content:function(){return o.a.createElement(Xr,null)},onClose:function(){return Object(Ut.h)("close")}}},eo=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i.state={paneState:Jr.CLOSED},i._overlayClickEnabled=!1,i._onOpenPane=i._onOpenPane.bind(i),i._onClosePane=i._onClosePane.bind(i),i._onRequestClosePane=i._onRequestClosePane.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Zr(t,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.paneType!==e.paneType&&(document.body.classList.toggle("has-overlay",Boolean(this.props.paneType)),setTimeout(function(){t.setState({paneState:Boolean(t.props.paneType)?Jr.OPENING:Jr.CLOSING})}))}},{key:"_onRequestClosePane",value:function(){this._overlayClickEnabled&&(this.setState({paneState:Jr.CLOSING}),this._overlayClickEnabled=!1)}},{key:"_onClosePane",value:function(){var e=Qr[this.props.paneType];this.setState({paneState:Jr.CLOSED}),e.onClose&&e.onClose(this.props),this.props.closePane()}},{key:"_onOpenPane",value:function(){this._overlayClickEnabled=!0,this.setState({paneState:Jr.OPENED})}},{key:"_getPane",value:function(){var e=this.props,t=e.paneType,n=e.resource;if(Boolean(t)){var r=Qr[t];return o.a.createElement(Nn,{type:t,active:[Jr.OPENING,Jr.OPENED].includes(this.state.paneState),scrollable:r.scrollable,title:r.title&&r.title(n),requestClose:this._onRequestClosePane,onOpen:this._onOpenPane,onClose:this._onClosePane},r.content(this.state.paneState,n))}return null}},{key:"render",value:function(){return o.a.createElement("div",{className:$r().m({active:Boolean(this.props.paneType)})},o.a.createElement("div",{className:$r().e("overlay").m({visible:[Jr.OPENING,Jr.OPENED].includes(this.state.paneState)}),onClick:this._onRequestClosePane}),this._getPane())}}]),t}(),to=Object(s.b)(function(e){var t=e.resources,n=e.overlays.activePane,r=n.type,o=n.resourceId;return{paneType:r,resource:o?t[o]:null}},{closePane:A.i,removeQueryParams:A.w})(eo),no=n(41),ro=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var oo=function(){return l()()("dialog")},io=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i.state={top:null},i._textInputs=[],i._setRef=i._setRef.bind(i),i._onOutsideClick=i._onOutsideClick.bind(i),i._onButtonCloseClick=i._onButtonCloseClick.bind(i),i._setTop=i._setTop.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ro(t,[{key:"componentDidMount",value:function(){this.props.isIosSafari&&this.props.visible&&this._bindIosSafariHandlers()}},{key:"componentDidUpdate",value:function(e){this.props.isIosSafari&&this.props.visible!==e.visible&&this._bindIosSafariHandlers()}},{key:"_bindIosSafariHandlers",value:function(){var e=this;this.props.isIosSafari&&this.props.visible?(this._setTop(),window.addEventListener("resize",this._setTop),this._popupElement&&(this._textInputs=Array.prototype.slice.call(this._popupElement.querySelectorAll(".textinput__control"),0),this._textInputs.forEach(function(t){t.addEventListener("blur",e._setTop)}))):(this.setState({top:null}),window.removeEventListener("resize",this._setTop),this._textInputs.forEach(function(t){t.removeEventListener("blur",e._setTop)}))}},{key:"_setTop",value:function(){this.setState({top:(document.scrollingElement||document.documentElement).scrollTop})}},{key:"_setRef",value:function(e){var t=this.props.modalRef;this._popupElement=e&&e.domElementPopup,"function"==typeof t&&t(this._popupElement)}},{key:"_onOutsideClick",value:function(e){this.props.onClose(e,"outside")}},{key:"_onButtonCloseClick",value:function(e){this.props.onClose(e,"closeButton")}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.visible,r=e.children,i=e.isIosSafari,a=e.cls,s=e.zIndexGroupLevel;return o.a.createElement(no.a,{cls:oo().m({"ios-safari":i}).mix(a),theme:"normal",onOutsideClick:this._onOutsideClick,visible:n,autoclosable:!0,ref:this._setRef,zIndexGroupLevel:s,isIosSafari:i,style:i?{top:(this.state.top||0)+"px"}:{}},o.a.createElement("div",{className:oo().e("wrap")},t?o.a.createElement("div",{className:oo().e("title")},t):null,o.a.createElement(b.a,{theme:"clear",size:"s",cls:oo().e("close"),onClick:this._onButtonCloseClick},o.a.createElement(Pt,null)),o.a.createElement("div",{className:oo().e("body")},r)))}}]),t}();io.propTypes={title:m.a.string,visible:m.a.bool.isRequired,isIosSafari:m.a.bool,onClose:m.a.func,modalRef:m.a.func,zIndexGroupLevel:m.a.number},io.defaultProps={visible:!1,onClose:function(){}};var ao=io,so=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var uo=function(){return l()()("confirmation-dialog")},co=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),so(t,[{key:"render",value:function(){var e=this.props,t=e.submitButtonText,n=e.submitButtonProps,r=e.cancelButtonText,i=e.cancelButtonProps,a=e.progress,s=e.children,u=e.onSubmit,c=e.onCancel;return o.a.createElement(ao,this.props,o.a.createElement("div",{className:uo().e("content")},s),o.a.createElement("div",{className:uo().e("footer")},r?o.a.createElement(b.a,Object.assign({onClick:c,disabled:a,cls:uo().e("button").m({cancel:!0}).mix(i.cls||"")},i),r):null,t?o.a.createElement(b.a,Object.assign({onClick:u,progress:a,cls:uo().e("button").m({submit:!0}).mix(n.cls||"")},n),t):null))}}]),t}();co.propTypes=Object.assign({},ao.propTypes,{submitButtonText:m.a.string,submitButtonProps:m.a.object,cancelButtonText:m.a.string,cancelButtonProps:m.a.object,progress:m.a.bool,onSubmit:m.a.func,onCancel:m.a.func});var lo=function(){};co.defaultProps=Object.assign({},ao.defaultProps,{submitButtonProps:{size:"m",theme:"action"},cancelButtonProps:{size:"m",theme:"normal"},onSubmit:lo,onCancel:lo});var po=co,fo=(n(342),n(175),no.a,n(343),n(344),po),ho=(n(345),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var mo=function(){return l()()("virus-download-dialog")},yo=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onCloseVirusPopup=i._onCloseVirusPopup.bind(i),i._onSubmit=i._onSubmit.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ho(t,[{key:"_onCloseVirusPopup",value:function(){this.props.closeDownloadVirusDialog()}},{key:"_onSubmit",value:function(){var e=this.props,t=e.download,n=e.downloadVirusFileId,r=e.closeDownloadVirusDialog;t(n),r()}},{key:"render",value:function(){return this.props.downloadVirusFileId?o.a.createElement(fo,{cls:mo(),title:Object(U.i18n)("ru","view-confirmation","ufo_conf_virused_file_title"),submitButtonText:Object(U.i18n)("ru","actions","ufo_download"),submitButtonProps:{size:"n",theme:"raised"},cancelButtonText:Object(U.i18n)("ru","actions","ufo_cancel"),cancelButtonProps:{size:"n",theme:"raised"},onSubmit:this._onSubmit,onCancel:this._onCloseVirusPopup,onClose:this._onCloseVirusPopup,visible:!0},o.a.createElement("div",{className:mo().e("body")},o.a.createElement("div",{className:mo().e("image")},o.a.createElement(G,{size:"l",type:"virus"})),o.a.createElement("div",{className:mo().e("description")},Object(U.i18n)("ru","view-confirmation","ufo_conf_download_virused_file")))):null}}]),t}(),vo=Object(s.b)(function(e){return{downloadVirusFileId:e.overlays.downloadVirusFileId}},{download:L.a,closeDownloadVirusDialog:A.h})(yo),bo=(n(347),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var _o=void 0;_o=n(189).default;var go=function(){return l()()("notification")},Oo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),bo(t,[{key:"_getNotificationIcon",value:function(e){var t=this.props.resources[e.resourceId];switch(t&&e.type){case V.d.SAVE_TO_DISK_SUCCESS:case V.d.SAVE_TO_DISK_ERROR:case V.d.SAVE_TO_DISK_ERROR_SPACE:return t.meta.defaultPreview?o.a.createElement("img",{className:go().e("preview"),src:t.meta.defaultPreview+"&size=80x80"}):o.a.createElement(G,{cls:go().e("preview"),ext:t.meta.ext,mediatype:t.meta.mediatype,size:"m",type:t.type});default:return null}}},{key:"_getResourceName",value:function(e,t){var n="",r=void 0;if("file"===t){var i=e.split(".");n=i.pop(),r=i.join(".")+"."}else r=e;return o.a.createElement("span",{"data-ref":"resource-name",className:go().e("resource-name")},o.a.createElement("span",{className:go().e("resource-name-main")},r),o.a.createElement("span",{className:go().e("resource-name-ext")},n))}},{key:"_getNotificationText",value:function(e){var t=this.props.resources[e.resourceId];if(!t)return e.text;var n=t.name,r=t.type,i=go().e("text");switch(e.type){case V.d.SAVE_TO_DISK_SUCCESS:var a=Object(U.i18n)("ru","entities","ufo_downloads");return o.a.createElement(st.a,{className:i,keyset:"view-aside-public",loc:"ufo_aside_public_saved"},this._getResourceName(n,r),o.a.createElement("b",{"data-ref":"downloads"},a));case V.d.SAVE_TO_DISK_ERROR:return o.a.createElement(st.a,{className:i,keyset:"view-aside-public",loc:"ufo_aside_public_save_failed"},this._getResourceName(n,r));case V.d.SAVE_TO_DISK_ERROR_SPACE:return o.a.createElement("span",{className:i},o.a.createElement(st.a,{keyset:"view-aside-public",loc:"ufo_aside_public_save_failed_nospace_2"},this._getResourceName(n,r)),o.a.createElement("br",null),o.a.createElement(_o,{tariff:e.extraData.tariff}));default:return o.a.createElement("span",{className:i},e.text)}}},{key:"render",value:function(){var e=this.props,t=e.notification,n=e.onCloseClick,r=e.onClick,i=this._getNotificationIcon(t);return o.a.createElement("div",{className:go().m({error:t.mode===V.c.ERROR_TEXT,active:"function"==typeof r}).mix(Jt.a)},o.a.createElement("div",{className:go().e("body"),onClick:r},i&&o.a.createElement("span",{className:go().e("icon")},i),this._getNotificationText(t)),o.a.createElement(at.a,{size:"m",cls:go().e("button-close"),theme:"clear",tone:"dark",view:"default",onClick:n},o.a.createElement(yr,null)))}}]),t}(),wo=Object(s.b)(function(e){return{resources:e.resources,diskLink:e.services.disk}})(Oo),Eo=(n(348),function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),ko=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Co=void 0;Co=n(189).default;var xo=function(){return l()()("bottom-toolbar")},To=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._bindSnackbarEvents=i._bindSnackbarEvents.bind(i),i._unbindSnackbarEvents=i._unbindSnackbarEvents.bind(i),i._hideSnackbar=i._hideSnackbar.bind(i),i._onAnimationEnd=i._onAnimationEnd.bind(i),i._onClickOutside=i._onClickOutside.bind(i),i._onSnackbarButtonClick=i._onSnackbarButtonClick.bind(i),i._onIntersect=i._onIntersect.bind(i),i._notificationTimer=null,i.state={position:"bottom"},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ko(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.antiFileSharing,n=e.resourceId,r=e.addWaitingAuthAction,o=e.sticky;t&&r("antiFileSharing",{resourceId:n}),o&&this._observeIntersections()}},{key:"componentWillUnmount",value:function(){this._intersectionObserver.disconnect()}},{key:"componentDidUpdate",value:function(e){switch(this.props.notifications.state){case V.b.OPENED:this._bindSnackbarEvents();break;case V.b.CLOSING:this._unbindSnackbarEvents()}this.props.sticky&&!e.sticky&&this._observeIntersections()}},{key:"_observeIntersections",value:function(){var e=document.querySelector("."+xo().e("holder"));this._intersectionObserver=new IntersectionObserver(this._onIntersect,{threshold:1}),this._intersectionObserver.observe(e)}},{key:"_onIntersect",value:function(e){var t=Eo(e,1)[0],n=t.boundingClientRect,r=t.rootBounds;n.bottom>r.bottom?this.setState({position:"bottom"}):this.setState({position:"static"})}},{key:"_bindSnackbarEvents",value:function(){this._unbindSnackbarEvents(),this.props.notifications.current.isEternal||(this._notificationTimer=setTimeout(this._hideSnackbar,7e3)),document.body.addEventListener("touchstart",this._onClickOutside)}},{key:"_unbindSnackbarEvents",value:function(){null!==this._notificationTimer&&(clearTimeout(this._notificationTimer),this._notificationTimer=null),document.body.removeEventListener("touchstart",this._onClickOutside)}},{key:"_onClickOutside",value:function(e){this._snackbarNode&&!this._snackbarNode.contains(e.target)&&this._snackbarNode!==e.target&&this._hideSnackbar()}},{key:"_hideSnackbar",value:function(){this._unbindSnackbarEvents(),this.props.hideNotification()}},{key:"_onAnimationEnd",value:function(){switch(this.props.notifications.state){case V.b.OPENING:this.props.changeNotificationsState(V.b.OPENED);break;case V.b.CLOSING:this.props.changeNotificationsState(V.b.CLOSED)}}},{key:"_getSnackbar",value:function(){var e=this,t=this.props.notifications.current;return o.a.createElement("div",{className:xo().e("snackbar").m({type:this.props.notifications.current&&this.props.notifications.current.mode.toLowerCase().replace("_","-")}),ref:function(t){e._snackbarNode=t},onAnimationEnd:this._onAnimationEnd},this._getSnackbarContent(t))}},{key:"_onSnackbarButtonClick",value:function(){var e=this.props.notifications.current;switch(e.buttonAction){case"OPEN_APP":this.props.openFileInDisk(e.resourceId),Object(Ut.f)("save status","goto Disk","from toast"),this.props.hideNotification()}}},{key:"_getNotification",value:function(e){var t=this.props,n=t.rootResourceView,r=t.sliderResourceId,i=n===V.f.VIDEO,a=n===V.f.IMAGE||!!r,s=n===V.f.DIR&&!a;return o.a.createElement("div",{key:"notification",className:xo().e("notification-wrapper").m({other:!i&&!a&&!s,dir:s,video:i,image:a})},o.a.createElement(wo,{key:"notification",notification:e,onCloseClick:this._hideSnackbar,onClick:e.mode===V.c.TEXT_BUTTON&&this._onSnackbarButtonClick}))}},{key:"_getSnackbarContent",value:function(e){if(!e)return null;switch(e.mode){case V.c.TEXT:case V.c.ERROR_TEXT:return[this._getNotification(e),o.a.createElement("span",{key:"text",className:xo().e("snackbar-text")},e.text,e.type===V.d.SAVE_TO_DISK_ERROR_SPACE&&[o.a.createElement("br",{key:1}),o.a.createElement(Co,{key:2,tariff:e.extraData.tariff})])];case V.c.TEXT_BUTTON:return[this._getNotification(e),o.a.createElement("span",{key:"text",className:xo().e("snackbar-text")},e.text),o.a.createElement(at.a,{key:"button",theme:"clear-inverse",type:"link",size:"m",onClick:this._onSnackbarButtonClick,cls:xo().e("snackbar-button")},e.buttonText)]}}},{key:"render",value:function(){var e=this.props.notifications.state;return e=[V.b.OPENING,V.b.OPENED,V.b.CLOSING].includes(e)?e.toLowerCase():"",o.a.createElement("div",{className:xo().m({sticky:this.props.sticky,"with-mobile-bottom-direct":this.props.withMobileBottomDirect,position:this.state.position,notification:e})},o.a.createElement(cn,{hideOnSliderOrPaneOpen:!0}),this._getSnackbar())}}]),t}();To.Holder=function(){return o.a.createElement("div",{className:xo().e("holder")})};var So=Object(s.b)(function(e){var t=e.rootResourceId,n=e.resources,r=e.notifications,o=e.overlays.sliderResourceId,i=e.environment.antiFileSharing,a=n[t];return{resourceId:t,antiFileSharing:i,notifications:r,rootResourceView:Object(zt.a)(a),sliderResourceId:o,withMobileBottomDirect:Object(kn.a)(e)&&Object(kn.b)(e)}},{addWaitingAuthAction:A.d,openFileInDisk:A.q,changeNotificationsState:z.a,hideNotification:z.b})(To),Po=n(31),jo=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Io=function(){return l()()("resources-action-bar")},Ro=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onWindowKeyUp=i._onWindowKeyUp.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),jo(t,[{key:"getChildContext",value:function(){return{visible:this.props.visible,onClose:this.props.onClose}}},{key:"componentDidMount",value:function(){window.addEventListener("keyup",this._onWindowKeyUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this._onWindowKeyUp)}},{key:"_onWindowKeyUp",value:function(e){e.keyCode&&27===e.keyCode&&this.props.onClose()}},{key:"_renderCloseButton",value:function(){return o.a.createElement(Po.a,{cls:Io().e("close"),text:this.props.closeButtonText,disabled:this.props.isMobile,to:["left"]},o.a.createElement(b.a,{onClick:this.props.onClose,size:"n",theme:"clear-inverse"},o.a.createElement(Pt,null)))}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.fixed,r=e.delay,i=e.theme,a=o.a.Children.toArray(this.props.children).filter(Boolean);return o.a.createElement("div",{className:Io().m({visible:t,fixed:n,delay:r,theme:i}).mix(Jt.a).mix(this.props.cls)},o.a.createElement("div",{className:Io().e("body")},a),this._renderCloseButton())}}]),t}();Ro.childContextTypes={visible:m.a.bool,onClose:m.a.func},Ro.Left=function(e){var t=e.children;return o.a.createElement("div",{className:Io().e("side-left")},t)},Ro.Right=function(e){var t=e.children;return o.a.createElement("div",{className:Io().e("side-right")},t)},Ro.propTypes={fixed:m.a.bool,visible:m.a.bool,delay:m.a.bool,theme:m.a.oneOf(["blue","black"]),closeButtonText:m.a.string,onClose:m.a.func},Ro.defaultProps={onClose:function(){},theme:"blue"};var Mo=Ro,Do=(n(84),n(349),Mo),Ao=n(98),Lo=n(53),No=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zo=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Uo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Bo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Fo=function(){return l()()("resources-info-dropdown")},Ho=function(e){function t(){var e;Uo(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=Vo(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onTogglePopup=i._onTogglePopup.bind(i),i}return Bo(t,r["PureComponent"]),zo(t,[{key:"_onTogglePopup",value:function(){this.props.visible?this.props.onClose():this.props.onOpen()}},{key:"_getButton",value:function(){var e=this;return o.a.createElement(b.a,{ref:function(t){e._popupAnchor=t,e.props.buttonRef&&e.props.buttonRef(t&&t.control)},onClick:this._onTogglePopup,theme:this.props.theme,size:"n"},o.a.createElement(Ao.a,{cls:Fo().e("icon")}))}},{key:"_getButtonWithTooltip",value:function(){return o.a.createElement("div",{className:Fo().e("icon-wrap")},o.a.createElement(Po.a,{text:this.props.buttonName,to:["bottom","right"],disabled:this.props.isMobile||!this.props.buttonName||this.props.visible},this._getButton()))}},{key:"render",value:function(){return o.a.createElement("div",{className:Fo()},this.props.name&&this._getButtonWithTooltip()||this._getButton(),this.props.isMobile?o.a.createElement(no.a,{autoclosable:!0,cls:Jt.a,isIosSafari:this.props.isIosSafari,onOutsideClick:this.props.onClose,theme:"mobile-pane",visible:this.props.visible},this.props.children):o.a.createElement(Lo.a,{autoclosable:!0,theme:"normal",cls:Jt.a,visible:this.props.visible,anchor:this._popupAnchor,onOutsideClick:this.props.onClose,directions:this.props.directions},o.a.createElement("div",{className:Fo().e("popup")},this.props.children)),this.props.name&&o.a.createElement("div",{className:Fo().e("text-wrap")},o.a.createElement(Po.a,{text:this.props.name,to:["bottom","right"],disabled:this.props.isMobile},o.a.createElement("span",{className:Fo().e("name")},this.props.name))))}}]),t}(),Wo=function(e){function t(){var e;Uo(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=Vo(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i.state={visible:!1},i._onOpen=i._onOpen.bind(i),i._onClose=i._onClose.bind(i),i}return Bo(t,r["PureComponent"]),zo(t,[{key:"_onOpen",value:function(){this.setState({visible:!0}),this.props.onOpen()}},{key:"_onClose",value:function(){this.setState({visible:!1}),this.props.onClose()}},{key:"render",value:function(){return o.a.createElement(Ho,No({},this.props,{visible:this.state.visible,onOpen:this._onOpen,onClose:this._onClose}))}}]),t}();Ho.Content=Wo.Content=function(e){var t=e.cls,n=e.content,r=(Array.isArray(n)?n:[n]).filter(Boolean).map(function(e,t){return o.a.createElement("div",{key:t,className:Fo().e("row")},e)});return o.a.createElement("div",{className:Fo().e("content").mix(t)},r)},Ho.Footer=Wo.Footer=function(e){var t=e.cls,n=e.children;return o.a.createElement("div",{className:Fo().e("footer").mix(t)},n)},Wo.propTypes={name:m.a.string,buttonName:m.a.string,isIosSafari:m.a.bool,onClose:m.a.func,onOpen:m.a.func},Wo.defaultProps={name:"",onClose:function(){},onOpen:function(){}};var Go=Wo,qo=(n(82),n(350),Go),Ko=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Yo=function(e,t,n,i){var a=[].concat(t),s=a.map(function(e){return"saved"+e[0].toUpperCase()+e.slice(1)}),u=Array.isArray(t)?i:[i];return function(t){function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(r))),l=n(c.props);return c.state=a.reduce(function(e,t,n){return e[s[n]]=l?c.props[t]:u[n],e},{}),c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,r.Component),Ko(i,[{key:"componentWillReceiveProps",value:function(e){if(n(e)){var t=a.reduce(function(t,n,r){return t[s[r]]=e[n],t},{});this.setState(t)}}},{key:"render",value:function(){var t=Object.assign({},this.state,this.props);return o.a.createElement(e,t)}}]),i}()},Xo=n(36);var Zo=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var $o=function(){return l()()("crumbs2")},Jo=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={isShrunk:!1,isHoverDropdownVisible:!1},e._shrinkIfNeeded=function(e,t){var n=void 0;return function(){for(var r=this,o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];clearTimeout(n),n=setTimeout(function(){return e.apply(r,i)},t)}}(e._shrinkIfNeeded,100).bind(e),e._onHoverDropdownOpen=e._onHoverDropdownOpen.bind(e),e._onHoverDropdownClose=e._onHoverDropdownClose.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Zo(t,[{key:"componentWillMount",value:function(){this.props.full&&window.addEventListener("resize",this._shrinkIfNeeded)}},{key:"componentDidMount",value:function(){this.props.full&&this._shrinkIfNeeded()}},{key:"componentDidUpdate",value:function(){this.props.full&&this._shrinkIfNeeded()}},{key:"componentWillUnmount",value:function(){this.props.full&&window.removeEventListener("resize",this._shrinkIfNeeded)}},{key:"_getItems",value:function(){var e=this.props,t=e.root,n=e.items;return t?[Object.assign({},n[0],t)].concat(n.slice(1)):n}},{key:"_shrinkIfNeeded",value:function(){if(this._tail&&this._wrapper){var e=this._tail.getBoundingClientRect().width>this._wrapper.getBoundingClientRect().width;this.state.isShrunk!==e&&this.setState({isShrunk:e})}}},{key:"_getHeadCrumb",value:function(){var e=this._getItems();return this._getCrumb(e[0],0,e)}},{key:"_getTailCrumbs",value:function(){var e=this;return this.props.items.slice(1).map(function(){return e._getCrumb.apply(e,arguments)},this)}},{key:"_getAllCrumbs",value:function(){return this._getItems().map(this._getCrumb,this)}},{key:"_onCrumbClick",value:function(e){this._onHoverDropdownClose(),this.props.onItemClick(e)}},{key:"_getCrumb",value:function(e,t,n){var r=t===n.length-1,i=void 0,a=void 0;if("string"==typeof e)a=e,i=o.a.createElement("span",{className:$o().e("item-inner")},e);else{a=e.id;var s={theme:"normal",cls:$o().e("item-inner"),onClick:this._onCrumbClick.bind(this,e.id),children:e.name};i=this.props.getCrumbsItem?this.props.getCrumbsItem(e,s):o.a.createElement(cr.a,s)}return o.a.createElement("div",{key:a,className:$o().e("item").m({last:r})},i)}},{key:"_onHoverDropdownOpen",value:function(){!this.state.isShrunk&&this.props.full||this.setState({isHoverDropdownVisible:!0})}},{key:"_onHoverDropdownClose",value:function(){this.setState({isHoverDropdownVisible:!1})}},{key:"_getHoverDropdown",value:function(e){return o.a.createElement(Xo.a,{cls:$o().e("hover-dropdown"),showDelay:500,onOpen:this._onHoverDropdownOpen,onClose:this._onHoverDropdownClose,visible:this.state.isHoverDropdownVisible},o.a.createElement(Xo.a.Anchor,null,e),o.a.createElement(Xo.a.Popup,{theme:"normal",directions:this.props.tooltipDirections,cls:$o().e("tooltip").mix(l()()("tooltip").m({size:"m",theme:"normal",view:"classic"})),hasTail:!0},o.a.createElement("div",{className:$o().e("tooltip-crumbs")},this._getAllCrumbs())))}},{key:"render",value:function(){var e=this,t=void 0;if(this.props.full)t=[o.a.createElement("div",{key:"head",className:$o().e("head")},this._getHeadCrumb(!0)),o.a.createElement("div",{key:"crumbs",className:$o().e("crumbs-wrapper"),ref:function(t){e._wrapper=t}},this._getHoverDropdown(o.a.createElement("div",{className:$o().e("fade")})),o.a.createElement("div",{className:$o().e("crumbs-tail"),ref:function(t){e._tail=t}},this._getTailCrumbs(!0)))];else{var n=this._getItems();n.length>2&&(n=[n[0],"...",n[n.length-1]]),t=this._getHoverDropdown(o.a.createElement("div",{className:$o().e("short-wrapper")},n.map(this._getCrumb,this)))}return o.a.createElement("div",{className:$o().m({shrunk:this.state.isShrunk,full:this.props.full}).mix(this.props.cls)},t)}}]),t}();Jo.propTypes={full:m.a.bool,items:m.a.array.isRequired,onItemClick:m.a.func.isRequired,root:m.a.object,tooltipDirections:m.a.array},Jo.defaultProps={tooltipDirections:["bottom-left"]};var Qo=Jo,ei=(n(351),Qo),ti=(n(352),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var ni=function(e){return Object(Ut.b)("topbar menu",e)},ri=Yo(function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onSaveButtonClick=i._onSaveButtonClick.bind(i),i._onDownloadButtonClick=i._onDownloadButtonClick.bind(i),i._onCloseActionBar=i._onCloseActionBar.bind(i),i._onOpenFileInDisk=i._onOpenFileInDisk.bind(i),i._onCrumbsClick=i._onCrumbsClick.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ti(t,[{key:"_onSaveButtonClick",value:function(){ni("save")}},{key:"_onDownloadButtonClick",value:function(){ni("download")}},{key:"_onOpenFileInDisk",value:function(){ni("goto Disk")}},{key:"_onCloseActionBar",value:function(){ni("close"),this.props.setSelectedResources([])}},{key:"_renderSaveButton",value:function(e){return o.a.createElement(_t,{resourceId:this.props.savedSelectedResources[0],hasText:!e,size:"n",theme:e?"clear-inverse":"normal",view:e?void 0:"default",toneSave:e?void 0:"transparent",toneOpen:e?void 0:"transparent",hasIcon:!0,onSaveClick:this._onSaveButtonClick,onOpenFileClick:this._onOpenFileInDisk,isFrom:V.a.RESOURCES_ACTION_BAR})}},{key:"_renderDownloadButton",value:function(e){return o.a.createElement(Tt,{resourceId:this.props.savedSelectedResources[0],hasText:!e,size:"n",theme:e?"clear-inverse":"normal",view:e?void 0:"default",tone:e?void 0:"transparent",hasIcon:!0,onClick:this._onDownloadButtonClick,isFrom:V.a.RESOURCES_ACTION_BAR})}},{key:"_onCrumbsClick",value:function(e){this.props.setCurrentResource(e)}},{key:"_onResourceInfoDropdownOpen",value:function(){ni("info")}},{key:"componentDidUpdate",value:function(e){if(0===e.selectedResources.length&&this.props.selectedResources.length>0&&ni("open"),1===this.props.selectedResources.length&&e.selectedResources[0]!==this.props.selectedResources[0]){var t=this.props.resources[this.props.selectedResources[0]];"dir"===t.type&&this.props.fetchDirSize(t.id)}}},{key:"componentDidMount",value:function(){this.props.selectedResources.length>0&&ni("open")}},{key:"render",value:function(){var e=!1,t=void 0,n=[],r=this.props.selectedResources.length>0,i=this.props.savedSelectedResources.length>0,a="";if(i){var s=this.props.resources[this.props.savedSelectedResources[0]],u=s.name,c=s.parent,l=s.type;t=s.id,a=u,e="dir"===l;for(var p=c;p&&this.props.resources[p];){var f=this.props.resources[p];n.unshift({id:p,name:f.name}),p=f.parent}}var d=e?Object(U.i18n)("ru","entities","info_about_folder"):Object(U.i18n)("ru","entities","info_about_file"),h=Object(U.i18n)("ru","actions","ufo_close");return o.a.createElement(Do,{visible:r,cls:Jt.a,onClose:this._onCloseActionBar,closeButtonText:h,isMobile:this.props.isMobile,theme:this.props.isBlack?"black":"blue",fixed:!0,delay:!0},o.a.createElement(Do.Left,null,o.a.createElement(qo,{theme:"clear-inverse",name:a,buttonName:d,onOpen:this._onResourceInfoDropdownOpen,isMobile:this.props.isMobile,isIosSafari:this.props.isIosSafari},o.a.createElement(qo.Content,{content:t?o.a.createElement(Bn,{resourceId:t,isFromTopbar:!0}):null}),!this.props.isMobile&&o.a.createElement(qo.Footer,null,o.a.createElement(ei,{items:n,onItemClick:this._onCrumbsClick})))),o.a.createElement(Do.Right,null,i&&this._renderSaveButton(),i&&this._renderDownloadButton(),i&&this._renderSaveButton(!0),i&&this._renderDownloadButton(!0)))}}]),t}(),"selectedResources",function(e){return e.selectedResources.length},[]),oi=Object(s.b)(function(e){var t=e.rootResourceId,n=e.resources,r=e.selectedResources,o=e.operations,i=e.ua,a=i.isMobile,s=i.isIosSafari;return{rootResource:n[t],resources:n,selectedResources:r,operations:o,isMobile:a,isIosSafari:s,isBlack:Object(on.a)(e)}},{setSelectedResources:A.z,setCurrentResource:N.g,fetchDirSize:N.c})(ri),ii=(n(353),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var ai=function(){return l()()("public")},si=void 0,ui=void 0;si=n(354).default,ui=n(396).default;var ci=void 0,li=void 0,pi=void 0,fi=void 0,di=void 0;ci=n(391).default,li=n(397).default,pi=n(381).default,fi=n(91).default,di=n(383).default;var hi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ii(t,[{key:"componentDidMount",value:function(){Object(Ut.f)("show page"),this.props.syncUrl(!0)}},{key:"render",value:function(){var e=this.props,t=e.awaps,n=e.isSmartphone,r=e.hasAwapsBanner,i=e.hasDirect,a=e.rootResourceView,s=e.isMobileBottomDirectEnabled,u=e.hasRightDirect,c=ai().e("root");return r&&(c=c.mix("has-awaps")),u&&(c=c.mix("has-right-direct")),o.a.createElement("div",{className:c},o.a.createElement(si,t||{}),o.a.createElement("header",{className:ai().e("header")},o.a.createElement(ci,null),a===V.f.DIR&&o.a.createElement(oi,null)),a!==V.f.ERROR&&n?o.a.createElement(pi,null):null,i?o.a.createElement(fi,{position:"top",view:a}):null,o.a.createElement("div",{className:ai().e("main").m({"top-margin":!(i||n||[V.f.VIDEO,V.f.IMAGE].includes(a))&&(a===V.f.DIR?"s":"l")})},a===V.f.ERROR?o.a.createElement(Dn,null):o.a.createElement("div",{className:ai().e("main-content")},o.a.createElement(Pn,null),o.a.createElement(So,{sticky:s}),s?o.a.createElement(So.Holder,null):null,o.a.createElement(to,null),o.a.createElement(vo,null),n||[V.f.VIDEO,V.f.IMAGE].includes(a)?null:o.a.createElement(ui,null)),u?o.a.createElement(fi,{position:"right",view:a}):null),o.a.createElement(li,null),o.a.createElement(di,null))}}]),t}(),mi=Object(s.b)(function(e){var t=e.resources,n=e.rootResourceId,r=e.environment,o=r.awaps,i=r.noAdv,a=e.ua.isSmartphone,s=t[n],u=Object(zt.a)(s),c=o&&"banner"===o.type&&!i&&u!==V.f.ERROR,l=!c&&!i;return{isSmartphone:a,hasDirect:l,hasRightDirect:l&&!a&&![V.f.IMAGE,V.f.ERROR].includes(u),hasAwapsBanner:c,rootResourceView:u,awaps:o,isMobileBottomDirectEnabled:Object(kn.a)(e)}},{syncUrl:A.B})(hi),yi=function(e){var t=e.store,n=e.lang;return o.a.createElement(s.a,{store:t},o.a.createElement(mi,{lang:n}))},vi=n(25),bi=n.n(vi),_i=function(e,t,n){var r=[],o=[],i=Object.keys(e);return i.forEach(function(n){o.push(function(e,t){return t(A.f("check-auth",{},e)).catch(function(){return{user:{auth:!1}}})}(e[n],t))}),Promise.all(o).then(function(e){return e.find(function(e,t){return r.push(Object.assign({user:{auth:!1},lang:n},{authTld:i[t]},e)),e.user.auth}),r})},gi=function(){return function(e,t){var n=t(),r=bi.a.get("save-to-disk");r&&e(Object(N.a)(r)).then(function(){var n=t().user,o=n.auth,i=n.loading;o?e(Object(L.g)(r)):i&&e(A.d("save",{auth:!0,resourceId:r}))},function(){}).then(function(){bi.a.remove("save-to-disk")});var o=n.authOrigins;if(!n.environment.isYadiSk||!o||!o.length)return e(Object(L.e)()),e(Object(L.f)()),Object(Ut.k)(n),void e(A.m());(function e(t,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return _i(t[n],r,o).then(function(a){return!a.find(function(e){return i[e.authTld]=e,e.user.auth})&&n<t.length-1?e(t,n+1,r,o,i):i})})(o,0,e,n.environment.currentLang).then(function(r){var o=Object.keys(r).find(function(e){return r[e].user.auth}),i=o?r[o]:r[n.environment.servicesTld],a={authSk:i.sk,externalSk:i.externalSk,yandexuid:i.yandexuid,servicesTld:i.authTld},s=new Date;s.setFullYear(s.getFullYear()+1),i.yandexuid&&(bi.a.remove("yandexuid"),bi.a.set("yandexuid",i.yandexuid,{expires:s,domain:".yadi.sk"}),a.sk=i.skUsingOnlyYu),e(A.D(a)),i.user.auth?(e(A.I(Object.assign({loading:!1},i.user))),e(A.G(i.services)),bi.a.set("tld",i.authTld,{expires:s}),bi.a.set("uid",i.user.id,{expires:s}),e(Object(L.f)())):(e(A.I({loading:!1})),bi.a.remove("uid"),bi.a.set("tld",n.environment.servicesTld,{expires:s})),i.lang&&bi.a.set("lang",i.lang,{expires:30}),e(Object(L.e)()),e(A.m()),Object(Ut.k)(t())})}},Oi=n(34),wi=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){return"function"==typeof r?r(t,n):e(r)}}},Ei=n(4),ki=function(e,t,n,r,o,i){var a=!!n,s=(a?n:"")+i+"/public/api/"+e;r&&(t.sk=r),o&&(t.uid=o);var u={method:"POST",credentials:a?"include":"same-origin",headers:{"Content-Type":"text/plain"},body:encodeURIComponent(JSON.stringify(t))};return fetch(s,u).then(function(e){return e.json()})},Ci=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){if(r.type===Ei.CALL_API){var o=n(),i=r.origin||"",a=void 0;r.needAuth&&(i||(i=o.services.disk),a=o.user.id);var s=i?o.environment.authSk:o.environment.sk;return ki(r.method,r.params,i,s,a,o.environment.apiPrefix).then(function(e){if(e.error&&e.badAuthorization&&location.reload(),e.error&&e.wrongSk){var n=r.needAuth?{authSk:e.newSk}:{sk:e.newSk};return t(Object(A.D)(n)),ki(r.method,r.params,i,e.newSk,a)}return e})}return e(r)}}};var xi=void 0,Ti=function(){var e=[];return e.push(wi),e.push(Ci),e}(),Si=Oi.d;xi=Si(Oi.a.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Ti)));var Pi=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ji=function(){},Ii=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this._idTimer=null,this._stepNumber=0,this._onVisibilityChange=this._onVisibilityChange.bind(this),this._tick=this._tick.bind(this),window.addEventListener("visibilitychange",this._onVisibilityChange)}return Pi(e,[{key:"destroy",value:function(){this.stop(),window.removeEventListener("visibilitychange",this._onVisibilityChange),this.start=ji,this.stop=ji}},{key:"start",value:function(){this._idTimer||(this._idTimer=window.setInterval(this._tick,this.options.step))}},{key:"stop",value:function(){window.clearInterval(this._idTimer),this._idTimer=null}},{key:"_tick",value:function(){if(this._stepNumber*this.options.step>this.options.max)return this.destroy();this.options.count(this._stepNumber,this.options.step),this._stepNumber++}},{key:"_onVisibilityChange",value:function(){document.hidden?this.stop():this.start()}}]),e}();n(387),n(388),n(389);Object(U.setTankerProjectId)("yandex_disk_web"),Object(U.addTranslation)("ru",n(385));var Ri=function(){var e=document.getElementById("store-prefetch").innerHTML;return function(e){return Object(Oi.e)(Hn.a,e,xi)}(JSON.parse(e))},Mi=function(){var e=Ri(),t=e.getState(),n=t.resources,r=t.rootResourceId,i=n[r],s=!!i.errorCode;"iOS"===t.ua.OSFamily&&document.addEventListener("touchmove",function(e){2===e.touches.length&&e.preventDefault()}),Object(Ut.n)({experiments:t.environment.experiments&&t.environment.experiments.metrika}),a.a.render(o.a.createElement(yi,{store:e}),document.getElementById("app")),e.dispatch(gi()),s||(e.dispatch(Object(Fn.f)()),e.dispatch(Object(N.b)())),"dir"===i.type&&e.dispatch(Object(N.c)(r)),window.history.replaceState({currentResourceId:t.currentResourceId,sliderResourceId:t.overlays&&t.overlays.sliderResourceId},location.toString()),window.addEventListener("popstate",function(t){var n=t.state,r=e.getState(),o=r.currentResourceId,i=r.overlays,a=i.sliderResourceId,s=i.activePane,u=s&&s.type,c=n.activePane&&n.activePane.type;n.currentResourceId&&n.currentResourceId!==o?e.dispatch(Object(N.g)(n.currentResourceId)):a&&!n.sliderResourceId?e.dispatch(Object(A.j)()):a!==n.sliderResourceId?e.dispatch(Object(A.u)(n.sliderResourceId)):u&&!c?e.dispatch(Object(A.i)(u)):c&&!u&&e.dispatch(Object(A.t)(n.activePane))})};try{Raven.context(Mi)}catch(e){Mi()}new Ii({step:5e3,max:9e5,count:Ut.l}).start()},function(e,t,n){"use strict";n.r(t);var r=n(9),o=n(0),i=n.n(o),a=(n(358),n(215)),s=n.n(a).a,u=n(2),c=n.n(u),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var p=function(){return c()()("header")},f=function(e){var t=e.children,n=e.cls;return i.a.createElement("div",{className:p().e("side-center").mix(n)},t)},d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["Component"]),l(t,[{key:"render",value:function(){var e=!1;return i.a.Children.forEach(this.props.children,function(t){t&&t.type===f&&(e=!0)}),i.a.createElement("div",{className:p().m({"has-center":e}).mix(this.props.cls)},i.a.createElement(s,null),this.props.children)}}]),t}();d.Left=function(e){var t=e.children,n=e.cls;return i.a.createElement("div",{className:p().e("side-left").mix(n)},t)},d.Right=function(e){var t=e.children,n=e.cls;return i.a.createElement("div",{className:p().e("side-right").mix(n)},t)},d.Center=f;var h=d,m=n(1),y=n.n(m),v=n(18),b=n(58),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var g=function(){return c()()("inline-services-menu")},O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["Component"]),_(t,[{key:"_getItems",value:function(){var e=this;return(b.a[this.props.tld]||b.a.ru).inlineHeaderServices.filter(function(t){return Boolean(e.props.services[t])}).map(function(t){var n=e.props.services[t];return i.a.createElement(v.a,{onClick:function(){return e.props.onClick(t)},cls:g().e("link"),key:t,theme:"dark",url:n.url},n.text)})}},{key:"render",value:function(){return i.a.createElement("div",{className:g().mix(this.props.cls)},this._getItems())}}]),t}();O.propTypes={tld:y.a.string.isRequired,services:y.a.object,onClick:y.a.func},O.defaultProps={services:{},onClick:function(){}};var w=O,E=(n(359),n(15),w),k=n(6),C=(n(191),n(398).default),x=n(216),T=n.n(x),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),P=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0};var j=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onOutsideTouch=i._onOutsideTouch.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,T.a),S(t,[{key:"componentWillUpdate",value:function(e,n){P(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUpdate",this)&&P(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUpdate",this).call(this,e,n),n.opened!==this.state.opened&&(n.opened?window.addEventListener("touchstart",this._onOutsideTouch):window.removeEventListener("touchstart",this._onOutsideTouch))}},{key:"_onOutsideTouch",value:function(e){e.target.closest(".user2__popup")||this.onOutsideClick()}}]),t}(),I=n(217),R=n.n(I),M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var A=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["Component"]),D(t,[{key:"render",value:function(){var e=Object.assign({},this.props);return delete e.accounts,i.a.createElement(j,M({mix:{mods:{"hide-name":this.props.hideName}}},e),this._renderAccounts())}},{key:"_renderAccounts",value:function(){var e=this;return this.props.accounts.map(function(t){var n=t.uid,r=t.name,o=t.url,a=t.avatarId;return i.a.createElement(R.a,{key:"user-account-"+n,uid:n,name:r,url:o,avatarId:a,avatarHost:e.props.avatarHost,hasTicker:!1,mix:{block:"user2",elem:"account",js:{uid:n}},onClick:e.props.onAccountClick,pic:!0})})}}]),t}(),L=A;A.propTypes={uid:y.a.string.isRequired,yu:y.a.string.isRequired,accounts:y.a.arrayOf(y.a.shape({uid:y.a.string,name:y.a.string,url:y.a.string,avatarId:y.a.string})),actionsMenu:y.a.arrayOf(y.a.shape({action:y.a.string})),name:y.a.string.isRequired,hideName:y.a.bool,avatarId:y.a.string.isRequired,avatarHost:y.a.string,retpath:y.a.string.isRequired,contentRegion:y.a.string.isRequired,passportHost:y.a.string,onAccountClick:y.a.func},A.defaultProps={actionsMenu:[{action:"passport"},{action:"exit"}],hideName:!0,onAccountClick:function(){return null}};n(371),n(372),n(373);var N=L,z=n(13),U=n(11),V=n(24),B=n(5),F=n(8),H=Object(r.b)(function(e){var t=e.user,n=e.url,r=e.waitingAuthActions,o=e.environment,i=o.yandexuid,a=o.avatarsOrigin,s=o.servicesTld,u=e.services,c=u.passport,l=u.support;return{user:t,url:n,isWaitingAuth:!!r.auth,yandexuid:i,avatarsOrigin:a,servicesTld:s,passport:c,support:l}},{auth:B.e})(function(e){var t=e.user,n=e.url,r=e.yandexuid,o=e.passport,a=e.support,s=e.avatarsOrigin,u=e.servicesTld,c=e.isWaitingAuth,l=e.auth,p=Object(V.b)(n),f=encodeURIComponent(p);if(!t.auth)return function(e,t){return i.a.createElement(z.a,{theme:"raised",view:"default",size:"s",progress:e,onClick:function(){Object(F.d)("login"),t()}},i.a.createElement(U.a,{keyset:"actions",loc:"ufo_enter"}))}(c,l);var d=r,h=a+(t.b2b?"/connect-disk/":"/disk/");return i.a.createElement(N,{uid:t.id,yu:d,name:t.name,avatarId:t.avatarId,avatarHost:s,helpUrl:h,retpath:p,contentRegion:u,passportHost:o,accounts:t.accounts.map(function(e){return{uid:e.id,avatarId:e.avatarId,name:e.login,url:o+"/passport?mode=embeddedauth&action=change_default&uid="+e.id+"&yu="+d+"&retpath="+f}}),onLogout:function(){return Object(F.d)("sign out")}})}),W=(n(374),void 0),G=void 0,q=void 0;W=n(395).default,G=n(399).default,q=n(394).default;var K={MacOS:"Yandex.Disk.Mac.dmg",Windows:"YandexDiskSetup.exe"};t.default=Object(r.b)(function(e){var t=e.ua,n=t.OSFamily,r=t.isMobile,o=e.user,i=o.hasDirect,a=o.hasMetrika,s=o.b2b,u=o.b2bHeader,c=e.environment;return{nda:c.nda,nonce:c.nonce,servicesTld:c.servicesTld,services:e.services,OSFamily:n,isMobile:r,hasDirect:i,hasMetrika:a,burgerItems:s&&u}})(function(e){var t=e.nda,n=e.nonce,r=e.servicesTld,o=e.services,a=e.OSFamily,s=e.hasDirect,u=e.hasMetrika,c=e.burgerItems,l=e.isMobile,p=function(e,t,n){var r={disk:{text:Object(k.i18n)("ru","entities","ufo_disk"),url:e.disk},search:{text:Object(k.i18n)("ru","entities","ufo_service_search"),url:e.www},calendar:{text:Object(k.i18n)("ru","entities","ufo_service_calendar"),url:e.calendar},mail:{text:Object(k.i18n)("ru","entities","ufo_service_mail"),url:e.mail},money:{text:Object(k.i18n)("ru","entities","ufo_service_money"),url:e.money},images:{text:Object(k.i18n)("ru","entities","ufo_service_images"),url:e.images},news:{text:Object(k.i18n)("ru","entities","ufo_service_news"),url:e.news},maps:{text:Object(k.i18n)("ru","entities","ufo_service_maps"),url:e.maps},market:{text:Object(k.i18n)("ru","entities","ufo_service_market"),url:e.market},pogoda:{text:Object(k.i18n)("ru","entities","ufo_service_pogoda"),url:e.weather},tv:{text:Object(k.i18n)("ru","entities","ufo_service_tv"),url:e.tv},music:{text:Object(k.i18n)("ru","entities","ufo_service_music"),url:e.music},afisha:{text:Object(k.i18n)("ru","entities","ufo_service_afisha"),url:e.afisha},browser:{text:Object(k.i18n)("ru","entities","ufo_service_browser"),url:e.browser+"?from=link_disk___%7C&banerid=0468000000"}};return t&&(r.metrika={text:Object(k.i18n)("ru","entities","ufo_service_metrika"),url:e.metrika}),n&&(r.direct={text:Object(k.i18n)("ru","entities","ufo_service_direct"),url:e.direct}),r}(o,u,s),f=i.a.createElement(C,{nda:t,serviceUrl:o.disk,logoUrl:o.www,onClickLink:function(){return Object(F.d)("logo")}}),d=p;return c&&(d=c.filter(function(e){return["mail","calendar"].includes(e.id)}).reduce(function(e,t){return e[t.id]=t,e},{})),i.a.createElement(h,null,i.a.createElement(h.Left,null,l?f:i.a.createElement(W,{onWillShow:function(){return Object(F.d)("burger menu")},logo:f,onLogoLinkClick:function(){return Object(F.d)("logo")}},i.a.createElement(G,{fitToHeight:!0,allServicesLink:o.all,allServicesText:Object(k.i18n)("ru","entities","ufo_service_all"),items:c,services:p,tld:r,nonce:n})),i.a.createElement(E,{cls:"header__inline-services-menu",services:d,tld:r,onClick:function(e){switch(e){case"mail":return Object(F.d)("goto mail");case"calendar":return Object(F.d)("goto cal")}}})),i.a.createElement(h.Right,null,!l&&i.a.createElement(q,{OSFamily:a,url:function(e,t){return e+"/download/"+(K[t]||"")+"?referer=webinterface&src=Yandex.Public"}(o.disk,a),text:function(e){return Object(k.i18n)("ru","view-aside","ufo_aside__install_disk_for",{platform:e})}(a),tooltip:function(e){return Object(k.i18n)("ru","view-aside","ufo_aside__install_disk_for_tooltip",{platform:e})}(a),onClick:function(){return Object(F.d)("install soft")}}),i.a.createElement(H,null)))})},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(9),u=n(38),c=n(103),l=n(2),p=n.n(l),f=function(e){return new Promise(function(t,n){var r=document.createElement("script");r.type="text/javascript",r.onload=t,r.onerror=n,r.async=!0,r.src=e,document.head.appendChild(r)})},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var h=function(){return p()()("video-player")},m={"1080p":"hd","720p":"hq","480p":"mq","360p":"lq","240p":"lq"},y={PLAYBACK_IS_NOT_STARTED:-1,PLAYBACK_COMPLETED:0,PLAYBACK_IN_PROGRESS:1,IS_PAUSED:2,IS_BUFFERING:3,IS_USER_PLAY_CLICK:10,IS_USER_PAUSE_CLICK:11},v=!1,b=void 0,_=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i.state={videosReady:Boolean(i.props.videos),apiReady:v,waitPlayerReadyToPlay:!1,isPlaybackInProgress:!1,hidePreview:!1,width:void 0,height:void 0},i._onPlayerReady=i._onPlayerReady.bind(i),i._onPlayerUserAction=i._onPlayerUserAction.bind(i),i._onPlayerStateChange=i._onPlayerStateChange.bind(i),i._onPlayerError=i._onPlayerError.bind(i),i._onWindowResize=i._onWindowResize.bind(i),i._onOverlayClicked=i._onOverlayClicked.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),d(t,[{key:"componentDidMount",value:function(){var e=this;b||(b=f(this.props.iframeApiURL)).catch(function(t){e.props.onError(t)}),v||b.then(function(){v=!0,e.setState({apiReady:!0})}),this.state.videosReady&&this._startKeepAspectRatioHandling(this.props.videos)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._onWindowResize),this._stopCurrentTimer(),cancelAnimationFrame(this._onResizeRequest)}},{key:"componentWillReceiveProps",value:function(e){!this.state.videosReady&&e.videos&&e.videos.length&&(this._startKeepAspectRatioHandling(e.videos),this.setState({videosReady:!0})),e.forceDestroyPlayer&&this._playerInited&&this._destroyStreamPlayer()}},{key:"componentDidUpdate",value:function(e){!this._playerInited&&this.state.apiReady&&this.state.videosReady&&this.props.initPlayer&&(this._onWindowResize(),this._initPlayer()),this._isPlayerReady&&this.props.autoplay&&!e.autoplay&&this._streamPlayer.play()}},{key:"_initPlayer",value:function(){this._playerInited=!0;var e=void 0,t=this.props.videos.find(function(e){return"adaptive"===e.dimension});e=t?t.url:this.props.videos.reduce(function(e,t){var n=m[t.dimension];return n&&!e[n]&&(e[n]=t.url),e},{}),this._currentStatTimer=null,this._statTimers={},this._setupStatTimer("watch","watch","time_watched"),this._setupStatTimer("freeze","freeze","time_freezed"),this._setupStatTimer("no_user_freeze","freeze","no_user_time_freezed"),this._isPaused=!0,this._isPlayerReady=!1,this._chunksIsNotLoaded=!0,this._streamPlayer=Ya.streamPlayer.create({element:this._videoContainer,stream:e,preview:this._getPreviewUrl(),autoplay:this.props.autoplay&&"preview"!==this.props.displayType,autoQuality:!1,size:{width:"100%",height:"100%"},handlers:Object.assign(this.props.handlers||{},{onReady:this._onPlayerReady,onUserAction:this._onPlayerUserAction,onStateChange:this._onPlayerStateChange,onError:this._onPlayerError})}),this.props.autoplay&&this._onPlayerStateChange(y.IS_USER_PLAY_CLICK)}},{key:"_getPreviewUrl",value:function(){if(this._previewUrl)return this._previewUrl;if(this.props.previewBase){var e=this.props.videos.reduce(function(e,t){var n=t.size;return n&&(!e.height||e.height<n.height)?n:e},{});return this._previewUrl=this.props.previewBase+"&size="+e.width+"x"+e.height,this._previewUrl}}},{key:"_onOverlayClicked",value:function(){"preview"===this.props.displayType&&this.setState({hidePreview:!0}),this._isPlayerReady?this._streamPlayer.play():this.setState({waitPlayerReadyToPlay:!0})}},{key:"_onPlayerReady",value:function(){this._isPlayerReady=!0,this.state.waitPlayerReadyToPlay&&(this.setState({waitPlayerReadyToPlay:!1}),this._streamPlayer.play())}},{key:"_onPlayerUserAction",value:function(e){"PLAY_BUTTON_CLICK"===e.name&&("play"===e.data.state?this._onPlayerStateChange(y.IS_USER_PLAY_CLICK):"pause"===e.data.state&&this._onPlayerStateChange(y.IS_USER_PAUSE_CLICK)),"QUALITY_CHANGE"===e.name&&this._logPlayerStatistics({event:"qualityChange",quality:e.data.newQuality,old_quality:e.data.oldQuality,auto_change:0})}},{key:"_destroyStreamPlayer",value:function(){this._stopCurrentTimer(),this._streamPlayer.destroy(),this._streamPlayer=null,this._playerInited=!1,this._isPlayerReady=!1,"preview"===this.props.displayType&&this.setState({hidePreview:!1})}},{key:"_onPlayerStateChange",value:function(e){this._startTimestamp||(this._startTimestamp=Date.now()),e===y.IS_BUFFERING&&this._logBufferEmpty(),e===y.PLAYBACK_IN_PROGRESS&&(this._chunksIsNotLoaded&&(this._logPlayerEvent("bufferFull"),this._chunksIsNotLoaded=!1),this._startStatTimer("watch")),e===y.IS_USER_PLAY_CLICK&&(this._isPaused=!1,this._logPlayerEvent(this._firstUserPlayClickWasTriggered?"resume":"start"),this._firstUserPlayClickWasTriggered&&!this._chunksIsNotLoaded||this._logBufferEmpty(),this._firstUserPlayClickWasTriggered=!0),e===y.IS_USER_PAUSE_CLICK&&(this._isPaused=!0,this._logPlayerEvent("pause"),this._startStatTimer("freeze")),e===y.PLAYBACK_COMPLETED&&this._stopCurrentTimer(),this.setState({isPlaybackInProgress:[y.PLAYBACK_IN_PROGRESS,y.IS_BUFFERING].includes(e)}),this.props.onStateChange(e)}},{key:"_logBufferEmpty",value:function(){this._chunksIsNotLoaded=!0,this._logPlayerEvent("bufferEmpty"),this._isPaused||this._startStatTimer("no_user_freeze")}},{key:"_onPlayerError",value:function(e){this._logPlayerStatistics({error:e.code,details:e.details})}},{key:"_setupStatTimer",value:function(e,t,n){this._statTimers[e]={eventName:t,paramName:n,timerId:null,interval:1,time:0,previousTickTimestamp:null}}},{key:"_stopCurrentTimer",value:function(){this._currentStatTimer&&(this._currentTimerTick(!1),clearTimeout(this._statTimers[this._currentStatTimer].timerId))}},{key:"_startStatTimer",value:function(e){this._stopCurrentTimer(),this._currentStatTimer=e,this._statTimers[this._currentStatTimer].previousTickTimestamp=Date.now(),this._currentTimerTick()}},{key:"_currentTimerTick",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this._statTimers[this._currentStatTimer],r=(Date.now()-n.previousTickTimestamp)/1e3;if(r>.01){n.time+=r;var o={event:n.eventName};o[n.paramName]=n.time,this._logPlayerStatistics(o)}n.interval=n.time>20?5:1,t&&(n.timerId=setTimeout(function(){return e._currentTimerTick()},1e3*n.interval)),n.previousTickTimestamp=Date.now()}},{key:"_logPlayerEvent",value:function(e){this._logPlayerStatistics({event:e})}},{key:"_logPlayerStatistics",value:function(e){this.props.onLog(Object.assign(this._getVideoData(),e))}},{key:"_getVideoData",value:function(){var e=Date.now(),t={stream:this.props.streamId,timestamp:e,time_from_beginning:e-this._startTimestamp};if(this._isPlayerReady){var n=this._streamPlayer.getVideoTrack();Object.assign(t,{quality:n&&n.name||"",duration:this._streamPlayer.getDuration(),time:this._streamPlayer.getCurrentTime()})}return t}},{key:"_hasOverlay",value:function(){var e=this.props.isMobile||!this.state.hidePreview;return"preview"===this.props.displayType&&!this.state.isPlaybackInProgress&&e}},{key:"_getOverlay",value:function(){if(this._hasOverlay()){var e=this.props.isMobile;return o.a.createElement("div",{className:h().e("touch-overlay"),onClick:this._onOverlayClicked},this.state.hidePreview?null:o.a.createElement("button",{className:h().e("touch-overlay-button").m({mobile:e})},o.a.createElement(c.a,{iconSize:e?"xxl":"xxxl"})))}return null}},{key:"_startKeepAspectRatioHandling",value:function(e){var t=e[0].size;this._aspectRatio=t.width/t.height,window.addEventListener("resize",this._onWindowResize),this._onWindowResize()}},{key:"_onWindowResize",value:function(){var e=this;this._node&&(this._onResizeRequest=requestAnimationFrame(function(){var t=void 0,n=void 0;if("width"===e.props.fitTo)t=(n=e._node.offsetWidth)/e._aspectRatio;else{var r=getComputedStyle(e._node).maxHeight;(n=(t=Math.max(parseInt(r,10)||0,e._node.offsetHeight))*e._aspectRatio)>e._node.offsetWidth&&(t=(n=e._node.offsetWidth)/e._aspectRatio)}e.setState({width:n,height:t})}))}},{key:"recalculateSize",value:function(){this.setState({width:null}),this._onWindowResize()}},{key:"render",value:function(){var e=this,t=void 0,n=!1;if(this.state.apiReady&&this.state.videosReady){var r={};this.state.width&&(r={width:this.state.width+"px",height:this.state.height+"px"});var i=null,a=this._getPreviewUrl();"preview"!==this.props.displayType||this.state.hidePreview?this.state.waitPlayerReadyToPlay&&(i=o.a.createElement("div",{className:h().e("spin-wrapper")},o.a.createElement(u.a,{size:"s",progress:!0,cls:h().e("spin")}))):(n=!0,a&&(i=o.a.createElement("div",{className:h().e("preview"),style:{backgroundImage:"url("+a+")"}}))),t=o.a.createElement("div",{className:h().e("container"),style:r},o.a.createElement("div",{className:h().e("player"),ref:function(t){e._videoContainer=t}}),this._getOverlay(),i,this.props.toolbar||null)}else t=this.props.error?this.props.error:o.a.createElement(u.a,{size:"s",progress:!0,cls:h().e("spin")});return o.a.createElement("div",{className:h().m({"has-overlay":this._hasOverlay(),"preview-visible":n}).mix(this.props.cls),ref:function(t){e._node=t}},t)}}]),t}();_.propTypes={cls:a.a.oneOfType([a.a.string,a.a.object]),iframeApiURL:a.a.string.isRequired,onLog:a.a.func,streamId:a.a.string,videos:a.a.arrayOf(a.a.shape({dimension:a.a.string,url:a.a.string,size:a.a.shape({width:a.a.number,height:a.a.number})})),initPlayer:a.a.bool,autoplay:a.a.bool,forceDestroyPlayer:a.a.bool,displayType:a.a.oneOf(["player","preview"]),fitTo:a.a.oneOf(["width","height"]),error:a.a.oneOfType([a.a.string,a.a.element]),toolbar:a.a.oneOfType([a.a.element,a.a.arrayOf(a.a.element)]),onStateChange:a.a.func,onError:a.a.func,isMobile:a.a.bool};var g=function(){};_.defaultProps={initPlayer:!0,autoplay:!1,displayType:"player",fitTo:"width",onStateChange:g,onError:g,onLog:g},_.PLAYER_STATE=y;var O=_,w=(n(127),n(313),O),E=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/monitoring.txt")+"/?"+function(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}(e);"function"==typeof navigator.sendBeacon?navigator.sendBeacon(t):(new Image).src=t},k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var C=function(e){return E(e,"/stats/video-player")},x=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onVideoPlayerStateChange=i._onVideoPlayerStateChange.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),k(t,[{key:"_onVideoPlayerStateChange",value:function(e){this.props.onPlaybackStateChange(e===w.PLAYER_STATE.PLAYBACK_IN_PROGRESS)}},{key:"render",value:function(){var e=this.props,t=e.resourceId,n=e.fitTo,r=e.resources,i=e.videoPlayerIframeApiUrl,a=e.toolbar,s=e.cls,u=e.displayType,c=e.autoplay,l=e.isVisible,p=e.isMobile,f=r[t],d=f.meta.defaultPreview,h=f.videoStreams||{},m=h.streamId,y=h.videos;return o.a.createElement(w,{cls:s,iframeApiURL:i,previewBase:d,streamId:m,videos:y,onLog:C,onStateChange:this._onVideoPlayerStateChange,fitTo:n,toolbar:a,displayType:u,autoplay:c&&l,forceDestroyPlayer:!l,isMobile:p})}}]),t}();x.propTypes={resourceId:a.a.string,onPlaybackStateChange:a.a.func},x.defaultProps={isVisible:!0,onPlaybackStateChange:function(){}};t.default=Object(s.b)(function(e){return{resources:e.resources,videoPlayerIframeApiUrl:e.environment.videoPlayerIframeApiUrl,isMobile:e.ua.isMobile}})(x)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(9),a=n(56),s=n(8),u=n(5),c=n(19),l=n(3),p=n(13),f=n(1),d=n.n(f),h=n(2),m=n.n(h),y=n(92),v=n(93),b=n(94),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(){return m()()("listing-type")},w={tile:o.a.createElement(b.a,null),icons:o.a.createElement(y.a,null),list:o.a.createElement(v.a,null)},E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),_(t,[{key:"_getIcons",value:function(){var e=this.props,t=e.active,n=e.onChange;return e.types.map(function(e){var r;return o.a.createElement("div",{className:O().e("icon").m((r={},g(r,e,!0),g(r,"active",e===t),r)),key:e,onClick:function(){return n(e)}},w[e])})}},{key:"render",value:function(){return o.a.createElement("div",{className:O().mix(this.props.cls)},this._getIcons())}}]),t}();E.propTypes={active:d.a.string,onChange:d.a.func,cls:d.a.oneOfType([d.a.string,d.a.object]),types:d.a.arrayOf(d.a.string)},E.defaultProps={active:"tile",onChange:function(){},types:["tile","icons","list"]};var k=E,C=(n(284),k),x=n(10),T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,x["a"]),T(t,[{key:"getContentSVG",value:function(){return o.a.createElement("g",{fill:"currentColor"},o.a.createElement("circle",{cx:"8",cy:"2",r:"2"}),o.a.createElement("circle",{cx:"8",cy:"8",r:"2"}),o.a.createElement("circle",{cx:"8",cy:"14",r:"2"}))}}]),t}(),P=n(95),j=n(105),I=n(99),R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var M=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,x["a"]),R(t,[{key:"getContentSVG",value:function(){return o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("defs",null,o.a.createElement("path",{id:"comment-with-shadow-icon-shape",d:"M16 6.39C16 3.415 12.418 1 8 1S0 3.414 0 6.39c0 1.86 1.396 3.5 3.52 4.468-.406 1.68-1.267 3.32-1.586 3.977-.044.09.035.178.134.162.965-.153 4.266-1.282 6.164-3.22C12.542 11.69 16 9.316 16 6.39"}),o.a.createElement("filter",{id:"comment-with-shadow-icon-shadow",width:"400%",height:"175%",x:"-150%",y:"-37.5%",filterUnits:"objectBoundingBox"},o.a.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),o.a.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"2"}),o.a.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}))),o.a.createElement("use",{fill:"#000",filter:"url(#comment-with-shadow-icon-shadow)",xlinkHref:"#comment-with-shadow-icon-shape"}),o.a.createElement("use",{fill:"#FFF",xlinkHref:"#comment-with-shadow-icon-shape"}))}}]),t}(),D=n(20),A=(n(311),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var L=function(){return m()()("toolbar")},N=function(e){return Object(s.g)("comment baloon",e)},z=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i.state={menu:!1},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),A(t,[{key:"componentDidUpdate",value:function(e){this.props.showCommentsInToolbar&&!e.showCommentsInToolbar&&N("show")}},{key:"render",value:function(){var e=this,t=this.props,n=t.resourceId,r=t.resourceView,i=t.showCommentsInToolbar,a=t.openPane,u=t.listingType,c=t.onListingTypeChange,f=t.isMobile,d=[l.f.VIDEO,l.f.IMAGE].includes(r),h=function(t){return function(){e.setState({menu:!1}),t&&Object(s.g)("close menu")}},m=null;return i&&(m=o.a.createElement(p.a,{size:"m",cls:L().e("button").m({comments:!0}),theme:"clear",onClick:function(){N("click"),a({type:"comments"})}},d?o.a.createElement(M,null):o.a.createElement(I.a,null))),o.a.createElement("div",{className:L().m(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({"has-comments":Boolean(m)},r,d))},m,r!==l.f.DIR||f?null:o.a.createElement(C,{cls:L().e("listing-type").mix(D.a),active:u,onChange:c}),o.a.createElement(p.a,{size:"m",cls:L().e("button").m({more:!0}),theme:"clear",onClick:function(){e.setState({menu:!e.state.menu}),Object(s.g)(e.state.menu?"close menu":"open menu")},ref:function(t){e._infoButton=t}},d?o.a.createElement(P.a,null):o.a.createElement(S,null)),o.a.createElement(j.a,{visible:this.state.menu,resourceId:n,onOutsideClick:h(!0),anchor:this._infoButton,closeMenu:h(),countMenuFn:s.g,listingType:u,onListingTypeChange:c,isDir:r===l.f.DIR}))}}]),t}();t.default=Object(i.b)(function(e){var t=e.rootResourceId,n=e.resources[t],r=e.ua.isMobile;return{resourceId:t,showCommentsInToolbar:Object(a.c)(e),resourceView:Object(c.a)(n),isMobile:r}},{openPane:u.t})(z)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(10),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["a"]),u(t,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return o.a.createElement("path",{fill:"#303131",fillRule:"nonzero",opacity:".7",d:"M20.602 17.229c-.341.755-.745 1.45-1.213 2.09-.638.87-1.16 1.474-1.562 1.809-.624.55-1.292.831-2.008.847-.514 0-1.133-.14-1.855-.424-.723-.283-1.388-.423-1.996-.423-.638 0-1.322.14-2.053.423-.733.284-1.323.432-1.774.447-.687.028-1.37-.261-2.054-.87-.435-.364-.98-.989-1.634-1.874-.7-.945-1.276-2.04-1.727-3.29C2.242 14.616 2 13.31 2 12.045c0-1.449.327-2.698.98-3.746a5.637 5.637 0 0 1 2.055-1.991 5.707 5.707 0 0 1 2.778-.752c.545 0 1.26.162 2.148.48.886.318 1.455.48 1.704.48.186 0 .818-.19 1.89-.566 1.012-.35 1.867-.494 2.568-.437 1.897.147 3.323.864 4.271 2.156-1.697.985-2.537 2.366-2.52 4.137.015 1.38.538 2.528 1.564 3.44.465.422.984.75 1.562.981-.125.349-.258.682-.398 1.003v-.001zM16.25.465c0 1.161-.412 2.246-1.233 3.25-.992 1.193-2.19 1.883-3.49 1.774a3.722 3.722 0 0 1-.027-.44c0-1.115.471-2.309 1.309-3.285.417-.494.949-.904 1.594-1.232C15.046.209 15.654.03 16.226 0c.017.155.024.31.024.465z"})}}]),t}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["a"]),l(t,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return o.a.createElement("g",{fill:"currentColor",fillRule:"evenodd",transform:"translate(0,2)"},o.a.createElement("path",{d:"M4.508.99s4.583-2.507 8.23.492L10.642 8.86c0 .035-2.505-1.353-4.54-1.275-2.036.078-3.627.818-3.627.818L4.508.99zM2.094 9.81c-.045 0 2.28-1.074 4.389-.997 2.108.078 3.423 1.152 3.763 1.39l-2.082 7.496s-1.962-1.55-3.967-1.482c-2.005.07-2.827.461-4.18.97L2.095 9.81zM11.402 10.957c0-.045 2.178 1.429 4.04 1.429 1.86 0 1.97-.072 4.226-.865.016-.005.056-.034.043-.026-.043.026-2.139 7.326-2.139 7.326s-2.352 1.096-4.485.99c-2.133-.107-3.414-1.32-3.805-1.475l2.12-7.379z"}),o.a.createElement("path",{d:"M13.87 2.264l-2.104 7.408c.184.267 2.104 1.56 4.227 1.486 2.123-.074 3.605-.865 3.93-.974l2.093-7.45c-.012.001-2.653 1.192-4.613.956a7.184 7.184 0 0 1-3.533-1.426z"}))}}]),t}(),f=n(31),d=n(18),h=n(2),m=n.n(h),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["a"]),y(t,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContent",value:function(){return o.a.createElement("span",{className:m()()("ufo-icon").e("bg-icon").m({"mobile-animated":!0,fallback:["Firefox","MSIE","Edge"].includes(this.props.browserName)})})}}]),t}(),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var _={MacOS:"mac",Windows:"win"},g=["mac","win","mobile"],O={mac:c,win:p,mobile:v},w=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._onLinkClick=i._onLinkClick.bind(i),i._onWindowResize=i._onWindowResize.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),b(t,[{key:"componentDidMount",value:function(){this._isLinkVisible()?this.props.onShow(this._getType()):(this._listenResize=!0,window.addEventListener("resize",this._onWindowResize))}},{key:"componentWillUnmount",value:function(){this._listenResize&&window.removeEventListener("resize",this._onWindowResize)}},{key:"_onWindowResize",value:function(){this._isLinkVisible()&&(this.props.onShow(this._getType()),this._listenResize=!1,window.removeEventListener("resize",this._onWindowResize))}},{key:"_isLinkVisible",value:function(){return Boolean(this._link&&0!==this._link.offsetWidth)}},{key:"_getType",value:function(){return"desktop"===this.props.type?_[this.props.OSFamily]:this.props.type}},{key:"_onLinkClick",value:function(){this.props.onClick(this._getType())}},{key:"render",value:function(){var e=this,t=this.props,n=t.url,r=t.text,i=t.tooltip,a=this._getType();if(!a)return null;var s=g.includes(a)?"software-header-product":"software-header-promo";if(a&&r){var u=this.props.iconComponent||O[a];return o.a.createElement(f.a,{text:i||"",cls:function(e){return m()()(e)}(s).m(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},a,!0)),showDelay:500},o.a.createElement(d.a,{controlAttrs:{ref:function(t){e._link=t}},theme:"dark",target:"_blank",url:n,onClick:this._onLinkClick},u?o.a.createElement(u,{browserName:this.props.browserName}):null,r))}return null}}]),t}();w.PropTypes={type:a.a.string,browserName:a.a.string},w.defaultProps={onClick:function(){return null},onShow:function(){return null},type:"desktop"};var E=w;n(188),n(377),n(84),n(15),n(378),t.default=E},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(17),u=n.n(s),c=n(14),l=n(10),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l["a"]),p(t,[{key:"getContentSVG",value:function(){return o.a.createElement("path",{fill:"currentColor",d:"M0 14h16v2H0zM0 7h16v2H0zM0 0h16v2H0z"})}}]),t}(),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l["a"]),d(t,[{key:"getContentSVG",value:function(){return o.a.createElement("path",{fill:"currentColor",d:"M16 7H3.8l5.6-5.6L8 0 0 8l8 8 1.4-1.4L3.8 9H16z"})}}]),t}(),m=n(2),y=n.n(m),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var b=function(){return y()()("burger-sidebar")},_=function(){},g=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i.state={isSidebarVisible:i.props.isVisible,isSidebarActive:i.props.isVisible},i._showSidebar=i._showSidebar.bind(i),i._hideSidebar=i._hideSidebar.bind(i),i._onOverlayTransitionEnd=i._onOverlayTransitionEnd.bind(i),i._hideOnTransitionEnd=!1,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),v(t,[{key:"componentDidMount",value:function(){this._container=document.createElement("div"),document.body.appendChild(this._container)}},{key:"componentWillUnmount",value:function(){u.a.unmountComponentAtNode(this._container),document.body.removeChild(this._container)}},{key:"componentWillReceiveProps",value:function(e){var t=e.isVisible;if(this.props.isVisible!==t&&this.state.isSidebarVisible!==t)return t?this._showSidebar():this._hideSidebar()}},{key:"componentDidUpdate",value:function(){u.a.unstable_renderSubtreeIntoContainer(this,this._getSidebar(),this._container)}},{key:"_showSidebar",value:function(){var e=this;this.state.isSidebarVisible||(this.props.onWillShow(),this.setState({isSidebarVisible:!0}),requestAnimationFrame(function(){requestAnimationFrame(function(){e.setState({isSidebarActive:!0})})}))}},{key:"_hideSidebar",value:function(){this.state.isSidebarVisible&&(this.props.onWillHide(),this.state.isSidebarVisible&&(this._hideOnTransitionEnd=!0),this.setState({isSidebarActive:!1}))}},{key:"_onOverlayTransitionEnd",value:function(){this._hideOnTransitionEnd?(this.setState({isSidebarVisible:!1}),this.props.onDidHide()):this.props.onDidShow(),this._hideOnTransitionEnd=!1}},{key:"_getSidebar",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:b().e("sidebar-overlay").m({visible:this.state.isSidebarVisible,active:this.state.isSidebarActive}),onTransitionEnd:this._onOverlayTransitionEnd,onClick:this._hideSidebar}),o.a.createElement("div",{className:b().e("sidebar").m({visible:this.state.isSidebarVisible,active:this.state.isSidebarActive})},o.a.createElement("div",{className:b().e("sidebar-head")},o.a.createElement(c.a,{theme:"clear",size:"n",cls:b().e("back-button"),onClick:this._hideSidebar},o.a.createElement(h,null)),o.a.createElement("div",{className:b().e("sidebar-logo-wrapper")},this.props.logo&&o.a.cloneElement(this.props.logo,{cls:b().e("sidebar-logo")}))),o.a.createElement("div",{className:b().e("sidebar-content")},this.props.children)))}},{key:"render",value:function(){return o.a.createElement("div",{className:b().mix(this.props.cls)},o.a.createElement(c.a,{cls:b().e("button"),size:"n",theme:"clear",onClick:this._showSidebar},o.a.createElement(f,null)),this.props.logo&&o.a.cloneElement(this.props.logo,{cls:b().e("logo")}))}}]),t}();g.propTypes={logo:a.a.node,cls:a.a.oneOfType([a.a.object,a.a.string]),isVisible:a.a.bool,onWillShow:a.a.func,onDidShow:a.a.func,onWillHide:a.a.func,onDidHide:a.a.func,onLogoLinkClick:a.a.func},g.defaultProps={logo:null,isVisible:!1,onWillShow:_,onDidShow:_,onWillHide:_,onDidHide:_,onLogoLinkClick:_};var O=g;n(375),n(13),n(191),t.default=O},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(18),u=n(2),c=n.n(u),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),l(t,[{key:"render",value:function(){var e=this.props,t=e.locale,n=e.os,r=e.link,i=e.onClick;return o.a.createElement(s.a,{cls:c()()("mobile-app-badge").m(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({locale:t},n,!0)),target:"_blank",theme:"normal",url:r,onClick:i})}}]),t}();p.propTypes={locale:a.a.oneOf(["ru","en","uk","tr"]).isRequired,os:a.a.oneOf(["android","ios","winphone"]).isRequired,link:a.a.string.isRequired,onClick:a.a.func},p.defaultProps={onClick:function(){}};var f=p,d=(n(356),n(182),f),h=n(11),m=n(8),y=(n(357),function(){return c()()("mobile-badges")});t.default=function(){return o.a.createElement("div",{className:y()},o.a.createElement(h.a,{keyset:"entities",loc:"ufo_yadisk_for_mobile"}),o.a.createElement("div",{className:y().e("badges-wrapper")},o.a.createElement(d,{locale:"ru",os:"ios",link:"https://redirect.appmetrica.yandex.com/serve/673977363113009387",onClick:function(){return Object(m.c)("badge iOS")}}),o.a.createElement(d,{locale:"ru",os:"android",link:"https://redirect.appmetrica.yandex.com/serve/169574258668806904",onClick:function(){return Object(m.c)("badge Android")}})))}},function(e,t,n){"use strict";n.r(t);n(379);var r=n(0),o=n.n(r),i=n(9),a=n(6),s=n(11),u=n(15),c=(n(380),n(1)),l=n.n(c),p=n(97),f=n(72),d=n(10),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d["a"]),h(t,[{key:"getContentSVG",value:function(){switch(this.props.type){case"en":return o.a.createElement("g",null,o.a.createElement("g",{fill:"#003671"},o.a.createElement("path",{d:"m0 0h16v12h-16z"})),o.a.createElement("path",{fill:"#fff",d:"m15.982.01h-1.945l-3.995 2.985v-2.995h-4.083v3.01l-4.01-2.998h-1.929v1.456l3.372 2.536h-3.372v3.996h3.372l-3.372 2.535v1.457h1.929l4.01-2.998v3.01h4.083v-2.995l3.995 2.985h1.945v-1.457l-3.388-2.535h3.388v-3.996h-3.388l3.388-2.536z"}),o.a.createElement("g",{fill:"#dc2f34"},o.a.createElement("path",{d:"m15.418 11.99l-5.314-3.992h1.845l4.03 3.04v.952z"}),o.a.createElement("path",{d:"m.582 11.99l5.314-3.992h-1.845l-4.03 3.04v.952z"}),o.a.createElement("path",{d:"m5.896 4l-5.339-3.995h-.539v.954l4.052 3.041z"}),o.a.createElement("path",{d:"m10.1 3.995l5.338-3.995h.54v.954l-4.052 3.041z"}),o.a.createElement("path",{d:"m15.982 4.958h-6.94v-4.957h-2.125v4.957h-6.899v2.126h6.899v4.916h2.125v-4.916h6.94z"})));case"ru":return o.a.createElement("g",null,o.a.createElement("path",{fill:"#fff",d:"M0 0h16v4H0z"}),o.a.createElement("path",{fill:"#e03a3e",d:"M0 8h16v4H0z"}),o.a.createElement("path",{fill:"#00539f",d:"M0 4h16v4H0z"}));case"tr":return o.a.createElement("g",null,o.a.createElement("path",{fill:"#e62126",d:"m0 0h16v12h-16z"}),o.a.createElement("g",null,o.a.createElement("path",{fill:"#fff",d:"m7.856 7.565c-.524.835-1.457 1.389-2.518 1.389-1.638 0-2.966-1.322-2.966-2.953 0-1.632 1.328-2.954 2.966-2.954 1.061 0 1.993.554 2.518 1.389-.413-.427-.992-.693-1.634-.693-1.252 0-2.268 1.01-2.268 2.258 0 1.248 1.016 2.258 2.268 2.258.642.001 1.221-.266 1.634-.693"}),o.a.createElement("path",{fill:"#fff",d:"m7.978 4.966h1.913v1.912h-1.913z",transform:"matrix(.70711-.70711.70711.70711-1.57 8.05)"})));case"uk":return o.a.createElement("g",null,o.a.createElement("path",{fill:"#fff200",d:"m0 6h16v6h-16z"}),o.a.createElement("path",{fill:"#007cc3",d:"m0 0h16v6h-16z"}));default:return null}}}]),t}();m.propTypes={type:l.a.oneOf(["en","ru","tr","uk"])};var y=m,v=n(2),b=n.n(v),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var g=function(){return b()()("lang-select")},O=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i.state={popupVisible:!1},i._togglePopup=i._togglePopup.bind(i),i._closePopup=i._closePopup.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),_(t,[{key:"_togglePopup",value:function(){this.state.popupVisible||this.props.onOpen(),this.setState({popupVisible:!this.state.popupVisible})}},{key:"_closePopup",value:function(){this.setState({popupVisible:!1})}},{key:"_getItems",value:function(){var e=this;return this.props.langs.map(function(t){var n=t.name,r=t.url,i=t.onClick;return e.props.current!==n&&o.a.createElement(f.a.Item,{key:n,type:"link",url:r,onClick:i},o.a.createElement(y,{type:n}),n)}).filter(Boolean)}},{key:"render",value:function(){var e=this,t=this._getItems();return o.a.createElement("span",{className:g()},o.a.createElement(u.a,{disabled:!t.length||this.props.disabled,ref:function(t){e._toggler=t},onClick:this._togglePopup,onClose:this._closePopup,pseudo:!0,theme:"ghost"},o.a.createElement(y,{type:this.props.current}),this.props.current),o.a.createElement(p.a,{anchor:this._toggler,autoclosable:!0,directions:["top-center","top-left"],onOutsideClick:this._closePopup,target:"anchor",theme:"normal",visible:this.state.popupVisible},o.a.createElement(f.a,{cls:g().e("menu"),size:"s",theme:"normal",type:"navigation",width:"max"},t)))}}]),t}();O.propTypes={current:l.a.string,langs:l.a.arrayOf(l.a.shape({name:l.a.string,url:l.a.string})),onOpen:l.a.func},O.defaultProps={current:"ru",langs:[{name:"ru",url:""}],onOpen:function(){}};var w=O,E=n(24),k=n(8),C=n(25),x=n.n(C),T=function(){return b()()("footer")};t.default=Object(i.b)(function(e){var t=e.user,n=t.loading,r=t.b2b,o=e.environment,i=o.currentLang,a=o.availableLangs,s=o.externalSk;return{checkingAuth:n,currentLang:i,availableLangs:a,services:e.services,url:e.url,b2b:r,sk:s}})(function(e){var t=e.checkingAuth,n=e.currentLang,r=e.availableLangs,i=e.services,c=e.url,l=e.sk,p=e.b2b,f=Object(a.i18n)(n,"entities","ufo_yandex");return o.a.createElement("footer",{className:T()},o.a.createElement("div",{className:T().e("links")},function(e,t,n){return[{text:Object(a.i18n)(t,"view-footer","ufo_footer__link_help"),url:e.support+(n?"/connect-disk/":"/disk/"),onClick:function(){return Object(k.c)("help")}},{text:Object(a.i18n)(t,"view-footer","ufo_footer__link_abuse"),url:e.support+"/abuse/troubleshooting/disk/list.html",onClick:function(){return Object(k.c)("abuse")}}].map(function(e,t){var n=e.text,r=e.url,i=e.onClick;return o.a.createElement(u.a,{key:t,cls:T().e("link"),url:r,target:"_blank",theme:"ghost",onClick:i},n)})}(i,n,p)),o.a.createElement("div",{className:T().e("copyright")},o.a.createElement(s.a,{keyset:"entities",loc:"ufo_copyright"},o.a.createElement("span",{"data-ref":"current-copyright-year"},(new Date).getFullYear()),o.a.createElement(u.a,{"data-ref":"portal-link",url:i.www,theme:"ghost"},f)),o.a.createElement(w,{langs:function(e,t,n,r){return e.map(function(e){return{name:e,url:r?Object(E.b)({host:Object(E.c)(t.www),pathname:"/portal/set/lang/",query:{intl:e,retpath:Object(E.b)(Object.assign({},n,{host:Object(E.c)(t.disk),pathname:"/auth/retpath"+n.pathname})),sk:r}}):null,onClick:function(){x.a.set("lang",e,{expires:30}),r||location.reload()}}})}(r,i,c,l),current:n,onOpen:function(){return Object(k.c)("language")},disabled:t})))})},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(2),u=n.n(s),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var l=function(){return u()()("logo")},p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),c(t,[{key:"render",value:function(){var e=this;switch(this.props.theme){case"light":this.firstLetterColor="#FFF",this.lettersColor="#FFF";break;case"dark":this.firstLetterColor="#000",this.lettersColor="#000";break;default:this.firstLetterColor="#F00",this.lettersColor="#000"}var t=this.getSize(),n=t.width,r=t.height,i=t.serviceWidth,a=i?{left:n-i+"px"}:{};return o.a.createElement("span",{className:l().mix(this.props.cls)},o.a.createElement("a",{className:l().e("link").m({yandex:!0}),onClick:function(t){e.props.onClickLink("yandex",t)},href:this.props.logoUrl,rel:"noopener noreferrer"}),i&&o.a.createElement("a",{className:l().e("link").m({service:!0}),onClick:function(t){e.props.onClickLink("service",t)},href:this.props.serviceUrl,style:a}),o.a.createElement("svg",{width:n,height:r,className:l().e("svg")},this.getContent()),this.props.nda?o.a.createElement("svg",{width:"19",height:"11",viewBox:"0 0 19 11",className:l().e("nda")},o.a.createElement("path",{d:"M3.687 7.59c.07.19.151.452.246.787l.276.983h.06c0-.21-.003-.425-.008-.645l-.015-.63c-.005-.2-.007-.385-.007-.555V0H5v10.725H3.94l-2.656-7.83A74.412 74.412 0 0 1 .76 1.14H.7a36.157 36.157 0 0 1 .06 1.98v7.605H0V0h1.104l2.583 7.59zM7.125 0h1.26c.55 0 1.062.082 1.537.247.476.166.89.44 1.245.825.356.386.635.9.84 1.546.206.645.308 1.447.308 2.407 0 .93-.097 1.75-.293 2.46-.195.71-.472 1.305-.832 1.785s-.792.842-1.298 1.088a3.78 3.78 0 0 1-1.672.367H7.125V0zm.87.735V9.99h.24c.48 0 .915-.105 1.305-.315.39-.21.725-.522 1.005-.938.28-.415.497-.932.652-1.552.156-.62.233-1.34.233-2.16 0-.83-.08-1.52-.24-2.07-.16-.55-.377-.99-.653-1.32A2.257 2.257 0 0 0 9.57.937 3.43 3.43 0 0 0 8.385.736h-.39zM14.9 6.78h2.175l-.93-4.425a16.046 16.046 0 0 1-.15-.975h-.03a13.193 13.193 0 0 1-.15.96L14.9 6.78zm2.325.735H14.75l-.66 3.21h-.78L15.59 0h.9l2.265 10.725H17.9l-.675-3.21z"})):null)}}]),t}();p.propTypes={theme:a.a.string,logoUrl:a.a.string,serviceUrl:a.a.string,onClickLink:a.a.func},p.defaultProps={logoUrl:"//yandex.ru",serviceUrl:"/",onClickLink:function(){}};var f=p,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f),d(t,[{key:"getSize",value:function(){return{width:121,height:30,serviceWidth:52}}},{key:"getContent",value:function(){return o.a.createElement("g",null,o.a.createElement("path",{fill:this.lettersColor,d:"M83.625 23.7h-7.07c.856-1.046 1.364-3.297 1.65-6.688.253-3.266.41-7.64.506-13.378h4.915V23.7h-.001zm1.902 5.072h1.236V23.7H85.21V2.334h-7.925c-.095 6.31-.19 11.317-.508 14.678-.317 3.233-.855 5.77-1.965 6.688h-.666v5.072h1.237L75.605 25h9.7l.222 3.772zM96.495 25h1.426V9.023h-1.298l-5.2 11.222c-.316.697-.633 1.395-.855 2.124h-.095c.063-.7.127-1.396.127-2.252V9.023h-1.396V25h1.268l5.2-11.254a14.38 14.38 0 0 0 .855-2.06h.095a21.851 21.851 0 0 0-.127 2.187V25zm9.478-.983c-2.472 0-3.582-2.6-3.582-6.974 0-4.5 1.142-7.07 3.583-7.07 1.363 0 2.378.825 3.075 1.808l.412-1.584c-.697-.856-1.838-1.49-3.487-1.49-3.265 0-5.072 3.075-5.072 8.337 0 5.2 1.84 8.274 5.04 8.274 2.506 0 3.68-1.775 3.68-1.775l-.477-1.237s-1.11 1.712-3.17 1.712l-.002-.001zm7.545-7.29L119.065 25h1.65l-5.644-8.56 5.263-7.417h-1.458l-5.357 7.513V9.023h-1.49V25h1.49v-8.274l-.001.001zM34.997 22.97V9.024l-7.26-.026v1.363c0 4.248-.316 9.22-1.775 12.61h-1.045v5.036H27.2V25h6.846v3.006h2.22V22.97h-1.27.001zm11.444-.95c-.633.444-1.743 1.078-3.138 1.078-1.965 0-2.948-1.57-2.948-5.184h6.657V16.55c0-5.42-1.774-7.75-4.437-7.75-3.392 0-4.818 3.742-4.818 8.877 0 4.914 2.03 7.545 5.325 7.545 1.585 0 2.917-.507 3.93-1.3l-.57-1.902h-.001zm-25.415-6h-3.523V9.034H15.03V25.01h2.472v-6.96h3.523v6.96h2.44V9.034h-2.44v6.987l.001-.001zM58.9 25l-4.534-8.464 3.962-7.513h-2.504l-3.836 7.386V9.022h-2.473V25h2.473v-7.957L56.204 25H58.9zm5.8.222c1.458 0 2.472-.476 3.328-1.205l-.57-1.838c-.57.506-1.49.98-2.695.98-1.997 0-2.948-2.28-2.948-6.275 0-4.026 1.268-6.023 3.043-6.023 1.015 0 1.966.54 2.63 1.11l.35-2.347c-.697-.443-1.522-.824-2.948-.824-3.74 0-5.674 3.203-5.674 8.212 0 5.452 2.06 8.21 5.484 8.21zm-32.144-2.25h-4.248c1.332-3.393 1.49-8.306 1.49-11.666v-.286h2.758v11.952zm11.834-8.886c.062.567.09 1.198.09 1.874h-4.09c.16-2.853.662-5.13 2.183-5.13 1.073 0 1.626 1.536 1.817 3.256z"}),o.a.createElement("path",{fill:this.firstLetterColor,d:"M9.547 25.006h2.44V2H8.343C4.761 2 1.728 4.377 1.728 9.132c0 3.39 1.352 5.572 3.35 6.586L.83 25.006h2.82l3.868-8.685h2.03v8.686l-.001-.001zM8.27 14.303c-2.125 0-3.864-1.357-3.864-5.003 0-.214.006-.422.018-.623.198-3.34 1.99-4.704 3.845-4.704h1.3v10.33h-1.3.001z"}))}}]),t}();t.default=h},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(18),u=n(2),c=n.n(u),l=n(58),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var f=function(){return c()()("icons-services-menu")},d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),p(t,[{key:"_getItems",value:function(){var e=this,t=void 0;t=this.props.items?this.props.items.map(function(t){return e._getItem(t.id,t)}):(l.a[this.props.tld]||l.a.ru).burgerServices.filter(function(t){return Boolean(e.props.services[t])}).map(function(t){return e._getItem(t,e.props.services[t])});for(var n=[],r=0;r<3;r++)n.push(o.a.createElement("span",{key:r,className:f().e("service-link").m({dummy:!0})}));return t.concat(n)}},{key:"_getItem",value:function(e,t){var n={className:f().e("service-icon")};return t.icon?(n.style={backgroundImage:"url("+t.icon+")"},this.props.nonce&&(n.nonce=this.props.nonce)):n.className=n.className.m({type:e}),o.a.createElement(s.a,{cls:f().e("service-link"),key:e,url:t.url,theme:"clear"},o.a.createElement("span",n),o.a.createElement("span",{className:f().e("service-title")},t.text))}},{key:"render",value:function(){return o.a.createElement("div",{className:f().m({"fit-to-height":this.props.fitToHeight}).mix(this.props.cls)},o.a.createElement("div",{className:f().e("items-wrap")},o.a.createElement("div",{className:f().e("items")},this._getItems())),o.a.createElement("div",{className:f().e("all-services-link-wrapper")},o.a.createElement(s.a,{cls:f().e("all-services-link"),theme:"dark",url:this.props.allServicesLink},this.props.allServicesText)))}}]),t}();d.propTypes={tld:a.a.string.isRequired,fitToHeight:a.a.bool,allServicesText:a.a.string,allServicesLink:a.a.string,services:a.a.object,items:a.a.array,nonce:a.a.string,cls:a.a.oneOfType([a.a.object,a.a.string])},d.defaultProps={fitToHeight:!1,services:{},nonce:""};var h=d;n(376),n(15),t.default=h}]);